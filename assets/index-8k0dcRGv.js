(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function wA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},po={};var P_;function RA(){if(P_)return po;P_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:u}}return po.Fragment=t,po.jsx=i,po.jsxs=i,po}var U_;function IA(){return U_||(U_=1,Pd.exports=RA()),Pd.exports}var P=IA(),Ud={exports:{}},Et={};var L_;function CA(){if(L_)return Et;L_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function B(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function it(O,Y,tt){this.props=O,this.context=Y,this.refs=G,this.updater=tt||Z}it.prototype.isReactComponent={},it.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},it.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=it.prototype;function ct(O,Y,tt){this.props=O,this.context=Y,this.refs=G,this.updater=tt||Z}var _t=ct.prototype=new ut;_t.constructor=ct,q(_t,it.prototype),_t.isPureReactComponent=!0;var $t=Array.isArray;function Nt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Y,tt){var at=tt.ref;return{$$typeof:s,type:O,key:Y,ref:at!==void 0?at:null,props:tt}}function x(O,Y){return I(O.type,Y,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Y[tt]})}var C=/\/+/g;function Ae(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function ke(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Nt,Nt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,Y,tt,at,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case s:case t:Mt=!0;break;case A:return Mt=O._init,Q(Mt(O._payload),Y,tt,at,yt)}}if(Mt)return yt=yt(O),Mt=at===""?"."+Ae(O,0):at,$t(yt)?(tt="",Mt!=null&&(tt=Mt.replace(C,"$&/")+"/"),Q(yt,Y,tt,"",function(Jn){return Jn})):yt!=null&&(V(yt)&&(yt=x(yt,tt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(C,"$&/")+"/")+Mt)),Y.push(yt)),1;Mt=0;var Pe=at===""?".":at+":";if($t(O))for(var re=0;re<O.length;re++)at=O[re],St=Pe+Ae(at,re),Mt+=Q(at,Y,tt,St,yt);else if(re=B(O),typeof re=="function")for(O=re.call(O),re=0;!(at=O.next()).done;)at=at.value,St=Pe+Ae(at,re++),Mt+=Q(at,Y,tt,St,yt);else if(St==="object"){if(typeof O.then=="function")return Q(ke(O),Y,tt,at,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function nt(O,Y,tt){if(O==null)return O;var at=[],yt=0;return Q(O,at,"","",function(St){return Y.call(tt,St,yt++)}),at}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:nt,forEach:function(O,Y,tt){nt(O,function(){Y.apply(this,arguments)},tt)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=b,Et.Children=qt,Et.Component=it,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=ct,Et.StrictMode=r,Et.Suspense=g,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Y,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=q({},O.props),yt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(yt=""+Y.key),Y)!S.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(at[St]=Y[St]);var St=arguments.length-2;if(St===1)at.children=tt;else if(1<St){for(var Mt=Array(St),Pe=0;Pe<St;Pe++)Mt[Pe]=arguments[Pe+2];at.children=Mt}return I(O.type,yt,at)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Et.createElement=function(O,Y,tt){var at,yt={},St=null;if(Y!=null)for(at in Y.key!==void 0&&(St=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=Y[at]);var Mt=arguments.length-2;if(Mt===1)yt.children=tt;else if(1<Mt){for(var Pe=Array(Mt),re=0;re<Mt;re++)Pe[re]=arguments[re+2];yt.children=Pe}if(O&&O.defaultProps)for(at in Mt=O.defaultProps,Mt)yt[at]===void 0&&(yt[at]=Mt[at]);return I(O,St,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:p,render:O}},Et.isValidElement=V,Et.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ft}},Et.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Et.startTransition=function(O){var Y=N.T,tt={};N.T=tt;try{var at=O(),yt=N.S;yt!==null&&yt(tt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Nt,Ut)}catch(St){Ut(St)}finally{Y!==null&&tt.types!==null&&(Y.types=tt.types),N.T=Y}},Et.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Et.use=function(O){return N.H.use(O)},Et.useActionState=function(O,Y,tt){return N.H.useActionState(O,Y,tt)},Et.useCallback=function(O,Y){return N.H.useCallback(O,Y)},Et.useContext=function(O){return N.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},Et.useEffect=function(O,Y){return N.H.useEffect(O,Y)},Et.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Et.useId=function(){return N.H.useId()},Et.useImperativeHandle=function(O,Y,tt){return N.H.useImperativeHandle(O,Y,tt)},Et.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},Et.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},Et.useMemo=function(O,Y){return N.H.useMemo(O,Y)},Et.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},Et.useReducer=function(O,Y,tt){return N.H.useReducer(O,Y,tt)},Et.useRef=function(O){return N.H.useRef(O)},Et.useState=function(O){return N.H.useState(O)},Et.useSyncExternalStore=function(O,Y,tt){return N.H.useSyncExternalStore(O,Y,tt)},Et.useTransition=function(){return N.H.useTransition()},Et.version="19.2.0",Et}var z_;function Rm(){return z_||(z_=1,Ud.exports=CA()),Ud.exports}var Zt=Rm();const NA=wA(Zt);var Ld={exports:{}},go={},zd={exports:{}},jd={};var j_;function DA(){return j_||(j_=1,(function(s){function t(Q,nt){var ft=Q.length;Q.push(nt);t:for(;0<ft;){var Ut=ft-1>>>1,qt=Q[Ut];if(0<o(qt,nt))Q[Ut]=nt,Q[ft]=qt,ft=Ut;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var nt=Q[0],ft=Q.pop();if(ft!==nt){Q[0]=ft;t:for(var Ut=0,qt=Q.length,O=qt>>>1;Ut<O;){var Y=2*(Ut+1)-1,tt=Q[Y],at=Y+1,yt=Q[at];if(0>o(tt,ft))at<qt&&0>o(yt,tt)?(Q[Ut]=yt,Q[at]=ft,Ut=at):(Q[Ut]=tt,Q[Y]=ft,Ut=Y);else if(at<qt&&0>o(yt,ft))Q[Ut]=yt,Q[at]=ft,Ut=at;else break t}}return nt}function o(Q,nt){var ft=Q.sortIndex-nt.sortIndex;return ft!==0?ft:Q.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],A=1,b=null,w=3,B=!1,Z=!1,q=!1,G=!1,it=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function _t(Q){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=Q)r(_),nt.sortIndex=nt.expirationTime,t(g,nt);else break;nt=i(_)}}function $t(Q){if(q=!1,_t(Q),!Z)if(i(g)!==null)Z=!0,Nt||(Nt=!0,k());else{var nt=i(_);nt!==null&&ke($t,nt.startTime-Q)}}var Nt=!1,N=-1,S=5,I=-1;function x(){return G?!0:!(s.unstable_now()-I<S)}function V(){if(G=!1,Nt){var Q=s.unstable_now();I=Q;var nt=!0;try{t:{Z=!1,q&&(q=!1,ut(N),N=-1),B=!0;var ft=w;try{e:{for(_t(Q),b=i(g);b!==null&&!(b.expirationTime>Q&&x());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,w=b.priorityLevel;var qt=Ut(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof qt=="function"){b.callback=qt,_t(Q),nt=!0;break e}b===i(g)&&r(g),_t(Q)}else r(g);b=i(g)}if(b!==null)nt=!0;else{var O=i(_);O!==null&&ke($t,O.startTime-Q),nt=!1}}break t}finally{b=null,w=ft,B=!1}nt=void 0}}finally{nt?k():Nt=!1}}}var k;if(typeof ct=="function")k=function(){ct(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ae=C.port2;C.port1.onmessage=V,k=function(){Ae.postMessage(null)}}else k=function(){it(V,0)};function ke(Q,nt){N=it(function(){Q(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var nt=3;break;default:nt=w}var ft=w;w=nt;try{return Q()}finally{w=ft}},s.unstable_requestPaint=function(){G=!0},s.unstable_runWithPriority=function(Q,nt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=w;w=Q;try{return nt()}finally{w=ft}},s.unstable_scheduleCallback=function(Q,nt,ft){var Ut=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ut+ft:Ut):ft=Ut,Q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ft+qt,Q={id:A++,callback:nt,priorityLevel:Q,startTime:ft,expirationTime:qt,sortIndex:-1},ft>Ut?(Q.sortIndex=ft,t(_,Q),i(g)===null&&Q===i(_)&&(q?(ut(N),N=-1):q=!0,ke($t,ft-Ut))):(Q.sortIndex=qt,t(g,Q),Z||B||(Z=!0,Nt||(Nt=!0,k()))),Q},s.unstable_shouldYield=x,s.unstable_wrapCallback=function(Q){var nt=w;return function(){var ft=w;w=nt;try{return Q.apply(this,arguments)}finally{w=ft}}}})(jd)),jd}var B_;function OA(){return B_||(B_=1,zd.exports=DA()),zd.exports}var Bd={exports:{}},Xe={};var q_;function xA(){if(q_)return Xe;q_=1;var s=Rm();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(g,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(g,_,null,A)},Xe.flushSync=function(g){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=A,r.d.f()}},Xe.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},Xe.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Xe.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:B}):A==="script"&&r.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},Xe.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);r.d.L(g,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(g,_){if(typeof g=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},Xe.requestFormReset=function(g){r.d.r(g)},Xe.unstable_batchedUpdates=function(g,_){return g(_)},Xe.useFormState=function(g,_,A){return d.H.useFormState(g,_,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.0",Xe}var H_;function VA(){if(H_)return Bd.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bd.exports=xA(),Bd.exports}var F_;function MA(){if(F_)return go;F_=1;var s=OA(),t=Rm(),i=VA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===l)return g(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,l=f;break}if(E===l){y=!0,l=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=h;break}if(E===l){y=!0,l=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case it:return"Profiler";case G:return"StrictMode";case $t:return"Suspense";case Nt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ct:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case _t:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Ae(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ae(e(n))}catch{}}return null}var ke=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ut=[],qt=-1;function O(e){return{current:e}}function Y(e){0>qt||(e.current=Ut[qt],Ut[qt]=null,qt--)}function tt(e,n){qt++,Ut[qt]=e.current,e.current=n}var at=O(null),yt=O(null),St=O(null),Mt=O(null);function Pe(e,n){switch(tt(St,n),tt(yt,e),tt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=a_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),tt(at,e)}function re(){Y(at),Y(yt),Y(St)}function Jn(e){e.memoizedState!==null&&tt(Mt,e);var n=at.current,a=a_(n,e.type);n!==a&&(tt(yt,e),tt(at,a))}function Ei(e){yt.current===e&&(Y(at),Y(yt)),Mt.current===e&&(Y(Mt),co._currentValue=ft)}var dr,ta;function Bn(e){if(dr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);dr=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dr+e+ta}var mr=!1;function ea(e,n){if(!e||mr)return"";mr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var j=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){j=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){j=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var K=`
`+R[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{mr=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Bn(a):""}function xh(e,n){switch(e.tag){case 26:case 27:case 5:return Bn(e.type);case 16:return Bn("Lazy");case 13:return e.child!==n&&n!==null?Bn("Suspense Fallback"):Bn("Suspense");case 19:return Bn("SuspenseList");case 0:case 15:return ea(e.type,!1);case 11:return ea(e.type.render,!1);case 1:return ea(e.type,!0);case 31:return Bn("Activity");default:return""}}function $o(e){try{var n="",a=null;do n+=xh(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var na=Object.prototype.hasOwnProperty,pr=s.unstable_scheduleCallback,ia=s.unstable_cancelCallback,Vh=s.unstable_shouldYield,dl=s.unstable_requestPaint,Ue=s.unstable_now,Wo=s.unstable_getCurrentPriorityLevel,be=s.unstable_ImmediatePriority,Ce=s.unstable_UserBlockingPriority,Ti=s.unstable_NormalPriority,tu=s.unstable_LowPriority,ml=s.unstable_IdlePriority,Mh=s.log,gr=s.unstable_setDisableYieldValue,es=null,Qe=null;function Cn(e){if(typeof Mh=="function"&&gr(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(es,e)}catch{}}var tn=Math.clz32?Math.clz32:eu,kh=Math.log,pl=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(kh(e)/pl|0)|0}var yr=256,$n=262144,ns=4194304;function qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Nn(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=qn(l):(y&=E,y!==0?h=qn(y):a||(a=E&~e,a!==0&&(h=qn(a))))):(E=l&~f,E!==0?h=qn(E):y!==0?h=qn(y):a||(a=l&~e,a!==0&&(h=qn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function is(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function sa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var e=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),e}function Ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,n,a,l,h,f){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(a=y&~a;0<a;){var K=31-tn(a),J=1<<K;E[K]=0,R[K]=-1;var j=z[K];if(j!==null)for(z[K]=null,K=0;K<j.length;K++){var H=j[K];H!==null&&(H.lane&=-536870913)}a&=~J}l!==0&&yl(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function yl(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-tn(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function rs(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-tn(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function as(e,n){var a=n&-n;return a=(a&42)!==0?1:_l(a),(a&(e.suspendedLanes|n))!==0?0:a}function _l(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function nu(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Wn=Math.random().toString(36).slice(2),le="__reactFiber$"+Wn,ze="__reactProps$"+Wn,ti="__reactContainer$"+Wn,ls="__reactEvents$"+Wn,ei="__reactListeners$"+Wn,iu="__reactHandles$"+Wn,El="__reactResources$"+Wn,Si="__reactMarker$"+Wn;function _r(e){delete e[le],delete e[ze],delete e[ls],delete e[ei],delete e[iu]}function wi(e){var n=e[le];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ti]||a[le]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=d_(e);e!==null;){if(a=e[le])return a;e=d_(e)}return n}e=a,a=e.parentNode}return null}function Ri(e){if(e=e[le]||e[ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Hn(e){var n=e[El];return n||(n=e[El]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(e){e[Si]=!0}var ra=new Set,os={};function en(e,n){ni(e,n),ni(e+"Capture",n)}function ni(e,n){for(os[e]=n,e=0;e<n.length;e++)ra.add(n[e])}var Ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},Al={};function su(e){return na.call(Al,e)?!0:na.call(Tl,e)?!1:Ph.test(e)?Al[e]=!0:(Tl[e]=!0,!1)}function us(e,n,a){if(su(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function cs(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Dn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ru(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uh(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function aa(e){if(!e._valueTracker){var n=ru(e)?"checked":"value";e._valueTracker=Uh(e,n,""+e[n])}}function bl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=ru(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function la(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ii=/[\n"\\]/g;function oe(e){return e.replace(Ii,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hs(e,n,a,l,h,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?oa(e,y,nn(n)):a!=null?oa(e,y,nn(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function Er(e,n,a,l,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){aa(e);return}a=a!=null?""+nn(a):"",n=n!=null?""+nn(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),aa(e)}function oa(e,n,a){n==="number"&&la(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Lt(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+nn(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Tr(e,n,a){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+nn(a):""}function fs(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ke(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=nn(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),aa(e)}function On(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Lh.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function au(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Sl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(e,f,n[f])}function wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ii(e){return jh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ne(){}var ua=null;function ca(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,yn=null;function lu(e){var n=Ri(e);if(n&&(e=n.stateNode)){var a=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(hs(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+oe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[ze]||null;if(!h)throw Error(r(90));hs(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&bl(l)}break t;case"textarea":Tr(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Lt(e,!!a.multiple,n,!1)}}}var Rl=!1;function ou(e,n,a){if(Rl)return e(n,a);Rl=!0;try{var l=e(n);return l}finally{if(Rl=!1,(Ci!==null||yn!==null)&&(sc(),Ci&&(n=Ci,e=yn,yn=Ci=null,lu(n),e)))for(n=0;n<e.length;n++)lu(e[n])}}function ln(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(Fn)try{var si={};Object.defineProperty(si,"passive",{get:function(){Il=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{Il=!1}var _n=null,ha=null,ri=null;function ds(){if(ri)return ri;var e,n=ha,a=n.length,l,h="value"in _n?_n.value:_n.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(l=1;l<=y&&n[a-l]===h[f-l];l++);return ri=h.slice(e,1<l?1-l:void 0)}function Ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function Wt(){return!1}function Ye(e){function n(a,l,h,f,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ms:Wt,this.isPropagationStopped=Wt,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},br=Ye(Ni),ps=b({},Ni,{view:0,detail:0}),uu=Ye(ps),gs,fa,sn,Sr=b({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&e.type==="mousemove"?(gs=e.screenX-sn.screenX,fa=e.screenY-sn.screenY):fa=gs=0,sn=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),cu=Ye(Sr),wr=b({},Sr,{dataTransfer:0}),hu=Ye(wr),Cl=b({},ps,{relatedTarget:0}),ys=Ye(Cl),fu=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),da=Ye(fu),Bh=b({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=Ye(Bh),Rr=b({},Ni,{data:0}),Nl=Ye(Rr),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ol={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ol[e])?!!n[e]:!1}function _s(){return pu}var gu=b({},ps,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yu=Ye(gu),Di=b({},Sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xl=Ye(Di),_u=b({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),vu=Ye(_u),Eu=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),ma=Ye(Eu),rn=b({},Sr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tu=Ye(rn),Au=b({},Ni,{newState:0,oldState:0}),vs=Ye(Au),c=[9,13,27,32],m=Fn&&"CompositionEvent"in window,v=null;Fn&&"documentMode"in document&&(v=document.documentMode);var T=Fn&&"TextEvent"in window&&!v,U=Fn&&(!m||v&&8<v&&11>=v),F=" ",et=!1;function Ht(e,n){switch(e){case"keyup":return c.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wt=!1;function De(e,n){switch(e){case"compositionend":return pe(n);case"keypress":return n.which!==32?null:(et=!0,F);case"textInput":return e=n.data,e===F&&et?null:e;default:return null}}function Oe(e,n){if(wt)return e==="compositionend"||!m&&Ht(e,n)?(e=ds(),ri=ha=_n=null,wt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return U&&n.locale!=="ko"?null:n.data;default:return null}}var Es={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function on(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Es[e.type]:n==="textarea"}function Ir(e,n,a,l){Ci?yn?yn.push(l):yn=[l]:Ci=l,n=hc(n,"onChange"),0<n.length&&(a=new br("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Oi=null,Vl=null;function $T(e){Wy(e,0)}function bu(e){var n=vr(e);if(bl(n))return e}function _p(e,n){if(e==="change")return n}var vp=!1;if(Fn){var qh;if(Fn){var Hh="oninput"in document;if(!Hh){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Hh=typeof Ep.oninput=="function"}qh=Hh}else qh=!1;vp=qh&&(!document.documentMode||9<document.documentMode)}function Tp(){Oi&&(Oi.detachEvent("onpropertychange",Ap),Vl=Oi=null)}function Ap(e){if(e.propertyName==="value"&&bu(Vl)){var n=[];Ir(n,Vl,e,ca(e)),ou($T,n)}}function WT(e,n,a){e==="focusin"?(Tp(),Oi=n,Vl=a,Oi.attachEvent("onpropertychange",Ap)):e==="focusout"&&Tp()}function t1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Vl)}function e1(e,n){if(e==="click")return bu(n)}function n1(e,n){if(e==="input"||e==="change")return bu(n)}function i1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vn=typeof Object.is=="function"?Object.is:i1;function Ml(e,n){if(vn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!na.call(n,h)||!vn(e[h],n[h]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sp(e,n){var a=bp(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=bp(a)}}function wp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?wp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Rp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=la(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=la(e.document)}return n}function Fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var s1=Fn&&"documentMode"in document&&11>=document.documentMode,pa=null,Gh=null,kl=null,Kh=!1;function Ip(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||pa==null||pa!==la(l)||(l=pa,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Ml(kl,l)||(kl=l,l=hc(Gh,"onSelect"),0<l.length&&(n=new br("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=pa)))}function Cr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ga={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Qh={},Cp={};Fn&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Nr(e){if(Qh[e])return Qh[e];if(!ga[e])return e;var n=ga[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cp)return Qh[e]=n[a];return e}var Np=Nr("animationend"),Dp=Nr("animationiteration"),Op=Nr("animationstart"),r1=Nr("transitionrun"),a1=Nr("transitionstart"),l1=Nr("transitioncancel"),xp=Nr("transitionend"),Vp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Gn(e,n){Vp.set(e,n),en(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],ya=0,Xh=0;function wu(){for(var e=ya,n=Xh=ya=0;n<e;){var a=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Mp(a,h,f)}}function Ru(e,n,a,l){xn[ya++]=e,xn[ya++]=n,xn[ya++]=a,xn[ya++]=l,Xh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Zh(e,n,a,l){return Ru(e,n,a,l),Iu(e)}function Dr(e,n){return Ru(e,null,null,n),Iu(e)}function Mp(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-tn(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Iu(e){if(50<io)throw io=0,ad=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function o1(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,a,l){return new o1(e,n,a,l)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var a=e.alternate;return a===null?(a=En(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,a,l,h,f){var y=0;if(l=e,typeof e=="function")Jh(e)&&(y=1);else if(typeof e=="string")y=dA(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=En(31,a,n,h),e.elementType=I,e.lanes=f,e;case q:return Or(a.children,h,f,n);case G:y=8,h|=24;break;case it:return e=En(12,a,n,h|2),e.elementType=it,e.lanes=f,e;case $t:return e=En(13,a,n,h),e.elementType=$t,e.lanes=f,e;case Nt:return e=En(19,a,n,h),e.elementType=Nt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:y=10;break t;case ut:y=9;break t;case _t:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=En(y,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Or(e,n,a,l){return e=En(7,e,l,n),e.lanes=a,e}function $h(e,n,a){return e=En(6,e,null,n),e.lanes=a,e}function Pp(e){var n=En(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,a){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Up=new WeakMap;function Vn(e,n){if(typeof e=="object"&&e!==null){var a=Up.get(e);return a!==void 0?a:(n={value:e,source:n,stack:$o(n)},Up.set(e,n),n)}return{value:e,source:n,stack:$o(n)}}var va=[],Ea=0,Nu=null,Pl=0,Mn=[],kn=0,Ts=null,ai=1,li="";function Vi(e,n){va[Ea++]=Pl,va[Ea++]=Nu,Nu=e,Pl=n}function Lp(e,n,a){Mn[kn++]=ai,Mn[kn++]=li,Mn[kn++]=Ts,Ts=e;var l=ai;e=li;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var f=32-tn(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,ai=1<<32-tn(n)+h|a<<h|l,li=f+e}else ai=1<<f|a<<h|l,li=e}function tf(e){e.return!==null&&(Vi(e,1),Lp(e,1,0))}function ef(e){for(;e===Nu;)Nu=va[--Ea],va[Ea]=null,Pl=va[--Ea],va[Ea]=null;for(;e===Ts;)Ts=Mn[--kn],Mn[kn]=null,li=Mn[--kn],Mn[kn]=null,ai=Mn[--kn],Mn[kn]=null}function zp(e,n){Mn[kn++]=ai,Mn[kn++]=li,Mn[kn++]=Ts,ai=n.id,li=n.overflow,Ts=e}var je=null,te=null,kt=!1,As=null,Pn=!1,nf=Error(r(519));function bs(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(Vn(n,e)),nf}function jp(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[le]=e,n[ze]=l,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<ro.length;a++)Ct(ro[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Er(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),fs(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||i_(n.textContent,a)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Ne),n=!0):n=!1,n||bs(e,!0)}function Bp(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:je=je.return}}function Ta(e){if(e!==je)return!1;if(!kt)return Bp(e),kt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&te&&bs(e),Bp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=f_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));te=f_(e)}else n===27?(n=te,Us(e.type)?(e=Rd,Rd=null,te=e):te=n):te=je?Ln(e.stateNode.nextSibling):null;return!0}function xr(){te=je=null,kt=!1}function sf(){var e=As;return e!==null&&(fn===null?fn=e:fn.push.apply(fn,e),As=null),e}function Ul(e){As===null?As=[e]:As.push(e)}var rf=O(null),Vr=null,Mi=null;function Ss(e,n,a){tt(rf,n._currentValue),n._currentValue=a}function ki(e){e._currentValue=rf.current,Y(rf)}function af(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function lf(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,e),l||(y=null);break t}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),af(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Aa(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;vn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&lf(n,e,a,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Vr=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return qp(Vr,e)}function Ou(e,n){return Vr===null&&Mr(e),qp(e,n)}function qp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Mi===null){if(e===null)throw Error(r(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return a}var u1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},c1=s.unstable_scheduleCallback,h1=s.unstable_NormalPriority,ge={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new u1,data:new Map,refCount:0}}function Ll(e){e.refCount--,e.refCount===0&&c1(h1,function(){e.controller.abort()})}var zl=null,uf=0,ba=0,Sa=null;function f1(e,n){if(zl===null){var a=zl=[];uf=0,ba=fd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return uf++,n.then(Hp,Hp),n}function Hp(){if(--uf===0&&zl!==null){Sa!==null&&(Sa.status="fulfilled");var e=zl;zl=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function d1(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fp=Q.S;Q.S=function(e,n){Iy=Ue(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&f1(e,n),Fp!==null&&Fp(e,n)};var kr=O(null);function cf(){var e=kr.current;return e!==null?e:Jt.pooledCache}function xu(e,n){n===null?tt(kr,kr.current):tt(kr,n.pool)}function Gp(){var e=cf();return e===null?null:{parent:ge._currentValue,pool:e}}var wa=Error(r(460)),hf=Error(r(474)),Vu=Error(r(542)),Mu={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Ne,Ne),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e;default:if(typeof n.status=="string")n.then(Ne,Ne);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Xp(e),e}throw Ur=n,wa}}function Pr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ur=a,wa):a}}var Ur=null;function Yp(){if(Ur===null)throw Error(r(459));var e=Ur;return Ur=null,e}function Xp(e){if(e===wa||e===Vu)throw Error(r(483))}var Ra=null,jl=0;function ku(e){var n=jl;return jl+=1,Ra===null&&(Ra=[]),Qp(Ra,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===w?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zp(e){function n(M,D){if(e){var L=M.deletions;L===null?(M.deletions=[D],M.flags|=16):L.push(D)}}function a(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function l(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=xi(M,D),M.index=0,M.sibling=null,M}function f(M,D,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<D?(M.flags|=67108866,D):L):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,L,X){return D===null||D.tag!==6?(D=$h(L,M.mode,X),D.return=M,D):(D=h(D,L),D.return=M,D)}function R(M,D,L,X){var ht=L.type;return ht===q?K(M,D,L.props.children,X,L.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Pr(ht)===D.type)?(D=h(D,L.props),Bl(D,L),D.return=M,D):(D=Cu(L.type,L.key,L.props,null,M.mode,X),Bl(D,L),D.return=M,D)}function z(M,D,L,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Wh(L,M.mode,X),D.return=M,D):(D=h(D,L.children||[]),D.return=M,D)}function K(M,D,L,X,ht){return D===null||D.tag!==7?(D=Or(L,M.mode,X,ht),D.return=M,D):(D=h(D,L),D.return=M,D)}function J(M,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,M.mode,L),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case B:return L=Cu(D.type,D.key,D.props,null,M.mode,L),Bl(L,D),L.return=M,L;case Z:return D=Wh(D,M.mode,L),D.return=M,D;case S:return D=Pr(D),J(M,D,L)}if(ke(D)||k(D))return D=Or(D,M.mode,L,null),D.return=M,D;if(typeof D.then=="function")return J(M,ku(D),L);if(D.$$typeof===ct)return J(M,Ou(M,D),L);Pu(M,D)}return null}function j(M,D,L,X){var ht=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(M,D,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===ht?R(M,D,L,X):null;case Z:return L.key===ht?z(M,D,L,X):null;case S:return L=Pr(L),j(M,D,L,X)}if(ke(L)||k(L))return ht!==null?null:K(M,D,L,X,null);if(typeof L.then=="function")return j(M,D,ku(L),X);if(L.$$typeof===ct)return j(M,D,Ou(M,L),X);Pu(M,L)}return null}function H(M,D,L,X,ht){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return M=M.get(L)||null,E(D,M,""+X,ht);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case B:return M=M.get(X.key===null?L:X.key)||null,R(D,M,X,ht);case Z:return M=M.get(X.key===null?L:X.key)||null,z(D,M,X,ht);case S:return X=Pr(X),H(M,D,L,X,ht)}if(ke(X)||k(X))return M=M.get(L)||null,K(D,M,X,ht,null);if(typeof X.then=="function")return H(M,D,L,ku(X),ht);if(X.$$typeof===ct)return H(M,D,L,Ou(D,X),ht);Pu(D,X)}return null}function rt(M,D,L,X){for(var ht=null,zt=null,lt=D,bt=D=0,Ot=null;lt!==null&&bt<L.length;bt++){lt.index>bt?(Ot=lt,lt=null):Ot=lt.sibling;var jt=j(M,lt,L[bt],X);if(jt===null){lt===null&&(lt=Ot);break}e&&lt&&jt.alternate===null&&n(M,lt),D=f(jt,D,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt,lt=Ot}if(bt===L.length)return a(M,lt),kt&&Vi(M,bt),ht;if(lt===null){for(;bt<L.length;bt++)lt=J(M,L[bt],X),lt!==null&&(D=f(lt,D,bt),zt===null?ht=lt:zt.sibling=lt,zt=lt);return kt&&Vi(M,bt),ht}for(lt=l(lt);bt<L.length;bt++)Ot=H(lt,M,bt,L[bt],X),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?bt:Ot.key),D=f(Ot,D,bt),zt===null?ht=Ot:zt.sibling=Ot,zt=Ot);return e&&lt.forEach(function(qs){return n(M,qs)}),kt&&Vi(M,bt),ht}function mt(M,D,L,X){if(L==null)throw Error(r(151));for(var ht=null,zt=null,lt=D,bt=D=0,Ot=null,jt=L.next();lt!==null&&!jt.done;bt++,jt=L.next()){lt.index>bt?(Ot=lt,lt=null):Ot=lt.sibling;var qs=j(M,lt,jt.value,X);if(qs===null){lt===null&&(lt=Ot);break}e&&lt&&qs.alternate===null&&n(M,lt),D=f(qs,D,bt),zt===null?ht=qs:zt.sibling=qs,zt=qs,lt=Ot}if(jt.done)return a(M,lt),kt&&Vi(M,bt),ht;if(lt===null){for(;!jt.done;bt++,jt=L.next())jt=J(M,jt.value,X),jt!==null&&(D=f(jt,D,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return kt&&Vi(M,bt),ht}for(lt=l(lt);!jt.done;bt++,jt=L.next())jt=H(lt,M,bt,jt.value,X),jt!==null&&(e&&jt.alternate!==null&&lt.delete(jt.key===null?bt:jt.key),D=f(jt,D,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&lt.forEach(function(SA){return n(M,SA)}),kt&&Vi(M,bt),ht}function Xt(M,D,L,X){if(typeof L=="object"&&L!==null&&L.type===q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:t:{for(var ht=L.key;D!==null;){if(D.key===ht){if(ht=L.type,ht===q){if(D.tag===7){a(M,D.sibling),X=h(D,L.props.children),X.return=M,M=X;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Pr(ht)===D.type){a(M,D.sibling),X=h(D,L.props),Bl(X,L),X.return=M,M=X;break t}a(M,D);break}else n(M,D);D=D.sibling}L.type===q?(X=Or(L.props.children,M.mode,X,L.key),X.return=M,M=X):(X=Cu(L.type,L.key,L.props,null,M.mode,X),Bl(X,L),X.return=M,M=X)}return y(M);case Z:t:{for(ht=L.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){a(M,D.sibling),X=h(D,L.children||[]),X.return=M,M=X;break t}else{a(M,D);break}else n(M,D);D=D.sibling}X=Wh(L,M.mode,X),X.return=M,M=X}return y(M);case S:return L=Pr(L),Xt(M,D,L,X)}if(ke(L))return rt(M,D,L,X);if(k(L)){if(ht=k(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),mt(M,D,L,X)}if(typeof L.then=="function")return Xt(M,D,ku(L),X);if(L.$$typeof===ct)return Xt(M,D,Ou(M,L),X);Pu(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(a(M,D.sibling),X=h(D,L),X.return=M,M=X):(a(M,D),X=$h(L,M.mode,X),X.return=M,M=X),y(M)):a(M,D)}return function(M,D,L,X){try{jl=0;var ht=Xt(M,D,L,X);return Ra=null,ht}catch(lt){if(lt===wa||lt===Vu)throw lt;var zt=En(29,lt,null,M.mode);return zt.lanes=X,zt.return=M,zt}finally{}}}var Lr=Zp(!0),Jp=Zp(!1),ws=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(e),Mp(e,null,a),n}return Ru(e,l,n,a),Iu(e)}function ql(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,rs(e,a)}}function mf(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var pf=!1;function Hl(){if(pf){var e=Sa;if(e!==null)throw e}}function Fl(e,n,a,l){pf=!1;var h=e.updateQueue;ws=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,y===null?f=z:y.next=z,y=R;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==y&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=R))}if(f!==null){var J=h.baseState;y=0,K=z=R=null,E=f;do{var j=E.lane&-536870913,H=j!==E.lane;if(H?(Dt&j)===j:(l&j)===j){j!==0&&j===ba&&(pf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,mt=E;j=n;var Xt=a;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){J=rt.call(Xt,J,j);break t}J=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,j=typeof rt=="function"?rt.call(Xt,J,j):rt,j==null)break t;J=b({},J,j);break t;case 2:ws=!0}}j=E.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=H,R=J):K=K.next=H,y|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=J),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),xs|=y,e.lanes=y,e.memoizedState=J}}function $p(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Wp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)$p(a[e],n)}var Ia=O(null),Uu=O(0);function tg(e,n){e=Fi,tt(Uu,e),tt(Ia,n),Fi=e|n.baseLanes}function gf(){tt(Uu,Fi),tt(Ia,Ia.current)}function yf(){Fi=Uu.current,Y(Ia),Y(Uu)}var Tn=O(null),Un=null;function Cs(e){var n=e.alternate;tt(fe,fe.current&1),tt(Tn,e),Un===null&&(n===null||Ia.current!==null||n.memoizedState!==null)&&(Un=e)}function _f(e){tt(fe,fe.current),tt(Tn,e),Un===null&&(Un=e)}function eg(e){e.tag===22?(tt(fe,fe.current),tt(Tn,e),Un===null&&(Un=e)):Ns()}function Ns(){tt(fe,fe.current),tt(Tn,Tn.current)}function An(e){Y(Tn),Un===e&&(Un=null),Y(fe)}var fe=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sd(a)||wd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Qt=null,ye=null,zu=!1,Ca=!1,zr=!1,ju=0,Gl=0,Na=null,m1=0;function ue(){throw Error(r(321))}function vf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!vn(e[a],n[a]))return!1;return!0}function Ef(e,n,a,l,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Lg:kf,zr=!1,f=a(l,h),zr=!1,Ca&&(f=ig(n,a,l,h)),ng(e),f}function ng(e){Q.H=Yl;var n=Qt!==null&&Qt.next!==null;if(Pi=0,ye=Qt=At=null,zu=!1,Gl=0,Na=null,n)throw Error(r(300));e===null||_e||(e=e.dependencies,e!==null&&Du(e)&&(_e=!0))}function ig(e,n,a,l){At=e;var h=0;do{if(Ca&&(Na=null),Gl=0,Ca=!1,25<=h)throw Error(r(301));if(h+=1,ye=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=zg,f=n(a,l)}while(Ca);return f}function p1(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Kl(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(At.flags|=1024),n}function Tf(){var e=ju!==0;return ju=0,e}function Af(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function bf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Pi=0,ye=Qt=At=null,Ca=!1,Gl=ju=0,Na=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?At.memoizedState=ye=e:ye=ye.next=e,ye}function de(){if(Qt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=ye===null?At.memoizedState:ye.next;if(n!==null)ye=n,Qt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ye===null?At.memoizedState=ye=e:ye=ye.next=e}return ye}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var n=Gl;return Gl+=1,Na===null&&(Na=[]),e=Qp(Na,e,n),n=At,(ye===null?n.memoizedState:ye.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Lg:kf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===ct)return Be(e)}throw Error(r(438,String(e)))}function Sf(e){var n=null,a=At.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bu(),At.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=x;return n.index++,a}function Ui(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=de();return wf(n,Qt,e)}function wf(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=y=null,R=null,z=n,K=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Dt&J)===J:(Pi&J)===J){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===ba&&(K=!0);else if((Pi&j)===j){z=z.next,j===ba&&(K=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=J,y=f):R=R.next=J,At.lanes|=j,xs|=j;J=z.action,zr&&a(f,J),f=z.hasEagerState?z.eagerState:a(f,J)}else j={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,y=f):R=R.next=j,At.lanes|=J,xs|=J;z=z.next}while(z!==null&&z!==n);if(R===null?y=f:R.next=E,!vn(f,e.memoizedState)&&(_e=!0,K&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=y,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rf(e){var n=de(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=e(f,y.action),y=y.next;while(y!==h);vn(f,n.memoizedState)||(_e=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function sg(e,n,a){var l=At,h=de(),f=kt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!vn((Qt||h).memoizedState,a);if(y&&(h.memoizedState=a,_e=!0),h=h.queue,Nf(lg.bind(null,l,h,e),[e]),h.getSnapshot!==n||y||ye!==null&&ye.memoizedState.tag&1){if(l.flags|=2048,Da(9,{destroy:void 0},ag.bind(null,l,h,a,n),null),Jt===null)throw Error(r(349));f||(Pi&127)!==0||rg(l,n,a)}return a}function rg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=At.updateQueue,n===null?(n=Bu(),At.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ag(e,n,a,l){n.value=a,n.getSnapshot=l,og(n)&&ug(e)}function lg(e,n,a){return a(function(){og(n)&&ug(e)})}function og(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!vn(e,a)}catch{return!0}}function ug(e){var n=Dr(e,2);n!==null&&dn(n,e,2)}function If(e){var n=an();if(typeof e=="function"){var a=e;if(e=a(),zr){Cn(!0);try{a()}finally{Cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},n}function cg(e,n,a,l){return e.baseState=a,wf(e,Qt,typeof l=="function"?l:Ui)}function g1(e,n,a,l,h){if(Ku(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,hg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function hg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var E=a(h,l),R=Q.S;R!==null&&R(y,E),fg(e,n,E)}catch(z){Cf(e,n,z)}finally{f!==null&&y.types!==null&&(f.types=y.types),Q.T=f}}else try{f=a(h,l),fg(e,n,f)}catch(z){Cf(e,n,z)}}function fg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dg(e,n,l)},function(l){return Cf(e,n,l)}):dg(e,n,a)}function dg(e,n,a){n.status="fulfilled",n.value=a,mg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,hg(e,a)))}function Cf(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,mg(n),n=n.next;while(n!==l)}e.action=null}function mg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pg(e,n){return n}function gg(e,n){if(kt){var a=Jt.formState;if(a!==null){t:{var l=At;if(kt){if(te){e:{for(var h=te,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Ln(h.nextSibling),l=h.data==="F!";break t}}bs(l)}l=!1}l&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:n},a.queue=l,a=kg.bind(null,At,l),l.dispatch=a,l=If(!1),f=Mf.bind(null,At,!1,l.queue),l=an(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=g1.bind(null,At,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function yg(e){var n=de();return _g(n,Qt,e)}function _g(e,n,a){if(n=wf(e,n,pg)[0],e=Hu(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(y){throw y===wa?Vu:y}else l=n;n=de();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(At.flags|=2048,Da(9,{destroy:void 0},y1.bind(null,h,a),null)),[l,f,e]}function y1(e,n){e.action=n}function vg(e){var n=de(),a=Qt;if(a!==null)return _g(n,a,e);de(),n=n.memoizedState,a=de();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Da(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=Bu(),At.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Eg(){return de().memoizedState}function Fu(e,n,a,l){var h=an();At.flags|=e,h.memoizedState=Da(1|n,{destroy:void 0},a,l===void 0?null:l)}function Gu(e,n,a,l){var h=de();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&vf(l,Qt.memoizedState.deps)?h.memoizedState=Da(n,f,a,l):(At.flags|=e,h.memoizedState=Da(1|n,f,a,l))}function Tg(e,n){Fu(8390656,8,e,n)}function Nf(e,n){Gu(2048,8,e,n)}function _1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Bu(),At.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ag(e){var n=de().memoizedState;return _1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function bg(e,n){return Gu(4,2,e,n)}function Sg(e,n){return Gu(4,4,e,n)}function wg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Rg(e,n,a){a=a!=null?a.concat([e]):null,Gu(4,4,wg.bind(null,n,e),a)}function Df(){}function Ig(e,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&vf(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Cg(e,n){var a=de();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&vf(n,l[1]))return l[0];if(l=e(),zr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,n],l}function Of(e,n,a){return a===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Ny(),At.lanes|=e,xs|=e,a)}function Ng(e,n,a,l){return vn(a,n)?a:Ia.current!==null?(e=Of(e,a,l),vn(e,n)||(_e=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(_e=!0,e.memoizedState=a):(e=Ny(),At.lanes|=e,xs|=e,n)}function Dg(e,n,a,l,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=Q.T,E={};Q.T=E,Mf(e,!1,n,a);try{var R=h(),z=Q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=d1(R,l);Ql(e,n,K,wn(e))}else Ql(e,n,l,wn(e))}catch(J){Ql(e,n,{then:function(){},status:"rejected",reason:J},wn())}finally{nt.p=f,y!==null&&E.types!==null&&(y.types=E.types),Q.T=y}}function v1(){}function xf(e,n,a,l){if(e.tag!==5)throw Error(r(476));var h=Og(e).queue;Dg(e,h,n,ft,a===null?v1:function(){return xg(e),a(l)})}function Og(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xg(e){var n=Og(e);n.next===null&&(n=e.alternate.memoizedState),Ql(e,n.next.queue,{},wn())}function Vf(){return Be(co)}function Vg(){return de().memoizedState}function Mg(){return de().memoizedState}function E1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=wn();e=Rs(a);var l=Is(n,e,a);l!==null&&(dn(l,n,a),ql(l,n,a)),n={cache:of()},e.payload=n;return}n=n.return}}function T1(e,n,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Pg(n,a):(a=Zh(e,n,a,l),a!==null&&(dn(a,e,l),Ug(a,n,l)))}function kg(e,n,a){var l=wn();Ql(e,n,a,l)}function Ql(e,n,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,vn(E,y))return Ru(e,n,h,0),Jt===null&&wu(),!1}catch{}finally{}if(a=Zh(e,n,h,l),a!==null)return dn(a,e,l),Ug(a,n,l),!0}return!1}function Mf(e,n,a,l){if(l={lane:2,revertLane:fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(r(479))}else n=Zh(e,a,l,2),n!==null&&dn(n,e,2)}function Ku(e){var n=e.alternate;return e===At||n!==null&&n===At}function Pg(e,n){Ca=zu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Ug(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,rs(e,a)}}var Yl={readContext:Be,use:qu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Yl.useEffectEvent=ue;var Lg={readContext:Be,use:qu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Tg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Fu(4194308,4,wg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var a=an();n=n===void 0?null:n;var l=e();if(zr){Cn(!0);try{e()}finally{Cn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=an();if(a!==void 0){var h=a(n);if(zr){Cn(!0);try{a(n)}finally{Cn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=T1.bind(null,At,e),[l.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,a=kg.bind(null,At,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(e,n){var a=an();return Of(a,e,n)},useTransition:function(){var e=If(!1);return e=Dg.bind(null,At,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=At,h=an();if(kt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(Dt&127)!==0||rg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Tg(lg.bind(null,l,f,e),[e]),l.flags|=2048,Da(9,{destroy:void 0},ag.bind(null,l,f,a,n),null),a},useId:function(){var e=an(),n=Jt.identifierPrefix;if(kt){var a=li,l=ai;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=m1++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Vf,useFormState:gg,useActionState:gg,useOptimistic:function(e){var n=an();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mf.bind(null,At,!0,a),a.dispatch=n,[e,n]},useMemoCache:Sf,useCacheRefresh:function(){return an().memoizedState=E1.bind(null,At)},useEffectEvent:function(e){var n=an(),a={impl:e};return n.memoizedState=a,function(){if((Bt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Be,use:qu,useCallback:Ig,useContext:Be,useEffect:Nf,useImperativeHandle:Rg,useInsertionEffect:bg,useLayoutEffect:Sg,useMemo:Cg,useReducer:Hu,useRef:Eg,useState:function(){return Hu(Ui)},useDebugValue:Df,useDeferredValue:function(e,n){var a=de();return Ng(a,Qt.memoizedState,e,n)},useTransition:function(){var e=Hu(Ui)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:sg,useId:Vg,useHostTransitionStatus:Vf,useFormState:yg,useActionState:yg,useOptimistic:function(e,n){var a=de();return cg(a,Qt,e,n)},useMemoCache:Sf,useCacheRefresh:Mg};kf.useEffectEvent=Ag;var zg={readContext:Be,use:qu,useCallback:Ig,useContext:Be,useEffect:Nf,useImperativeHandle:Rg,useInsertionEffect:bg,useLayoutEffect:Sg,useMemo:Cg,useReducer:Rf,useRef:Eg,useState:function(){return Rf(Ui)},useDebugValue:Df,useDeferredValue:function(e,n){var a=de();return Qt===null?Of(a,e,n):Ng(a,Qt.memoizedState,e,n)},useTransition:function(){var e=Rf(Ui)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:sg,useId:Vg,useHostTransitionStatus:Vf,useFormState:vg,useActionState:vg,useOptimistic:function(e,n){var a=de();return Qt!==null?cg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Mg};zg.useEffectEvent=Ag;function Pf(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uf={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=wn(),h=Rs(l);h.payload=n,a!=null&&(h.callback=a),n=Is(e,h,l),n!==null&&(dn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=wn(),h=Rs(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Is(e,h,l),n!==null&&(dn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=wn(),l=Rs(a);l.tag=2,n!=null&&(l.callback=n),n=Is(e,l,a),n!==null&&(dn(n,e,a),ql(n,e,a))}};function jg(e,n,a,l,h,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ml(a,l)||!Ml(h,f):!0}function Bg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function qg(e){Su(e)}function Hg(e){console.error(e)}function Fg(e){Su(e)}function Qu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,n)},a}function Kg(e){return e=Rs(e),e.tag=3,e}function Qg(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Gg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Gg(n,a,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function A1(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Aa(n,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?rc():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Mu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),ud(e,l,h)),!1;case 22:return a.flags|=65536,l===Mu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),ud(e,l,h)),!1}throw Error(r(435,a.tag))}return ud(e,l,h),rc(),!1}if(kt)return n=Tn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==nf&&(e=Error(r(422),{cause:l}),Ul(Vn(e,a)))):(l!==nf&&(n=Error(r(423),{cause:l}),Ul(Vn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Vn(l,a),h=Lf(e.stateNode,l,h),mf(e,h),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=Vn(f,a),no===null?no=[f]:no.push(f),ce!==4&&(ce=2),n===null)return!0;l=Vn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Lf(a.stateNode,l,e),mf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),Qg(h,e,a,l),mf(a,h),!1}a=a.return}while(a!==null);return!1}var zf=Error(r(461)),_e=!1;function qe(e,n,a,l){n.child=e===null?Jp(n,null,a,l):Lr(n,e.child,a,l)}function Yg(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Mr(n),l=Ef(e,n,a,y,f,h),E=Tf(),e!==null&&!_e?(Af(e,n,h),Li(e,n,h)):(kt&&E&&tf(n),n.flags|=1,qe(e,n,l,h),n.child)}function Xg(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zg(e,n,f,l,h)):(e=Cu(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qf(e,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ml,a(y,l)&&e.ref===n.ref)return Li(e,n,h)}return n.flags|=1,e=xi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Zg(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(Ml(f,l)&&e.ref===n.ref)if(_e=!1,n.pendingProps=l=f,Qf(e,h))(e.flags&131072)!==0&&(_e=!0);else return n.lanes=e.lanes,Li(e,n,h)}return jf(e,n,a,l,h)}function Jg(e,n,a,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return $g(e,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&xu(n,f!==null?f.cachePool:null),f!==null?tg(n,f):gf(),eg(n);else return l=n.lanes=536870912,$g(e,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(xu(n,f.cachePool),tg(n,f),Ns(),n.memoizedState=null):(e!==null&&xu(n,null),gf(),Ns());return qe(e,n,h,a),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(e,n,a,l,h){var f=cf();return f=f===null?null:{parent:ge._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&xu(n,null),gf(),eg(n),e!==null&&Aa(e,n,l,!0),n.childLanes=h,null}function Yu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Wg(e,n,a){return Lr(n,e.child,null,a),e=Yu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function b1(e,n,a){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=Yu(n,l),n.lanes=536870912,Xl(null,e);if(_f(n),(e=te)?(e=h_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:ai,overflow:li}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,je=n,te=null)):e=null,e===null)throw bs(n);return n.lanes=536870912,null}return Yu(n,l)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=Wg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(_e||Aa(e,n,a,!1),h=(a&e.childLanes)!==0,_e||h){if(l=Jt,l!==null&&(y=as(l,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Dr(e,y),dn(l,e,y),zf;rc(),n=Wg(e,n,a)}else e=f.treeContext,te=Ln(y.nextSibling),je=n,kt=!0,As=null,Pn=!1,e!==null&&zp(n,e),n=Yu(n,l),n.flags|=4096;return n}return e=xi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function jf(e,n,a,l,h){return Mr(n),a=Ef(e,n,a,l,void 0,h),l=Tf(),e!==null&&!_e?(Af(e,n,h),Li(e,n,h)):(kt&&l&&tf(n),n.flags|=1,qe(e,n,a,h),n.child)}function ty(e,n,a,l,h,f){return Mr(n),n.updateQueue=null,a=ig(n,l,a,h),ng(e),l=Tf(),e!==null&&!_e?(Af(e,n,f),Li(e,n,f)):(kt&&l&&tf(n),n.flags|=1,qe(e,n,a,f),n.child)}function ey(e,n,a,l,h){if(Mr(n),n.stateNode===null){var f=_a,y=a.contextType;typeof y=="object"&&y!==null&&(f=Be(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ff(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?Be(y):_a,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Pf(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=jr(a,E);f.props=R;var z=f.context,K=a.contextType;y=_a,typeof K=="object"&&K!==null&&(y=Be(K));var J=a.getDerivedStateFromProps;K=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==y)&&Bg(n,f,l,y),ws=!1;var j=n.memoizedState;f.state=j,Fl(n,l,f,h),Hl(),z=n.memoizedState,E||j!==z||ws?(typeof J=="function"&&(Pf(n,a,J,l),z=n.memoizedState),(R=ws||jg(n,a,R,l,j,z,y))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,df(e,n),y=n.memoizedProps,K=jr(a,y),f.props=K,J=n.pendingProps,j=f.context,z=a.contextType,R=_a,typeof z=="object"&&z!==null&&(R=Be(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==J||j!==R)&&Bg(n,f,l,R),ws=!1,j=n.memoizedState,f.state=j,Fl(n,l,f,h),Hl();var H=n.memoizedState;y!==J||j!==H||ws||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Pf(n,a,E,l),H=n.memoizedState),(K=ws||jg(n,a,K,l,j,H,R)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Li(e,n,h),e}function ny(e,n,a,l){return xr(),n.flags|=256,qe(e,n,a,l),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:Gp()}}function Hf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Sn),e}function iy(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Cs(n):Ns(),(e=te)?(e=h_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:ai,overflow:li}:null,retryLane:536870912,hydrationErrors:null},a=Pp(e),a.return=n,n.child=a,je=n,te=null)):e=null,e===null)throw bs(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ns(),h=n.mode,E=Zu({mode:"hidden",children:E},h),l=Or(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=qf(a),l.childLanes=Hf(e,y,a),n.memoizedState=Bf,Xl(null,l)):(Cs(n),Ff(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Gf(e,n,a)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),E=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),E=Or(E,h,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Lr(n,e.child,null,a),l=n.child,l.memoizedState=qf(a),l.childLanes=Hf(e,y,a),n.memoizedState=Bf,n=Xl(null,l));else if(Cs(n),wd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(r(419)),l.stack="",l.digest=y,Ul({value:l,source:null,stack:null}),n=Gf(e,n,a)}else if(_e||Aa(e,n,a,!1),y=(a&e.childLanes)!==0,_e||y){if(y=Jt,y!==null&&(l=as(y,a),l!==0&&l!==R.retryLane))throw R.retryLane=l,Dr(e,l),dn(y,e,l),zf;Sd(E)||rc(),n=Gf(e,n,a)}else Sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Ln(E.nextSibling),je=n,kt=!0,As=null,Pn=!1,e!==null&&zp(n,e),n=Ff(n,l.children),n.flags|=4096);return n}return h?(Ns(),E=l.fallback,h=n.mode,R=e.child,z=R.sibling,l=xi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=xi(z,E):(E=Or(E,h,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(R=ge._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gp(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=Hf(e,y,a),n.memoizedState=Bf,Xl(e.child,l)):(Cs(n),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Ff(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=En(22,e,null,n),e.lanes=0,e}function Gf(e,n,a){return Lr(n,e.child,null,a),e=Ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sy(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),af(e.return,n,a)}function Kf(e,n,a,l,h,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function ry(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=fe.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,tt(fe,y),qe(e,n,l,a),l=kt?Pl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sy(e,a,n);else if(e.tag===19)sy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Kf(n,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Kf(n,!0,a,null,f,l);break;case"together":Kf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Li(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),xs|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Aa(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function S1(e,n,a){switch(n.tag){case 3:Pe(n,n.stateNode.containerInfo),Ss(n,ge,e.memoizedState.cache),xr();break;case 27:case 5:Jn(n);break;case 4:Pe(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Cs(n),n.flags|=128,null):(a&n.child.childLanes)!==0?iy(e,n,a):(Cs(n),e=Li(e,n,a),e!==null?e.sibling:null);Cs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Aa(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(fe,fe.current),l)break;return null;case 22:return n.lanes=0,Jg(e,n,a,n.pendingProps);case 24:Ss(n,ge,e.memoizedState.cache)}return Li(e,n,a)}function ay(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)_e=!0;else{if(!Qf(e,a)&&(n.flags&128)===0)return _e=!1,S1(e,n,a);_e=(e.flags&131072)!==0}else _e=!1,kt&&(n.flags&1048576)!==0&&Lp(n,Pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Pr(n.elementType),n.type=e,typeof e=="function")Jh(e)?(l=jr(e,l),n.tag=1,n=ey(null,n,e,l,a)):(n.tag=0,n=jf(null,n,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===_t){n.tag=11,n=Yg(null,n,e,l,a);break t}else if(h===N){n.tag=14,n=Xg(null,n,e,l,a);break t}}throw n=Ae(e)||e,Error(r(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=jr(l,n.pendingProps),ey(e,n,l,h,a);case 3:t:{if(Pe(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,df(e,n),Fl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Ss(n,ge,l),l!==f.cache&&lf(n,[ge],a,!0),Hl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(e,n,l,a);break t}else if(l!==h){h=Vn(Error(r(424)),n),Ul(h),n=ny(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=Ln(e.firstChild),je=n,kt=!0,As=null,Pn=!0,a=Jp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xr(),l===h){n=Li(e,n,a);break t}qe(e,n,l,a)}n=n.child}return n;case 26:return Xu(e,n),e===null?(a=y_(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,e=n.pendingProps,l=fc(St.current).createElement(a),l[le]=n,l[ze]=e,He(l,a,e),he(l),n.stateNode=l):n.memoizedState=y_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jn(n),e===null&&kt&&(l=n.stateNode=m_(n.type,n.pendingProps,St.current),je=n,Pn=!0,h=te,Us(n.type)?(Rd=h,te=Ln(l.firstChild)):te=h),qe(e,n,n.pendingProps.children,a),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=te)&&(l=tA(l,n.type,n.pendingProps,Pn),l!==null?(n.stateNode=l,je=n,te=Ln(l.firstChild),Pn=!1,h=!0):h=!1),h||bs(n)),Jn(n),h=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,l=f.children,Td(h,f)?l=null:y!==null&&Td(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,p1,null,null,a),co._currentValue=h),Xu(e,n),qe(e,n,l,a),n.child;case 6:return e===null&&kt&&((e=a=te)&&(a=eA(a,n.pendingProps,Pn),a!==null?(n.stateNode=a,je=n,te=null,e=!0):e=!1),e||bs(n)),null;case 13:return iy(e,n,a);case 4:return Pe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Lr(n,null,l,a):qe(e,n,l,a),n.child;case 11:return Yg(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ss(n,n.type,l.value),qe(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Mr(n),h=Be(h),l=l(h),n.flags|=1,qe(e,n,l,a),n.child;case 14:return Xg(e,n,n.type,n.pendingProps,a);case 15:return Zg(e,n,n.type,n.pendingProps,a);case 19:return ry(e,n,a);case 31:return b1(e,n,a);case 22:return Jg(e,n,a,n.pendingProps);case 24:return Mr(n),l=Be(ge),e===null?(h=cf(),h===null&&(h=Jt,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},ff(n),Ss(n,ge,h)):((e.lanes&a)!==0&&(df(e,n),Fl(n,null,null,a),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ss(n,ge,l)):(l=f.cache,Ss(n,ge,l),l!==h.cache&&lf(n,[ge],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function zi(e){e.flags|=4}function Yf(e,n,a,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Ur=Mu,hf}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(n))if(Vy())e.flags|=8192;else throw Ur=Mu,hf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?gl():536870912,e.lanes|=n,Ma|=n)}function Zl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function w1(e,n,a){var l=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ki(ge),re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),ly(n,f)):(ee(n),Yf(n,h,null,l,a))):f?f!==e.memoizedState?(zi(n),ee(n),ly(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&zi(n),ee(n),Yf(n,h,e,l,a)),null;case 27:if(Ei(n),a=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ee(n),null}e=at.current,Ta(n)?jp(n):(e=m_(h,l,a),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Ei(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ee(n),null}if(f=at.current,Ta(n))jp(n);else{var y=fc(St.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[le]=n,f[ze]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&zi(n)}}return ee(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&zi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,Ta(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[le]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||i_(e.nodeValue,a)),e||bs(n,!0)}else e=fc(e).createTextNode(l),e[le]=n,n.stateNode=e}return ee(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ta(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[le]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else a=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ee(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[le]=n}else xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Ju(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&gd(n.stateNode.containerInfo),ee(n),null;case 10:return ki(n.type),ee(n),null;case 19:if(Y(fe),l=n.memoizedState,l===null)return ee(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Zl(l,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)kp(a,e),a=a.sibling;return tt(fe,fe.current&1|2),kt&&Vi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ue()>nc&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*Ue()-l.renderingStartTime>nc&&a!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ue(),e.sibling=null,a=fe.current,tt(fe,h?a&1|2:a&1),kt&&Vi(n,l.treeForkCount),e):(ee(n),null);case 22:case 23:return An(n),yf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),a=n.updateQueue,a!==null&&Ju(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&Y(kr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ki(ge),ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function R1(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ki(ge),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ei(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(r(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(fe),null;case 4:return re(),null;case 10:return ki(n.type),null;case 22:case 23:return An(n),yf(),e!==null&&Y(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ki(ge),null;case 25:return null;default:return null}}function oy(e,n){switch(ef(n),n.tag){case 3:ki(ge),re();break;case 26:case 27:case 5:Ei(n);break;case 4:re();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:Y(fe);break;case 10:ki(n.type);break;case 22:case 23:An(n),yf(),e!==null&&Y(kr);break;case 24:ki(ge)}}function Jl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==h)}}catch(E){Kt(n,n.return,E)}}function Ds(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=a,z=E;try{z()}catch(K){Kt(h,R,K)}}}l=l.next}while(l!==f)}}catch(K){Kt(n,n.return,K)}}function uy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Wp(n,a)}catch(l){Kt(e,e.return,l)}}}function cy(e,n,a){a.props=jr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(e,n,l)}}function $l(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Kt(e,n,h)}}function oi(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,n,h)}else a.current=null}function hy(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function Xf(e,n,a){try{var l=e.stateNode;Y1(l,e.type,a,n),l[ze]=n}catch(h){Kt(e,e.return,h)}}function fy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function Zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||fy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ne));else if(l!==4&&(l===27&&Us(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Jf(e,n,a),e=e.sibling;e!==null;)Jf(e,n,a),e=e.sibling}function $u(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&Us(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($u(e,n,a),e=e.sibling;e!==null;)$u(e,n,a),e=e.sibling}function dy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,a),n[le]=e,n[ze]=a}catch(f){Kt(e,e.return,f)}}var ji=!1,ve=!1,$f=!1,my=typeof WeakSet=="function"?WeakSet:Set,xe=null;function I1(e,n){if(e=e.containerInfo,vd=vc,e=Rp(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,z=0,K=0,J=e,j=null;e:for(;;){for(var H;J!==a||h!==0&&J.nodeType!==3||(E=y+h),J!==f||l!==0&&J.nodeType!==3||(R=y+l),J.nodeType===3&&(y+=J.nodeValue.length),(H=J.firstChild)!==null;)j=J,J=H;for(;;){if(J===e)break e;if(j===a&&++z===h&&(E=y),j===f&&++K===l&&(R=y),(H=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=H}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},vc=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=jr(a.type,h);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)bd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function py(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(e,a),l&4&&Jl(5,a);break;case 1:if(qi(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Kt(a,a.return,y)}else{var h=jr(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Kt(a,a.return,y)}}l&64&&uy(a),l&512&&$l(a,a.return);break;case 3:if(qi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wp(e,n)}catch(y){Kt(a,a.return,y)}}break;case 27:n===null&&l&4&&dy(a);case 26:case 5:qi(e,a),n===null&&l&4&&hy(a),l&512&&$l(a,a.return);break;case 12:qi(e,a);break;case 31:qi(e,a),l&4&&_y(e,a);break;case 13:qi(e,a),l&4&&vy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=P1.bind(null,a),nA(e,a))));break;case 22:if(l=a.memoizedState!==null||ji,!l){n=n!==null&&n.memoizedState!==null||ve,h=ji;var f=ve;ji=l,(ve=n)&&!f?Hi(e,a,(a.subtreeFlags&8772)!==0):qi(e,a),ji=h,ve=f}break;case 30:break;default:qi(e,a)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&_r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,un=!1;function Bi(e,n,a){for(a=a.child;a!==null;)yy(e,n,a),a=a.sibling}function yy(e,n,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(es,a)}catch{}switch(a.tag){case 26:ve||oi(a,n),Bi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ve||oi(a,n);var l=se,h=un;Us(a.type)&&(se=a.stateNode,un=!1),Bi(e,n,a),lo(a.stateNode),se=l,un=h;break;case 5:ve||oi(a,n);case 6:if(l=se,h=un,se=null,Bi(e,n,a),se=l,un=h,se!==null)if(un)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:se!==null&&(un?(e=se,u_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qa(e)):u_(se,a.stateNode));break;case 4:l=se,h=un,se=a.stateNode.containerInfo,un=!0,Bi(e,n,a),se=l,un=h;break;case 0:case 11:case 14:case 15:Ds(2,a,n),ve||Ds(4,a,n),Bi(e,n,a);break;case 1:ve||(oi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cy(a,n,l)),Bi(e,n,a);break;case 21:Bi(e,n,a);break;case 22:ve=(l=ve)||a.memoizedState!==null,Bi(e,n,a),ve=l;break;default:Bi(e,n,a)}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(a){Kt(n,n.return,a)}}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(a){Kt(n,n.return,a)}}function C1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new my),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new my),n;default:throw Error(r(435,e.tag))}}function Wu(e,n){var a=C1(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var h=U1.bind(null,e,l);l.then(h,h)}})}function cn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(Us(E.type)){se=E.stateNode,un=!1;break t}break;case 5:se=E.stateNode,un=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(se===null)throw Error(r(160));yy(f,y,h),se=null,un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,e),n=n.sibling}var Kn=null;function Ey(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),l&4&&(Ds(3,e,e.return),Jl(3,e),Ds(5,e,e.return));break;case 1:cn(n,e),hn(e),l&512&&(ve||a===null||oi(a,a.return)),l&64&&ji&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Kn;if(cn(n,e),hn(e),l&512&&(ve||a===null||oi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,a),f[le]=e,he(f),l=f;break t;case"link":var y=E_("link","href",h).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;case"meta":if(y=E_("meta","content",h).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;default:throw Error(r(468,l))}f[le]=e,he(f),l=f}e.stateNode=l}else T_(h,e.type,e.stateNode);else e.stateNode=v_(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?T_(h,e.type,e.stateNode):v_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),hn(e),l&512&&(ve||a===null||oi(a,a.return)),a!==null&&l&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),hn(e),l&512&&(ve||a===null||oi(a,a.return)),e.flags&32){h=e.stateNode;try{On(h,"")}catch(rt){Kt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,a!==null?a.memoizedProps:h)),l&1024&&($f=!0);break;case 6:if(cn(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(pc=null,h=Kn,Kn=dc(n.containerInfo),cn(n,e),Kn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}$f&&($f=!1,Ty(e));break;case 4:l=Kn,Kn=dc(e.stateNode.containerInfo),cn(n,e),hn(e),Kn=l;break;case 12:cn(n,e),hn(e);break;case 31:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ec=Ue()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 22:h=e.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=ji,K=ve;if(ji=z||h,ve=K||R,cn(n,e),ve=K,ji=z,hn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||R||ji||ve||Br(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var J=R.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===18){if(a===null){R=n;try{var H=R.stateNode;h?c_(H,!0):c_(R.stateNode,!1)}catch(rt){Kt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Wu(e,a))));break;case 19:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Wu(e,l)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(fy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Zf(e);$u(e,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(On(y,""),a.flags&=-33);var E=Zf(e);$u(e,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,z=Zf(e);Jf(e,z,R);break;default:throw Error(r(161))}}catch(K){Kt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Br(n);break;case 1:oi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cy(n,n.return,a),Br(n);break;case 27:lo(n.stateNode);case 26:case 5:oi(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function Hi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,a),Jl(4,f);break;case 1:if(Hi(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)$p(R[h],E)}catch(z){Kt(l,l.return,z)}}a&&y&64&&uy(f),$l(f,f.return);break;case 27:dy(f);case 26:case 5:Hi(h,f,a),a&&l===null&&y&4&&hy(f),$l(f,f.return);break;case 12:Hi(h,f,a);break;case 31:Hi(h,f,a),a&&y&4&&_y(h,f);break;case 13:Hi(h,f,a),a&&y&4&&vy(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,a),$l(f,f.return);break;case 30:break;default:Hi(h,f,a)}n=n.sibling}}function Wf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ll(a))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e))}function Qn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(e,n,a,l),n=n.sibling}function Ay(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Qn(e,n,a,l),h&2048&&Jl(9,n);break;case 1:Qn(e,n,a,l);break;case 3:Qn(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e)));break;case 12:if(h&2048){Qn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Qn(e,n,a,l);break;case 31:Qn(e,n,a,l);break;case 13:Qn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Qn(e,n,a,l):Wl(e,n):f._visibility&2?Qn(e,n,a,l):(f._visibility|=2,Oa(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(y,n);break;case 24:Qn(e,n,a,l),h&2048&&td(n.alternate,n);break;default:Qn(e,n,a,l)}}function Oa(e,n,a,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,E=a,R=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:Oa(f,y,E,R,h),Jl(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?Oa(f,y,E,R,h):Wl(f,y):(K._visibility|=2,Oa(f,y,E,R,h)),h&&z&2048&&Wf(y.alternate,y);break;case 24:Oa(f,y,E,R,h),h&&z&2048&&td(y.alternate,y);break;default:Oa(f,y,E,R,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(a,l),h&2048&&Wf(l.alternate,l);break;case 24:Wl(a,l),h&2048&&td(l.alternate,l);break;default:Wl(a,l)}n=n.sibling}}var to=8192;function xa(e,n,a){if(e.subtreeFlags&to)for(e=e.child;e!==null;)by(e,n,a),e=e.sibling}function by(e,n,a){switch(e.tag){case 26:xa(e,n,a),e.flags&to&&e.memoizedState!==null&&mA(a,Kn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,a);break;case 3:case 4:var l=Kn;Kn=dc(e.stateNode.containerInfo),xa(e,n,a),Kn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,xa(e,n,a),to=l):xa(e,n,a));break;default:xa(e,n,a)}}function Sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,Ry(l,e)}Sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wy(e),e=e.sibling}function wy(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):eo(e);break;default:eo(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,Ry(l,e)}Sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Ry(e,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:Ds(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=e;xe!==null;){l=xe;var h=l.sibling,f=l.return;if(gy(l),l===a){xe=null;break t}if(h!==null){h.return=f,xe=h;break t}xe=f}}}var N1={getCacheForType:function(e){var n=Be(ge),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Be(ge).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,It=null,Dt=0,Gt=0,bn=null,Os=!1,Va=!1,ed=!1,Fi=0,ce=0,xs=0,qr=0,nd=0,Sn=0,Ma=0,no=null,fn=null,id=!1,ec=0,Iy=0,nc=1/0,ic=null,Vs=null,Se=0,Ms=null,ka=null,Gi=0,sd=0,rd=null,Cy=null,io=0,ad=null;function wn(){return(Bt&2)!==0&&Dt!==0?Dt&-Dt:Q.T!==null?fd():bi()}function Ny(){if(Sn===0)if((Dt&536870912)===0||kt){var e=$n;$n<<=1,($n&3932160)===0&&($n=262144),Sn=e}else Sn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),Sn}function dn(e,n,a){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),ks(e,Dt,Sn,!1)),ss(e,a),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(qr|=a),ce===4&&ks(e,Dt,Sn,!1)),ui(e))}function Dy(e,n,a){if((Bt&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||is(e,n),h=l?V1(e,n):od(e,n,!0),f=l;do{if(h===0){Va&&!l&&ks(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!O1(a)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;h=no;var R=E.current.memoizedState.isDehydrated;if(R&&(Pa(E,y).flags|=256),y=od(E,y,!1),y!==2){if(ed&&!R){E.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=fn,fn=h,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),ks(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ks(l,n,Sn,!Os);break t;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ec+300-Ue(),10<h)){if(ks(l,n,Sn,!Os),Nn(l,0,!0)!==0)break t;Gi=n,l.timeoutHandle=l_(Oy.bind(null,l,a,fn,ic,id,n,Sn,qr,Ma,Os,f,"Throttled",-0,0),h);break t}Oy(l,a,fn,ic,id,n,Sn,qr,Ma,Os,f,null,-0,0)}}break}while(!0);ui(e)}function Oy(e,n,a,l,h,f,y,E,R,z,K,J,j,H){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ne},by(n,f,J);var rt=(f&62914560)===f?ec-Ue():(f&4194048)===f?Iy-Ue():0;if(rt=pA(J,rt),rt!==null){Gi=f,e.cancelPendingCommit=rt(zy.bind(null,e,n,f,a,l,h,y,E,R,K,J,null,j,H)),ks(e,f,y,!z);return}}zy(e,n,f,a,l,h,y,E,R)}function O1(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,a,l){n&=~nd,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-tn(h),y=1<<f;l[f]=-1,h&=~y}a!==0&&yl(e,a,n)}function sc(){return(Bt&6)===0?(so(0),!1):!0}function ld(){if(It!==null){if(Gt===0)var e=It.return;else e=It,Mi=Vr=null,bf(e),Ra=null,jl=0,e=It;for(;e!==null;)oy(e.alternate,e),e=e.return;It=null}}function Pa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,J1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Gi=0,ld(),Jt=e,It=a=xi(e.current,null),Dt=n,Gt=0,bn=null,Os=!1,Va=is(e,n),ed=!1,Ma=Sn=nd=qr=xs=ce=0,fn=no=null,id=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-tn(l),f=1<<h;n|=e[h],l&=~f}return Fi=n,wu(),a}function xy(e,n){At=null,Q.H=Yl,n===wa||n===Vu?(n=Yp(),Gt=3):n===hf?(n=Yp(),Gt=4):Gt=n===zf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,bn=n,It===null&&(ce=1,Qu(e,Vn(n,e.current)))}function Vy(){var e=Tn.current;return e===null?!0:(Dt&4194048)===Dt?Un===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Un:!1}function My(){var e=Q.H;return Q.H=Yl,e===null?Yl:e}function ky(){var e=Q.A;return Q.A=N1,e}function rc(){ce=4,Os||(Dt&4194048)!==Dt&&Tn.current!==null||(Va=!0),(xs&134217727)===0&&(qr&134217727)===0||Jt===null||ks(Jt,Dt,Sn,!1)}function od(e,n,a){var l=Bt;Bt|=2;var h=My(),f=ky();(Jt!==e||Dt!==n)&&(ic=null,Pa(e,n)),n=!1;var y=ce;t:do try{if(Gt!==0&&It!==null){var E=It,R=bn;switch(Gt){case 8:ld(),y=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(n=!0);var z=Gt;if(Gt=0,bn=null,Ua(e,E,R,z),a&&Va){y=0;break t}break;default:z=Gt,Gt=0,bn=null,Ua(e,E,R,z)}}x1(),y=ce;break}catch(K){xy(e,K)}while(!0);return n&&e.shellSuspendCounter++,Mi=Vr=null,Bt=l,Q.H=h,Q.A=f,It===null&&(Jt=null,Dt=0,wu()),y}function x1(){for(;It!==null;)Py(It)}function V1(e,n){var a=Bt;Bt|=2;var l=My(),h=ky();Jt!==e||Dt!==n?(ic=null,nc=Ue()+500,Pa(e,n)):Va=is(e,n);t:do try{if(Gt!==0&&It!==null){n=It;var f=bn;e:switch(Gt){case 1:Gt=0,bn=null,Ua(e,n,f,1);break;case 2:case 9:if(Kp(f)){Gt=0,bn=null,Uy(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),ui(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Kp(f)?(Gt=0,bn=null,Uy(n)):(Gt=0,bn=null,Ua(e,n,f,7));break;case 5:var y=null;switch(It.tag){case 26:y=It.memoizedState;case 5:case 27:var E=It;if(y?A_(y):E.stateNode.complete){Gt=0,bn=null;var R=E.sibling;if(R!==null)It=R;else{var z=E.return;z!==null?(It=z,ac(z)):It=null}break e}}Gt=0,bn=null,Ua(e,n,f,5);break;case 6:Gt=0,bn=null,Ua(e,n,f,6);break;case 8:ld(),ce=6;break t;default:throw Error(r(462))}}M1();break}catch(K){xy(e,K)}while(!0);return Mi=Vr=null,Q.H=l,Q.A=h,Bt=a,It!==null?0:(Jt=null,Dt=0,wu(),ce)}function M1(){for(;It!==null&&!Vh();)Py(It)}function Py(e){var n=ay(e.alternate,e,Fi);e.memoizedProps=e.pendingProps,n===null?ac(e):It=n}function Uy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ty(a,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=ty(a,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:bf(n);default:oy(a,n),n=It=kp(n,Fi),n=ay(a,n,Fi)}e.memoizedProps=e.pendingProps,n===null?ac(e):It=n}function Ua(e,n,a,l){Mi=Vr=null,bf(n),Ra=null,jl=0;var h=n.return;try{if(A1(e,h,n,a,Dt)){ce=1,Qu(e,Vn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ce=1,Qu(e,Vn(a,e.current)),It=null;return}n.flags&32768?(kt||l===1?e=!0:Va||(Dt&536870912)!==0?e=!1:(Os=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ly(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,Os);return}e=n.return;var a=w1(n.alternate,n,Fi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ce===0&&(ce=5)}function Ly(e,n){do{var a=R1(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);ce=6,It=null}function zy(e,n,a,l,h,f,y,E,R){e.cancelPendingCommit=null;do lc();while(Se!==0);if((Bt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Xh,Le(e,a,f,y,E,R),e===Jt&&(It=Jt=null,Dt=0),ka=n,Ms=e,Gi=a,sd=f,rd=h,Cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,L1(Ti,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=nt.p,nt.p=2,y=Bt,Bt|=4;try{I1(e,n,a)}finally{Bt=y,nt.p=h,Q.T=l}}Se=1,jy(),By(),qy()}}function jy(){if(Se===1){Se=0;var e=Ms,n=ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=nt.p;nt.p=2;var h=Bt;Bt|=4;try{Ey(n,e);var f=Ed,y=Rp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&wp(E.ownerDocument.documentElement,E)){if(R!==null&&Fh(E)){var z=R.start,K=R.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var J=E.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var H=j.getSelection(),rt=E.textContent.length,mt=Math.min(R.start,rt),Xt=R.end===void 0?mt:Math.min(R.end,rt);!H.extend&&mt>Xt&&(y=Xt,Xt=mt,mt=y);var M=Sp(E,mt),D=Sp(E,Xt);if(M&&D&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var L=J.createRange();L.setStart(M.node,M.offset),H.removeAllRanges(),mt>Xt?(H.addRange(L),H.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),H.addRange(L))}}}}for(J=[],H=E;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}vc=!!vd,Ed=vd=null}finally{Bt=h,nt.p=l,Q.T=a}}e.current=n,Se=2}}function By(){if(Se===2){Se=0;var e=Ms,n=ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=nt.p;nt.p=2;var h=Bt;Bt|=4;try{py(e,n.alternate,n)}finally{Bt=h,nt.p=l,Q.T=a}}Se=3}}function qy(){if(Se===4||Se===3){Se=0,dl();var e=Ms,n=ka,a=Gi,l=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Se=5:(Se=0,ka=Ms=null,Hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),vl(a),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(es,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=nt.p,nt.p=2,Q.T=null;try{for(var f=e.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,nt.p=h}}(Gi&3)!==0&&lc(),ui(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?io++:(io=0,ad=e):io=0,so(0)}}function Hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ll(n)))}function lc(){return jy(),By(),qy(),Fy()}function Fy(){if(Se!==5)return!1;var e=Ms,n=sd;sd=0;var a=vl(Gi),l=Q.T,h=nt.p;try{nt.p=32>a?32:a,Q.T=null,a=rd,rd=null;var f=Ms,y=Gi;if(Se=0,ka=Ms=null,Gi=0,(Bt&6)!==0)throw Error(r(331));var E=Bt;if(Bt|=4,wy(f.current),Ay(f,f.current,y,a),Bt=E,so(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(es,f)}catch{}return!0}finally{nt.p=h,Q.T=l,Hy(e,n)}}function Gy(e,n,a){n=Vn(a,n),n=Lf(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(ss(e,2),ui(e))}function Kt(e,n,a){if(e.tag===3)Gy(e,e,a);else for(;n!==null;){if(n.tag===3){Gy(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){e=Vn(a,e),a=Kg(2),l=Is(n,a,2),l!==null&&(Qg(a,l,n,e),ss(l,2),ui(l));break}}n=n.return}}function ud(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new D1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(ed=!0,h.add(a),e=k1.bind(null,e,n,a),n.then(e,e))}function k1(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Dt&a)===a&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>Ue()-ec?(Bt&2)===0&&Pa(e,0):nd|=a,Ma===Dt&&(Ma=0)),ui(e)}function Ky(e,n){n===0&&(n=gl()),e=Dr(e,n),e!==null&&(ss(e,n),ui(e))}function P1(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Ky(e,a)}function U1(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Ky(e,a)}function L1(e,n){return pr(e,n)}var oc=null,La=null,cd=!1,uc=!1,hd=!1,Ps=0;function ui(e){e!==La&&e.next===null&&(La===null?oc=La=e:La=La.next=e),uc=!0,cd||(cd=!0,j1())}function so(e,n){if(!hd&&uc){hd=!0;do for(var a=!1,l=oc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-tn(42|e)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Zy(l,f))}else f=Dt,f=Nn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||is(l,f)||(a=!0,Zy(l,f));l=l.next}while(a);hd=!1}}function z1(){Qy()}function Qy(){uc=cd=!1;var e=0;Ps!==0&&Z1()&&(e=Ps);for(var n=Ue(),a=null,l=oc;l!==null;){var h=l.next,f=Yy(l,n);f===0?(l.next=null,a===null?oc=h:a.next=h,h===null&&(La=a)):(a=l,(e!==0||(f&3)!==0)&&(uc=!0)),l=h}Se!==0&&Se!==5||so(e),Ps!==0&&(Ps=0)}function Yy(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-tn(f),E=1<<y,R=h[y];R===-1?((E&a)===0||(E&l)!==0)&&(h[y]=sa(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,a=Dt,a=Nn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ia(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||is(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&ia(l),vl(a)){case 2:case 8:a=Ce;break;case 32:a=Ti;break;case 268435456:a=ml;break;default:a=Ti}return l=Xy.bind(null,e),a=pr(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&ia(l),e.callbackPriority=2,e.callbackNode=null,2}function Xy(e,n){if(Se!==0&&Se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var l=Dt;return l=Nn(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Dy(e,l,n),Yy(e,Ue()),e.callbackNode!=null&&e.callbackNode===a?Xy.bind(null,e):null)}function Zy(e,n){if(lc())return null;Dy(e,n,!0)}function j1(){$1(function(){(Bt&6)!==0?pr(be,z1):Qy()})}function fd(){if(Ps===0){var e=ba;e===0&&(e=yr,yr<<=1,(yr&261888)===0&&(yr=256)),Ps=e}return Ps}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ii(""+e)}function $y(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function B1(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Jy((h[ze]||null).action),y=l.submitter;y&&(n=(n=y[ze]||null)?Jy(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new br("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var R=y?$y(h,y):new FormData(h);xf(a,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?$y(h,y):new FormData(h),xf(a,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],q1=md.toLowerCase(),H1=md[0].toUpperCase()+md.slice(1);Gn(q1,"on"+H1)}Gn(Np,"onAnimationEnd"),Gn(Dp,"onAnimationIteration"),Gn(Op,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(r1,"onTransitionRun"),Gn(a1,"onTransitionStart"),Gn(l1,"onTransitionCancel"),Gn(xp,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Wy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(K){Su(K)}h.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(K){Su(K)}h.currentTarget=null,f=R}}}}function Ct(e,n){var a=n[ls];a===void 0&&(a=n[ls]=new Set);var l=e+"__bubble";a.has(l)||(t_(n,e,2,!1),a.add(l))}function pd(e,n,a){var l=0;n&&(l|=4),t_(a,e,l,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[cc]){e[cc]=!0,ra.forEach(function(a){a!=="selectionchange"&&(F1.has(a)||pd(a,!1,e),pd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,pd("selectionchange",!1,n))}}function t_(e,n,a,l){switch(N_(n)){case 2:var h=_A;break;case 8:h=vA;break;default:h=Od}a=h.bind(null,n,a,e),h=void 0,!Il||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function yd(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=wi(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var z=f,K=ca(a),J=[];t:{var j=Vp.get(e);if(j!==void 0){var H=br,rt=e;switch(e){case"keypress":if(Ar(a)===0)break t;case"keydown":case"keyup":H=yu;break;case"focusin":rt="focus",H=ys;break;case"focusout":rt="blur",H=ys;break;case"beforeblur":case"afterblur":H=ys;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=vu;break;case Np:case Dp:case Op:H=da;break;case xp:H=ma;break;case"scroll":case"scrollend":H=uu;break;case"wheel":H=Tu;break;case"copy":case"cut":case"paste":H=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=xl;break;case"toggle":case"beforetoggle":H=vs}var mt=(n&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),M=mt?j!==null?j+"Capture":null:j;mt=[];for(var D=z,L;D!==null;){var X=D;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||M===null||(X=ln(D,M),X!=null&&mt.push(ao(D,X,L))),Xt)break;D=D.return}0<mt.length&&(j=new H(j,rt,null,a,K),J.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&a!==ua&&(rt=a.relatedTarget||a.fromElement)&&(wi(rt)||rt[ti]))break t;if((H||j)&&(j=K.window===K?K:(j=K.ownerDocument)?j.defaultView||j.parentWindow:window,H?(rt=a.relatedTarget||a.toElement,H=z,rt=rt?wi(rt):null,rt!==null&&(Xt=u(rt),mt=rt.tag,rt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(H=null,rt=z),H!==rt)){if(mt=cu,X="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=xl,X="onPointerLeave",M="onPointerEnter",D="pointer"),Xt=H==null?j:vr(H),L=rt==null?j:vr(rt),j=new mt(X,D+"leave",H,a,K),j.target=Xt,j.relatedTarget=L,X=null,wi(K)===z&&(mt=new mt(M,D+"enter",rt,a,K),mt.target=L,mt.relatedTarget=Xt,X=mt),Xt=X,H&&rt)e:{for(mt=G1,M=H,D=rt,L=0,X=M;X;X=mt(X))L++;X=0;for(var ht=D;ht;ht=mt(ht))X++;for(;0<L-X;)M=mt(M),L--;for(;0<X-L;)D=mt(D),X--;for(;L--;){if(M===D||D!==null&&M===D.alternate){mt=M;break e}M=mt(M),D=mt(D)}mt=null}else mt=null;H!==null&&e_(J,j,H,mt,!1),rt!==null&&Xt!==null&&e_(J,Xt,rt,mt,!0)}}t:{if(j=z?vr(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var zt=_p;else if(on(j))if(vp)zt=n1;else{zt=t1;var lt=WT}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&wl(z.elementType)&&(zt=_p):zt=e1;if(zt&&(zt=zt(e,z))){Ir(J,zt,a,K);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&oa(j,"number",j.value)}switch(lt=z?vr(z):window,e){case"focusin":(on(lt)||lt.contentEditable==="true")&&(pa=lt,Gh=z,kl=null);break;case"focusout":kl=Gh=pa=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Ip(J,a,K);break;case"selectionchange":if(s1)break;case"keydown":case"keyup":Ip(J,a,K)}var bt;if(m)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else wt?Ht(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(U&&a.locale!=="ko"&&(wt||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&wt&&(bt=ds()):(_n=K,ha="value"in _n?_n.value:_n.textContent,wt=!0)),lt=hc(z,Ot),0<lt.length&&(Ot=new Nl(Ot,e,null,a,K),J.push({event:Ot,listeners:lt}),bt?Ot.data=bt:(bt=pe(a),bt!==null&&(Ot.data=bt)))),(bt=T?De(e,a):Oe(e,a))&&(Ot=hc(z,"onBeforeInput"),0<Ot.length&&(lt=new Nl("onBeforeInput","beforeinput",null,a,K),J.push({event:lt,listeners:Ot}),lt.data=bt)),B1(J,e,z,a,K)}Wy(J,n)})}function ao(e,n,a){return{instance:e,listener:n,currentTarget:a}}function hc(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ln(e,a),h!=null&&l.unshift(ao(e,h,f)),h=ln(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function G1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function e_(e,n,a,l,h){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=ln(a,f),z!=null&&y.unshift(ao(a,z,R))):h||(z=ln(a,f),z!=null&&y.push(ao(a,z,R)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var K1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function n_(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Q1,"")}function i_(e,n){return n=n_(n),n_(e)===n}function Yt(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||On(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&On(e,""+l);break;case"className":cs(e,"class",l);break;case"tabIndex":cs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":cs(e,a,l);break;case"style":au(e,l,f);break;case"data":if(n!=="object"){cs(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ii(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ii(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ne);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ii(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),us(e,"popover",l);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":us(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zh.get(a)||a,us(e,a,l))}}function _d(e,n,a,l,h,f){switch(a){case"style":au(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?On(e,l):(typeof l=="number"||typeof l=="bigint")&&On(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ne);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!os.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):us(e,a,l)}}}function He(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,f,y,a,null)}}h&&Yt(e,n,"srcSet",a.srcSet,a,null),l&&Yt(e,n,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=y=h=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":y=K;break;case"checked":R=K;break;case"defaultChecked":z=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,n));break;default:Yt(e,n,l,K,a,null)}}Er(e,f,E,R,z,y,h,!1);return;case"select":Ct("invalid",e),l=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(e,n,h,E,a,null)}n=f,a=y,e.multiple=!!l,n!=null?Lt(e,!!l,n,!1):a!=null&&Lt(e,!!l,a,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(e,n,y,E,a,null)}fs(e,l,h,f);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(e,n,R,l,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ct(ro[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,z,l,a,null)}return;default:if(wl(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&_d(e,n,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(e,n,E,l,a,null))}function Y1(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,z=null,K=null;for(H in a){var J=a[H];if(a.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=J;default:l.hasOwnProperty(H)||Yt(e,n,H,null,l,J)}}for(var j in l){var H=l[j];if(J=a[j],l.hasOwnProperty(j)&&(H!=null||J!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==J&&Yt(e,n,j,H,l,J)}}hs(e,y,E,R,z,K,f,h);return;case"select":H=y=E=j=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||Yt(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=a[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&Yt(e,n,h,f,l,R)}n=E,a=y,l=H,j!=null?Lt(e,!!a,j,!1):!!l!=!!a&&(n!=null?Lt(e,!!a,n,!0):Lt(e,!!a,a?[]:"",!1));return;case"textarea":H=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,l,h)}for(y in l)if(h=l[y],f=a[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Yt(e,n,y,h,l,f)}Tr(e,j,H);return;case"option":for(var rt in a)if(j=a[rt],a.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Yt(e,n,rt,null,l,j)}for(R in l)if(j=l[R],H=a[R],l.hasOwnProperty(R)&&j!==H&&(j!=null||H!=null))switch(R){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(e,n,R,j,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)j=a[mt],a.hasOwnProperty(mt)&&j!=null&&!l.hasOwnProperty(mt)&&Yt(e,n,mt,null,l,j);for(z in l)if(j=l[z],H=a[z],l.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Yt(e,n,z,j,l,H)}return;default:if(wl(n)){for(var Xt in a)j=a[Xt],a.hasOwnProperty(Xt)&&j!==void 0&&!l.hasOwnProperty(Xt)&&_d(e,n,Xt,void 0,l,j);for(K in l)j=l[K],H=a[K],!l.hasOwnProperty(K)||j===H||j===void 0&&H===void 0||_d(e,n,K,j,l,H);return}}for(var M in a)j=a[M],a.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Yt(e,n,M,null,l,j);for(J in l)j=l[J],H=a[J],!l.hasOwnProperty(J)||j===H||j==null&&H==null||Yt(e,n,J,j,l,H)}function s_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&s_(y)){for(y=0,E=h.responseEnd,l+=1;l<a.length;l++){var R=a[l],z=R.startTime;if(z>E)break;var K=R.transferSize,J=R.initiatorType;K&&s_(J)&&(R=R.responseEnd,y+=K*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,$1=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(W1)}:l_;function W1(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function u_(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),qa(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")lo(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,lo(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&lo(e.ownerDocument.body);a=h}while(a);qa(n)}function c_(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),_r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function tA(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function eA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function h_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nA(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rd=null;function f_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Ln(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function d_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function m_(e,n,a){switch(n=fc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);_r(e)}var zn=new Map,p_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=nt.d;nt.d={f:iA,r:sA,D:rA,C:aA,L:lA,m:oA,X:cA,S:uA,M:hA};function iA(){var e=Ki.f(),n=sc();return e||n}function sA(e){var n=Ri(e);n!==null&&n.tag===5&&n.type==="form"?xg(n):Ki.r(e)}var za=typeof document>"u"?null:document;function g_(e,n,a){var l=za;if(l&&typeof n=="string"&&n){var h=oe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",e),he(n),l.head.appendChild(n)))}}function rA(e){Ki.D(e),g_("dns-prefetch",e,null)}function aA(e,n){Ki.C(e,n),g_("preconnect",e,n)}function lA(e,n,a){Ki.L(e,n,a);var l=za;if(l&&e&&n){var h='link[rel="preload"][as="'+oe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+oe(a.imageSizes)+'"]')):h+='[href="'+oe(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=Ba(e)}zn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),zn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),He(n,"link",e),he(n),l.head.appendChild(n)))}}function oA(e,n){Ki.m(e,n);var a=za;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+oe(l)+'"][href="'+oe(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!zn.has(f)&&(e=b({rel:"modulepreload",href:e},n),zn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(uo(f)))return}l=a.createElement("link"),He(l,"link",e),he(l),a.head.appendChild(l)}}}function uA(e,n,a){Ki.S(e,n,a);var l=za;if(l&&e){var h=Hn(l).hoistableStyles,f=ja(e);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(oo(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=zn.get(f))&&Id(e,a);var R=y=l.createElement("link");he(R),He(R,"link",e),R._p=new Promise(function(z,K){R.onload=z,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function cA(e,n){Ki.X(e,n);var a=za;if(a&&e){var l=Hn(a).hoistableScripts,h=Ba(e),f=l.get(h);f||(f=a.querySelector(uo(h)),f||(e=b({src:e,async:!0},n),(n=zn.get(h))&&Cd(e,n),f=a.createElement("script"),he(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function hA(e,n){Ki.M(e,n);var a=za;if(a&&e){var l=Hn(a).hoistableScripts,h=Ba(e),f=l.get(h);f||(f=a.querySelector(uo(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Cd(e,n),f=a.createElement("script"),he(f),He(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function y_(e,n,a,l){var h=(h=St.current)?dc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ja(a.href),a=Hn(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var f=Hn(h).hoistableStyles,y=f.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=h.querySelector(oo(e)))&&!f._p&&(y.instance=f,y.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),f||fA(h,e,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(a),a=Hn(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ja(e){return'href="'+oe(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function __(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function fA(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),he(n),e.head.appendChild(n))}function Ba(e){return'[src="'+oe(e)+'"]'}function uo(e){return"script[async]"+e}function v_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+oe(a.href)+'"]');if(l)return n.instance=l,he(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),he(l),He(l,"style",h),mc(l,a.precedence,e),n.instance=l;case"stylesheet":h=ja(a.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=__(a),(h=zn.get(h))&&Id(l,h),f=(e.ownerDocument||e).createElement("link"),he(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),He(f,"link",l),n.state.loading|=4,mc(f,a.precedence,e),n.instance=f;case"script":return f=Ba(a.src),(h=e.querySelector(uo(f)))?(n.instance=h,he(h),h):(l=a,(h=zn.get(f))&&(l=b({},a),Cd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),he(h),He(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,mc(l,a.precedence,e));return n.instance}function mc(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function E_(e,n,a){if(pc===null){var l=new Map,h=pc=new Map;h.set(a,l)}else h=pc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Si]||f[le]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function T_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function dA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mA(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,he(f);return}f=n.ownerDocument||n,l=__(l),(h=zn.get(h))&&Id(l,h),f=f.createElement("link"),he(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),He(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=gc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Nd=0;function pA(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Nd===0&&(Nd=62500*X1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nd?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(gA,e),yc=null,gc.call(e))}function gA(e,n){if(!(n.state.loading&4)){var a=yc.get(e);if(a)var l=a.get(null);else{a=new Map,yc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,h),a.set(y,h),this.count++,l=gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function yA(e,n,a,l,h,f,y,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function b_(e,n,a,l,h,f,y,E,R,z,K,J){return e=new yA(e,n,a,y,R,z,K,J,E),n=1,f===!0&&(n|=24),f=En(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ff(f),e}function S_(e){return e?(e=_a,e):_a}function w_(e,n,a,l,h,f){h=S_(h),l.context===null?l.context=h:l.pendingContext=h,l=Rs(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Is(e,l,n),a!==null&&(dn(a,e,n),ql(a,e,n))}function R_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Dd(e,n){R_(e,n),(e=e.alternate)&&R_(e,n)}function I_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&dn(n,e,67108864),Dd(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=wn();n=_l(n);var a=Dr(e,n);a!==null&&dn(a,e,n),Dd(e,n)}}var vc=!0;function _A(e,n,a,l){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=2,Od(e,n,a,l)}finally{nt.p=f,Q.T=h}}function vA(e,n,a,l){var h=Q.T;Q.T=null;var f=nt.p;try{nt.p=8,Od(e,n,a,l)}finally{nt.p=f,Q.T=h}}function Od(e,n,a,l){if(vc){var h=xd(l);if(h===null)yd(e,n,l,Ec,a),D_(e,l);else if(TA(h,e,n,a,l))l.stopPropagation();else if(D_(e,l),n&4&&-1<EA.indexOf(e)){for(;h!==null;){var f=Ri(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=qn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-tn(y);E.entanglements[1]|=R,y&=~R}ui(f),(Bt&6)===0&&(nc=Ue()+500,so(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&dn(E,f,2),sc(),Dd(f,2)}if(f=xd(l),f===null&&yd(e,n,l,Ec,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else yd(e,n,l,null,a)}}function xd(e){return e=ca(e),Vd(e)}var Ec=null;function Vd(e){if(Ec=null,e=wi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wo()){case be:return 2;case Ce:return 8;case Ti:case tu:return 32;case ml:return 268435456;default:return 32}default:return 32}}var Md=!1,Ls=null,zs=null,js=null,ho=new Map,fo=new Map,Bs=[],EA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ri(n),n!==null&&I_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function TA(e,n,a,l,h){switch(n){case"focusin":return Ls=mo(Ls,e,n,a,l,h),!0;case"dragenter":return zs=mo(zs,e,n,a,l,h),!0;case"mouseover":return js=mo(js,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,a,l,h)),!0}return!1}function O_(e){var n=wi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,nu(e.priority,function(){C_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,nu(e.priority,function(){C_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ua=l,a.target.dispatchEvent(l),ua=null}else return n=Ri(a),n!==null&&I_(n),e.blockedOn=a,!1;n.shift()}return!0}function x_(e,n,a){Tc(e)&&a.delete(n)}function AA(){Md=!1,Ls!==null&&Tc(Ls)&&(Ls=null),zs!==null&&Tc(zs)&&(zs=null),js!==null&&Tc(js)&&(js=null),ho.forEach(x_),fo.forEach(x_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,AA)))}var bc=null;function V_(e){bc!==e&&(bc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Vd(l||a)===null)continue;break}var f=Ri(a);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function qa(e){function n(R){return Ac(R,e)}Ls!==null&&Ac(Ls,e),zs!==null&&Ac(zs,e),js!==null&&Ac(js,e),ho.forEach(n),fo.forEach(n);for(var a=0;a<Bs.length;a++){var l=Bs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Bs.length&&(a=Bs[0],a.blockedOn===null);)O_(a),a.blockedOn===null&&Bs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],y=h[ze]||null;if(typeof f=="function")y||V_(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[ze]||null)E=y.formAction;else if(Vd(h)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),V_(a)}}}function M_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Sc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=wn();w_(a,l,e,n,null,null)},Sc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;w_(e.current,2,null,e,null,null),sc(),n[ti]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=bi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Bs.length&&n!==0&&n<Bs[a].priority;a++);Bs.splice(a,0,e),a===0&&O_(e)}};var k_=t.version;if(k_!=="19.2.0")throw Error(r(527,k_,"19.2.0"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var bA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{es=wc.inject(bA),Qe=wc}catch{}}return go.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",h=qg,f=Hg,y=Fg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=b_(e,1,!1,null,null,a,l,null,h,f,y,M_),e[ti]=n.current,gd(e),new kd(n)},go.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,h="",f=qg,y=Hg,E=Fg,R=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(R=a.formState)),n=b_(e,1,!0,n,a??null,l,h,R,f,y,E,M_),n.context=S_(null),a=n.current,l=wn(),l=_l(l),h=Rs(l),h.callback=null,Is(a,h,l),a=l,n.current.lanes=a,ss(n,a),ui(n),e[ti]=n.current,gd(e),new Sc(n)},go.version="19.2.0",go}var G_;function kA(){if(G_)return Ld.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ld.exports=MA(),Ld.exports}var PA=kA();const UA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim();var LA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zA=Zt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:d,...p},g)=>Zt.createElement("svg",{ref:g,...LA,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:w0("lucide",o),...p},[...d.map(([_,A])=>Zt.createElement(_,A)),...Array.isArray(u)?u:[u]]));const gn=(s,t)=>{const i=Zt.forwardRef(({className:r,...o},u)=>Zt.createElement(zA,{ref:u,iconNode:t,className:w0(`lucide-${UA(s)}`,r),...o}));return i.displayName=`${s}`,i};const jA=gn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const K_=gn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Q_=gn("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Y_=gn("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const BA=gn("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const qA=gn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const HA=gn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const FA=gn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const R0=gn("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const GA=gn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Vc=gn("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const Im=gn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const KA=gn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const QA=gn("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),YA=()=>{};var X_={};const I0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},XA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[i++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[i++],d=s[i++],p=s[i++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[i++],d=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return t.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],d=o+1<s.length,p=d?s[o+1]:0,g=o+2<s.length,_=g?s[o+2]:0,A=u>>2,b=(u&3)<<4|p>>4;let w=(p&15)<<2|_>>6,B=_&63;g||(B=64,d||(w=64)),r.push(i[A],i[b],i[w],i[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(I0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):XA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,u==null||p==null||_==null||b==null)throw new ZA;const w=u<<2|p>>4;if(r.push(w),_!==64){const B=p<<4&240|_>>2;if(r.push(B),b!==64){const Z=_<<6&192|b;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(s){const t=I0(s);return C0.encodeByteArray(t,!0)},Fc=function(s){return JA(s).replace(/\./g,"")},N0=function(s){try{return C0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WA=()=>$A().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof X_>"u")return;const s=X_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&N0(s[1]);return t&&JSON.parse(t)},hh=()=>{try{return YA()||WA()||tb()||eb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},D0=s=>{var t,i;return(i=(t=hh())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},nb=s=>{const t=D0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},O0=()=>{var s;return(s=hh())===null||s===void 0?void 0:s.config},x0=s=>{var t;return(t=hh())===null||t===void 0?void 0:t[`_${s}`]};class ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function V0(s){return(await fetch(s,{credentials:"include"})).ok}function sb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const wo={};function rb(){const s={prod:[],emulator:[]};for(const t of Object.keys(wo))wo[t]?s.emulator.push(t):s.prod.push(t);return s}function ab(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Z_=!1;function M0(s,t){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||wo[s]===t||wo[s]||Z_)return;wo[s]=t;function i(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=rb().prod.length>0;function d(){const w=document.getElementById(r);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,B){w.setAttribute("width","24"),w.setAttribute("id",B),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Z_=!0,d()},w}function A(w,B){w.setAttribute("id",B),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=ab(r),B=i("text"),Z=document.getElementById(B)||document.createElement("span"),q=i("learnmore"),G=document.getElementById(q)||document.createElement("a"),it=i("preprendIcon"),ut=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ct=w.element;p(ct),A(G,q);const _t=_();g(ut,it),ct.append(ut,Z,G,_t),document.body.appendChild(ct)}u?(Z.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function ob(){var s;const t=(s=hh())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fb(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function db(){return!ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(i){t(i)}})}const gb="FirebaseError";class ts extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=gb,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],d=u?yb(u,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ts(o,p,r)}}function yb(s,t){return s.replace(_b,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const _b=/\{\$([^}]+)}/g;function vb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Qr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const u=s[o],d=t[o];if(J_(u)&&J_(d)){if(!Qr(u,d))return!1}else if(u!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function J_(s){return s!==null&&typeof s=="object"}function qo(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yo(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function _o(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function Eb(s,t){const i=new Tb(s,t);return i.subscribe.bind(i)}class Tb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Ab(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ab(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function qd(){}function Me(s){return s&&s._delegate?s._delegate:s}class Yr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class bb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new ib;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t?.identifier),o=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wb(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);r===p&&d.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(t),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&t(d,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sb(s){return s===Hr?void 0:s}function wb(s){return s.instantiationMode==="EAGER"}class Rb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new bb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const Ib={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},Cb=xt.INFO,Nb={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Db=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=Nb[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=Cb,this._logHandler=Db,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ib[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const Ob=(s,t)=>t.some(i=>s instanceof i);let $_,W_;function xb(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vb(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k0=new WeakMap,tm=new WeakMap,P0=new WeakMap,Hd=new WeakMap,Nm=new WeakMap;function Mb(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(Xs(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&k0.set(i,s)}).catch(()=>{}),Nm.set(t,s),t}function kb(s){if(tm.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||P0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Xs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Pb(s){em=s(em)}function Ub(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Fd(this),t,...i);return P0.set(r,t.sort?t.sort():[t]),Xs(r)}:Vb().includes(s)?function(...t){return s.apply(Fd(this),t),Xs(k0.get(this))}:function(...t){return Xs(s.apply(Fd(this),t))}}function Lb(s){return typeof s=="function"?Ub(s):(s instanceof IDBTransaction&&kb(s),Ob(s,xb())?new Proxy(s,em):s)}function Xs(s){if(s instanceof IDBRequest)return Mb(s);if(Hd.has(s))return Hd.get(s);const t=Lb(s);return t!==s&&(Hd.set(s,t),Nm.set(t,s)),t}const Fd=s=>Nm.get(s);function zb(s,t,{blocked:i,upgrade:r,blocking:o,terminated:u}={}){const d=indexedDB.open(s,t),p=Xs(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Xs(d.result),g.oldVersion,g.newVersion,Xs(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const jb=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],Gd=new Map;function tv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Bb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||jb.includes(i)))return;const u=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&g.done]))[0]};return Gd.set(t,u),u}Pb(s=>({...s,get:(t,i,r)=>tv(t,i)||s.get(t,i,r),has:(t,i)=>!!tv(t,i)||s.has(t,i)}));class qb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Hb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Hb(s){const t=s.getComponent();return t?.type==="VERSION"}const nm="@firebase/app",ev="0.13.2";const Xi=new Cm("@firebase/app"),Fb="@firebase/app-compat",Gb="@firebase/analytics-compat",Kb="@firebase/analytics",Qb="@firebase/app-check-compat",Yb="@firebase/app-check",Xb="@firebase/auth",Zb="@firebase/auth-compat",Jb="@firebase/database",$b="@firebase/data-connect",Wb="@firebase/database-compat",tS="@firebase/functions",eS="@firebase/functions-compat",nS="@firebase/installations",iS="@firebase/installations-compat",sS="@firebase/messaging",rS="@firebase/messaging-compat",aS="@firebase/performance",lS="@firebase/performance-compat",oS="@firebase/remote-config",uS="@firebase/remote-config-compat",cS="@firebase/storage",hS="@firebase/storage-compat",fS="@firebase/firestore",dS="@firebase/ai",mS="@firebase/firestore-compat",pS="firebase",gS="11.10.0";const im="[DEFAULT]",yS={[nm]:"fire-core",[Fb]:"fire-core-compat",[Kb]:"fire-analytics",[Gb]:"fire-analytics-compat",[Yb]:"fire-app-check",[Qb]:"fire-app-check-compat",[Xb]:"fire-auth",[Zb]:"fire-auth-compat",[Jb]:"fire-rtdb",[$b]:"fire-data-connect",[Wb]:"fire-rtdb-compat",[tS]:"fire-fn",[eS]:"fire-fn-compat",[nS]:"fire-iid",[iS]:"fire-iid-compat",[sS]:"fire-fcm",[rS]:"fire-fcm-compat",[aS]:"fire-perf",[lS]:"fire-perf-compat",[oS]:"fire-rc",[uS]:"fire-rc-compat",[cS]:"fire-gcs",[hS]:"fire-gcs-compat",[fS]:"fire-fst",[mS]:"fire-fst-compat",[dS]:"fire-vertex","fire-js":"fire-js",[pS]:"fire-js-all"};const Gc=new Map,_S=new Map,sm=new Map;function nv(s,t){try{s.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wa(s){const t=s.name;if(sm.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of Gc.values())nv(i,s);for(const i of _S.values())nv(i,s);return!0}function Dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Rn(s){return s==null?!1:s.settings!==void 0}const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Bo("app","Firebase",vS);class ES{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const ll=gS;function U0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:im,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw Zs.create("bad-app-name",{appName:String(o)});if(i||(i=O0()),!i)throw Zs.create("no-options");const u=Gc.get(o);if(u){if(Qr(i,u.options)&&Qr(r,u.config))return u;throw Zs.create("duplicate-app",{appName:o})}const d=new Rb(o);for(const g of sm.values())d.addComponent(g);const p=new ES(i,r,d);return Gc.set(o,p),p}function L0(s=im){const t=Gc.get(s);if(!t&&s===im&&O0())return U0();if(!t)throw Zs.create("no-app",{appName:s});return t}function Js(s,t,i){var r;let o=(r=yS[s])!==null&&r!==void 0?r:s;i&&(o+=`-${i}`);const u=o.match(/\s|\//),d=t.match(/\s|\//);if(u||d){const p=[`Unable to register library "${o}" with version "${t}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(p.join(" "));return}Wa(new Yr(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const TS="firebase-heartbeat-database",AS=1,xo="firebase-heartbeat-store";let Kd=null;function z0(){return Kd||(Kd=zb(TS,AS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),Kd}async function bS(s){try{const i=(await z0()).transaction(xo),r=await i.objectStore(xo).get(j0(s));return await i.done,r}catch(t){if(t instanceof ts)Xi.warn(t.message);else{const i=Zs.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}}async function iv(s,t){try{const r=(await z0()).transaction(xo,"readwrite");await r.objectStore(xo).put(t,j0(s)),await r.done}catch(i){if(i instanceof ts)Xi.warn(i.message);else{const r=Zs.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(r.message)}}}function j0(s){return`${s.name}!${s.options.appId}`}const SS=1024,wS=30;class RS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=sv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>wS){const d=NS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xi.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=sv(),{heartbeatsToSend:r,unsentEntries:o}=IS(this._heartbeatsCache.heartbeats),u=Fc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return Xi.warn(i),""}}}function sv(){return new Date().toISOString().substring(0,10)}function IS(s,t=SS){const i=[];let r=s.slice();for(const o of s){const u=i.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),rv(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),rv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class CS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return iv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return iv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function rv(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function NS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function DS(s){Wa(new Yr("platform-logger",t=>new qb(t),"PRIVATE")),Wa(new Yr("heartbeat",t=>new RS(t),"PRIVATE")),Js(nm,ev,s),Js(nm,ev,"esm2017"),Js("fire-js","")}DS("");var OS="firebase",xS="11.10.0";Js(OS,xS,"app");function Om(s,t){var i={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(s);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(s,r[o])&&(i[r[o]]=s[r[o]]);return i}function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VS=B0,q0=new Bo("auth","Firebase",B0());const Kc=new Cm("@firebase/auth");function MS(s,...t){Kc.logLevel<=xt.WARN&&Kc.warn(`Auth (${ll}): ${s}`,...t)}function Mc(s,...t){Kc.logLevel<=xt.ERROR&&Kc.error(`Auth (${ll}): ${s}`,...t)}function Zn(s,...t){throw xm(s,...t)}function hi(s,...t){return xm(s,...t)}function H0(s,t,i){const r=Object.assign(Object.assign({},VS()),{[t]:i});return new Bo("auth","Firebase",r).create(t,{appName:s.name})}function fi(s){return H0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return q0.create(s,...t)}function pt(s,t,...i){if(!s)throw xm(t,...i)}function Qi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mc(t),new Error(t)}function Zi(s,t){s||Qi(t)}function rm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function kS(){return av()==="http:"||av()==="https:"}function av(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}function PS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kS()||cb()||"connection"in navigator)?navigator.onLine:!0}function US(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ho{constructor(t,i){this.shortDelay=t,this.longDelay=i,Zi(i>t,"Short delay should be less than long delay!"),this.isMobile=lb()||hb()}get(){return PS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vm(s,t){Zi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class F0{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jS=new Ho(3e4,6e4);function or(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function ur(s,t,i,r,o={}){return G0(s,o,async()=>{let u={},d={};r&&(t==="GET"?d=r:u={body:JSON.stringify(r)});const p=qo(Object.assign({key:s.config.apiKey},d)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:t,headers:g},u);return ub()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&al(s.emulatorConfig.host)&&(_.credentials="include"),F0.fetch()(await K0(s,s.config.apiHost,i,p),_)})}async function G0(s,t,i){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},LS),t);try{const o=new qS(s),u=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Rc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Rc(s,"user-disabled",d);const A=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw H0(s,A,_);Zn(s,A)}}catch(o){if(o instanceof ts)throw o;Zn(s,"network-request-failed",{message:String(o)})}}async function Fo(s,t,i,r,o={}){const u=await ur(s,t,i,r,o);return"mfaPendingCredential"in u&&Zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function K0(s,t,i,r){const o=`${t}${i}?${r}`,u=s,d=u.config.emulator?Vm(s.config,o):`${s.config.apiScheme}://${o}`;return zS.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function BS(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(hi(this.auth,"network-request-failed")),jS.get())})}}function Rc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=hi(s,t,r);return o.customData._tokenResponse=i,o}function lv(s){return s!==void 0&&s.enterprise!==void 0}class HS{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return BS(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function FS(s,t){return ur(s,"GET","/v2/recaptchaConfig",or(s,t))}async function GS(s,t){return ur(s,"POST","/v1/accounts:delete",t)}async function Qc(s,t){return ur(s,"POST","/v1/accounts:lookup",t)}function Ro(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function KS(s,t=!1){const i=Me(s),r=await i.getIdToken(t),o=Mm(r);pt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:r,authTime:Ro(Qd(o.auth_time)),issuedAtTime:Ro(Qd(o.iat)),expirationTime:Ro(Qd(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function Mm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=N0(i);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function ov(s){const t=Mm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vo(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ts&&QS(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function QS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class YS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yc(s){var t;const i=s.auth,r=await s.getIdToken(),o=await Vo(s,Qc(i,{idToken:r}));pt(o?.users.length,i,"internal-error");const u=o.users[0];s._notifyReloadListener(u);const d=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?Q0(u.providerUserInfo):[],p=ZS(s.providerData,d),g=s.isAnonymous,_=!(s.email&&u.passwordHash)&&!p?.length,A=g?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new am(u.createdAt,u.lastLoginAt),isAnonymous:A};Object.assign(s,b)}async function XS(s){const t=Me(s);await Yc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ZS(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Q0(s){return s.map(t=>{var{providerId:i}=t,r=Om(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function JS(s,t){const i=await G0(s,{},async()=>{const r=qo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,d=await K0(s,o,"/v1/token",`key=${u}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&al(s.emulatorConfig.host)&&(g.credentials="include"),F0.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $S(s,t){return ur(s,"POST","/v2/accounts:revokeToken",or(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ov(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=ov(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:u}=await JS(t,i);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:u}=i,d=new Ya;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),o&&(pt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),u&&(pt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Hs(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Yn{constructor(t){var{uid:i,auth:r,stsTokenManager:o}=t,u=Om(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new am(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const i=await Vo(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return KS(this,t)}reload(){return XS(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Yn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Yc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(fi(this.auth));const t=await this.getIdToken();return await Vo(this,GS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,o,u,d,p,g,_,A;const b=(r=i.displayName)!==null&&r!==void 0?r:void 0,w=(o=i.email)!==null&&o!==void 0?o:void 0,B=(u=i.phoneNumber)!==null&&u!==void 0?u:void 0,Z=(d=i.photoURL)!==null&&d!==void 0?d:void 0,q=(p=i.tenantId)!==null&&p!==void 0?p:void 0,G=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,it=(_=i.createdAt)!==null&&_!==void 0?_:void 0,ut=(A=i.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:ct,emailVerified:_t,isAnonymous:$t,providerData:Nt,stsTokenManager:N}=i;pt(ct&&N,t,"internal-error");const S=Ya.fromJSON(this.name,N);pt(typeof ct=="string",t,"internal-error"),Hs(b,t.name),Hs(w,t.name),pt(typeof _t=="boolean",t,"internal-error"),pt(typeof $t=="boolean",t,"internal-error"),Hs(B,t.name),Hs(Z,t.name),Hs(q,t.name),Hs(G,t.name),Hs(it,t.name),Hs(ut,t.name);const I=new Yn({uid:ct,auth:t,email:w,emailVerified:_t,displayName:b,isAnonymous:$t,photoURL:Z,phoneNumber:B,tenantId:q,stsTokenManager:S,createdAt:it,lastLoginAt:ut});return Nt&&Array.isArray(Nt)&&(I.providerData=Nt.map(x=>Object.assign({},x))),G&&(I._redirectEventId=G),I}static async _fromIdTokenResponse(t,i,r=!1){const o=new Ya;o.updateFromServerResponse(i);const u=new Yn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Yc(u),u}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];pt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Q0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,p=new Ya;p.updateFromIdToken(r);const g=new Yn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new am(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,_),g}}const uv=new Map;function Yi(s){Zi(s instanceof Function,"Expected a class definition");let t=uv.get(s);return t?(Zi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,uv.set(s,t),t)}class Y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Y0.type="NONE";const cv=Y0;function kc(s,t,i){return`firebase:${s}:${t}:${i}`}class Xa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=kc("persistence",o.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Qc(this.auth,{idToken:t}).catch(()=>{});return i?Yn._fromGetAccountInfoResponse(this.auth,i,t):null}return Yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Xa(Yi(cv),t,r);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Yi(cv);const d=kc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const w=await Qc(t,{idToken:A}).catch(()=>{});if(!w)break;b=await Yn._fromGetAccountInfoResponse(t,w,A)}else b=Yn._fromJSON(t,A);_!==u&&(p=b),u=_;break}}catch{}const g=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Xa(u,t,r):(u=g[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Xa(u,t,r))}}function hv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(X0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tE(t))return"Blackberry";if(eE(t))return"Webos";if(Z0(t))return"Safari";if((t.includes("chrome/")||J0(t))&&!t.includes("edge/"))return"Chrome";if(W0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function X0(s=We()){return/firefox\//i.test(s)}function Z0(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function J0(s=We()){return/crios\//i.test(s)}function $0(s=We()){return/iemobile/i.test(s)}function W0(s=We()){return/android/i.test(s)}function tE(s=We()){return/blackberry/i.test(s)}function eE(s=We()){return/webos/i.test(s)}function km(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function WS(s=We()){var t;return km(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function tw(){return fb()&&document.documentMode===10}function nE(s=We()){return km(s)||W0(s)||eE(s)||tE(s)||/windows phone/i.test(s)||$0(s)}function iE(s,t=[]){let i;switch(s){case"Browser":i=hv(We());break;case"Worker":i=`${hv(We())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ll}/${r}`}class ew{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=u=>new Promise((d,p)=>{try{const g=t(u);d(g)}catch(g){p(g)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function nw(s,t={}){return ur(s,"GET","/v2/passwordPolicy",or(s,t))}const iw=6;class sw{constructor(t){var i,r,o,u;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:iw,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,r,o,u,d,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,g),this.validatePasswordCharacterOptions(t,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class rw{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fv(this),this.idTokenSubscription=new fv(this),this.beforeStateQueue=new ew(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Qc(this,{idToken:t}),r=await Yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Rn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,p=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!d||d===p)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Yc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=US()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Rn(this.app))return Promise.reject(fi(this));const i=t?Me(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Rn(this.app)?Promise.reject(fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nw(this),i=new sw(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bo("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await $S(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,r,o);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var t;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i?.error&&MS(`Error while retrieving App Check token: ${i.error}`),i?.token}}function cr(s){return Me(s)}class fv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Eb(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aw(s){fh=s}function sE(s){return fh.loadJS(s)}function lw(){return fh.recaptchaEnterpriseScript}function ow(){return fh.gapiScript}function uw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class cw{constructor(){this.enterprise=new hw}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class hw{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const fw="recaptcha-enterprise",rE="NO_RECAPTCHA";class dw{constructor(t){this.type=fw,this.auth=cr(t)}async verify(t="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{FS(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new HS(g);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function o(u,d,p){const g=window.grecaptcha;lv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:t}).then(_=>{d(_)}).catch(()=>{d(rE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(p=>{if(!i&&lv(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=lw();g.length!==0&&(g+=p),sE(g).then(()=>{o(p,u,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function dv(s,t,i,r=!1,o=!1){const u=new dw(s);let d;if(o)d=rE;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function lm(s,t,i,r,o){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await dv(s,t,i,i==="getOobCode");return r(s,d)}else return r(s,t).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await dv(s,t,i,i==="getOobCode");return r(s,p)}else return Promise.reject(d)})}function mw(s,t){const i=Dm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),u=i.getOptions();if(Qr(u,t??{}))return o;Zn(o,"already-initialized")}return i.initialize({options:t})}function pw(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function gw(s,t,i){const r=cr(s);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=aE(t),{host:d,port:p}=yw(t),g=p===null?"":`:${p}`,_={url:`${u}//${d}${g}/`},A=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(Qr(_,r.config.emulator)&&Qr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,al(d)?(V0(`${u}//${d}${g}`),M0("Auth",!0)):_w()}function aE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function yw(s){const t=aE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:mv(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:mv(d)}}}function mv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function _w(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Pm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function vw(s,t){return ur(s,"POST","/v1/accounts:signUp",t)}async function Ew(s,t){return Fo(s,"POST","/v1/accounts:signInWithPassword",or(s,t))}async function Tw(s,t){return Fo(s,"POST","/v1/accounts:signInWithEmailLink",or(s,t))}async function Aw(s,t){return Fo(s,"POST","/v1/accounts:signInWithEmailLink",or(s,t))}class Mo extends Pm{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Mo(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Mo(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,i,"signInWithPassword",Ew);case"emailLink":return Tw(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lm(t,r,"signUpPassword",vw);case"emailLink":return Aw(t,{idToken:i,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Za(s,t){return Fo(s,"POST","/v1/accounts:signInWithIdp",or(s,t))}const bw="http://localhost";class Xr extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=i,u=Om(i,["providerId","signInMethod"]);if(!r||!o)return null;const d=new Xr(r,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Za(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:bw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=qo(i)}return t}}function Sw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ww(s){const t=yo(_o(s)).link,i=t?yo(_o(t)).deep_link_id:null,r=yo(_o(s)).deep_link_id;return(r?yo(_o(r)).link:null)||r||i||t||s}class Um{constructor(t){var i,r,o,u,d,p;const g=yo(_o(t)),_=(i=g.apiKey)!==null&&i!==void 0?i:null,A=(r=g.oobCode)!==null&&r!==void 0?r:null,b=Sw((o=g.mode)!==null&&o!==void 0?o:null);pt(_&&A&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=A,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=g.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(t){const i=ww(t);try{return new Um(i)}catch{return null}}}class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(t,i){return Mo._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Um.parseLink(i);return pt(r,"argument-error"),Mo._fromEmailAndCode(t,r.code,r.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class lE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Go extends lE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends Go{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class Gs extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Gs.credential(i,r)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";class Ks extends Go{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Qs extends Go{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Qs.credential(i,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function oE(s,t){return Fo(s,"POST","/v1/accounts:signUp",or(s,t))}class Ji{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const u=await Yn._fromIdTokenResponse(t,r,o),d=pv(r);return new Ji({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=pv(r);return new Ji({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function pv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function Rw(s){var t;if(Rn(s.app))return Promise.reject(fi(s));const i=cr(s);if(await i._initializationPromise,!((t=i.currentUser)===null||t===void 0)&&t.isAnonymous)return new Ji({user:i.currentUser,providerId:null,operationType:"signIn"});const r=await oE(i,{returnSecureToken:!0}),o=await Ji._fromIdTokenResponse(i,"signIn",r,!0);return await i._updateCurrentUser(o.user),o}class Xc extends ts{constructor(t,i,r,o){var u;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new Xc(t,i,r,o)}}function uE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,u,t,r):u})}async function Iw(s,t,i=!1){const r=await Vo(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ji._forOperation(s,"link",r)}async function Cw(s,t,i=!1){const{auth:r}=s;if(Rn(r.app))return Promise.reject(fi(r));const o="reauthenticate";try{const u=await Vo(s,uE(r,o,t,s),i);pt(u.idToken,r,"internal-error");const d=Mm(u.idToken);pt(d,r,"internal-error");const{sub:p}=d;return pt(s.uid===p,r,"user-mismatch"),Ji._forOperation(s,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),u}}async function cE(s,t,i=!1){if(Rn(s.app))return Promise.reject(fi(s));const r="signIn",o=await uE(s,r,t),u=await Ji._fromIdTokenResponse(s,r,o);return i||await s._updateCurrentUser(u.user),u}async function Nw(s,t){return cE(cr(s),t)}async function hE(s){const t=cr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Dw(s,t,i){if(Rn(s.app))return Promise.reject(fi(s));const r=cr(s),d=await lm(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oE).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&hE(s),g}),p=await Ji._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function Ow(s,t,i){return Rn(s.app)?Promise.reject(fi(s)):Nw(Me(s),ol.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hE(s),r})}function xw(s,t,i,r){return Me(s).onIdTokenChanged(t,i,r)}function Vw(s,t,i){return Me(s).beforeAuthStateChanged(t,i)}function Mw(s,t,i,r){return Me(s).onAuthStateChanged(t,i,r)}function kw(s){return Me(s).signOut()}const Zc="__sak";class fE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pw=1e3,Uw=10;class dE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);tw()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Uw):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}dE.type="LOCAL";const Lw=dE;class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mE.type="SESSION";const pE=mE;function zw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new dh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:u}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,u)),g=await zw(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Lm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class jw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,g)=>{const _=Lm("",20);o.port1.start();const A=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===_)switch(w.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(A),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function di(){return window}function Bw(s){di().location.href=s}function gE(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function qw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hw(){var s;return((s=navigator?.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function Fw(){return gE()?self:null}const yE="firebaseLocalStorageDb",Gw=1,Jc="firebaseLocalStorage",_E="fbase_key";class Ko{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,t){return s.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function Kw(){const s=indexedDB.deleteDatabase(yE);return new Ko(s).toPromise()}function om(){const s=indexedDB.open(yE,Gw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Jc,{keyPath:_E})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Jc)?t(r):(r.close(),await Kw(),t(await om()))})})}async function gv(s,t,i){const r=mh(s,!0).put({[_E]:t,value:i});return new Ko(r).toPromise()}async function Qw(s,t){const i=mh(s,!1).get(t),r=await new Ko(i).toPromise();return r===void 0?null:r.value}function yv(s,t){const i=mh(s,!0).delete(t);return new Ko(i).toPromise()}const Yw=800,Xw=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Xw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(Fw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await qw(),!this.activeServiceWorker)return;this.sender=new jw(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await gv(t,Zc,"1"),await yv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>gv(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Qw(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>yv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=mh(o,!1).getAll();return new Ko(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const Zw=vE;new Ho(3e4,6e4);function Jw(s,t){return t?Yi(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends Pm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function $w(s){return cE(s.auth,new zm(s),s.bypassAuthState)}function Ww(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Cw(i,new zm(s),s.bypassAuthState)}async function tR(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Iw(i,new zm(s),s.bypassAuthState)}class EE{constructor(t,i,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $w;case"linkViaPopup":case"linkViaRedirect":return tR;case"reauthViaPopup":case"reauthViaRedirect":return Ww;default:Zn(this.auth,"internal-error")}}resolve(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eR=new Ho(2e3,1e4);class Qa extends EE{constructor(t,i,r,o,u){super(t,i,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eR.get())};t()}}Qa.currentPopupAction=null;const nR="pendingRedirect",Pc=new Map;class iR extends EE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const r=await sR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sR(s,t){const i=lR(t),r=aR(s);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function rR(s,t){Pc.set(s._key(),t)}function aR(s){return Yi(s._redirectPersistence)}function lR(s){return kc(nR,s.config.apiKey,s.name)}async function oR(s,t,i=!1){if(Rn(s.app))return Promise.reject(fi(s));const r=cr(s),o=Jw(r,t),d=await new iR(r,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const uR=600*1e3;class cR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!TE(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(hi(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uR&&this.cachedEventUids.clear(),this.cachedEventUids.has(_v(t))}saveEventToCache(t){this.cachedEventUids.add(_v(t)),this.lastProcessedEventTime=Date.now()}}function _v(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function TE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function hR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}async function fR(s,t={}){return ur(s,"GET","/v1/projects",t)}const dR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mR=/^https?/;async function pR(s){if(s.config.emulator)return;const{authorizedDomains:t}=await fR(s);for(const i of t)try{if(gR(i))return}catch{}Zn(s,"unauthorized-domain")}function gR(s){const t=rm(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!mR.test(i))return!1;if(dR.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const yR=new Ho(3e4,6e4);function vv(){const s=di().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function _R(s){return new Promise((t,i)=>{var r,o,u;function d(){vv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vv(),i(hi(s,"network-request-failed"))},timeout:yR.get()})}if(!((o=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=di().gapi)===null||u===void 0)&&u.load)d();else{const p=uw("iframefcb");return di()[p]=()=>{gapi.load?d():i(hi(s,"network-request-failed"))},sE(`${ow()}?onload=${p}`).catch(g=>i(g))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function vR(s){return Uc=Uc||_R(s),Uc}const ER=new Ho(5e3,15e3),TR="__/auth/iframe",AR="emulator/auth/iframe",bR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wR(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Vm(t,AR):`https://${s.config.authDomain}/${TR}`,r={apiKey:t.apiKey,appName:s.name,v:ll},o=SR.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${qo(r).slice(1)}`}async function RR(s){const t=await vR(s),i=di().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:wR(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bR,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const d=hi(s,"network-request-failed"),p=di().setTimeout(()=>{u(d)},ER.get());function g(){di().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{u(d)})}))}const IR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CR=500,NR=600,DR="_blank",OR="http://localhost";class Ev{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xR(s,t,i,r=CR,o=NR){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g=Object.assign(Object.assign({},IR),{width:r.toString(),height:o.toString(),top:u,left:d}),_=We().toLowerCase();i&&(p=J0(_)?DR:i),X0(_)&&(t=t||OR,g.scrollbars="yes");const A=Object.entries(g).reduce((w,[B,Z])=>`${w}${B}=${Z},`,"");if(WS(_)&&p!=="_self")return VR(t||"",p),new Ev(null);const b=window.open(t||"",p,A);pt(b,s,"popup-blocked");try{b.focus()}catch{}return new Ev(b)}function VR(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const MR="__/auth/handler",kR="emulator/auth/handler",PR=encodeURIComponent("fac");async function Tv(s,t,i,r,o,u){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ll,eventId:o};if(t instanceof lE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",vb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Go){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const g=await s._getAppCheckToken(),_=g?`#${PR}=${encodeURIComponent(g)}`:"";return`${UR(s)}?${qo(p).slice(1)}${_}`}function UR({config:s}){return s.emulator?Vm(s,kR):`https://${s.authDomain}/${MR}`}const Yd="webStorageSupport";class LR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=oR,this._overrideRedirectResult=rR}async _openPopup(t,i,r,o){var u;Zi((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await Tv(t,i,r,rm(),o);return xR(t,d,Lm())}async _openRedirect(t,i,r,o){await this._originValidation(t);const u=await Tv(t,i,r,rm(),o);return Bw(u),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:u}=this.eventManagers[i];return o?Promise.resolve(o):(Zi(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await RR(t),r=new cR(t);return i.register("authEvent",o=>(pt(o?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Yd,{type:Yd},o=>{var u;const d=(u=o?.[0])===null||u===void 0?void 0:u[Yd];d!==void 0&&i(!!d),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return nE()||Z0()||km()}}const zR=LR;var Av="@firebase/auth",bv="1.10.8";class jR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qR(s){Wa(new Yr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iE(s)},_=new rw(r,o,u,g);return pw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Wa(new Yr("auth-internal",t=>{const i=cr(t.getProvider("auth").getImmediate());return(r=>new jR(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(Av,bv,BR(s)),Js(Av,bv,"esm2017")}const HR=300,FR=x0("authIdTokenMaxAge")||HR;let Sv=null;const GR=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>FR)return;const o=i?.token;Sv!==o&&(Sv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KR(s=L0()){const t=Dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=mw(s,{popupRedirectResolver:zR,persistence:[Zw,Lw,pE]}),r=x0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=GR(u.toString());Vw(i,d,()=>d(i.currentUser)),xw(i,p=>d(p))}}const o=D0("auth");return o&&gw(i,`http://${o}`),i}function QR(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}aw({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=hi("internal-error");u.customData=o,i(u)},r.type="text/javascript",r.charset="UTF-8",QR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qR("Browser");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,AE;(function(){var s;function t(N,S){function I(){}I.prototype=S.prototype,N.D=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.C=function(x,V,k){for(var C=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)C[Ae-2]=arguments[Ae];return S.prototype[V].apply(x,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,I){I||(I=0);var x=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)x[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)x[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],V=N.g[2];var k=N.g[3],C=S+(k^I&(V^k))+x[0]+3614090360&4294967295;S=I+(C<<7&4294967295|C>>>25),C=k+(V^S&(I^V))+x[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(I^k&(S^I))+x[2]+606105819&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(S^V&(k^S))+x[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=S+(k^I&(V^k))+x[4]+4118548399&4294967295,S=I+(C<<7&4294967295|C>>>25),C=k+(V^S&(I^V))+x[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(I^k&(S^I))+x[6]+2821735955&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(S^V&(k^S))+x[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=S+(k^I&(V^k))+x[8]+1770035416&4294967295,S=I+(C<<7&4294967295|C>>>25),C=k+(V^S&(I^V))+x[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(I^k&(S^I))+x[10]+4294925233&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(S^V&(k^S))+x[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=S+(k^I&(V^k))+x[12]+1804603682&4294967295,S=I+(C<<7&4294967295|C>>>25),C=k+(V^S&(I^V))+x[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=V+(I^k&(S^I))+x[14]+2792965006&4294967295,V=k+(C<<17&4294967295|C>>>15),C=I+(S^V&(k^S))+x[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=S+(V^k&(I^V))+x[1]+4129170786&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(S^I))+x[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^I&(k^S))+x[11]+643717713&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(V^k))+x[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=S+(V^k&(I^V))+x[5]+3593408605&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(S^I))+x[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^I&(k^S))+x[15]+3634488961&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(V^k))+x[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=S+(V^k&(I^V))+x[9]+568446438&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(S^I))+x[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^I&(k^S))+x[3]+4107603335&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(V^k))+x[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=S+(V^k&(I^V))+x[13]+2850285829&4294967295,S=I+(C<<5&4294967295|C>>>27),C=k+(I^V&(S^I))+x[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=V+(S^I&(k^S))+x[7]+1735328473&4294967295,V=k+(C<<14&4294967295|C>>>18),C=I+(k^S&(V^k))+x[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=S+(I^V^k)+x[5]+4294588738&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^V)+x[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^I)+x[11]+1839030562&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^S)+x[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=S+(I^V^k)+x[1]+2763975236&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^V)+x[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^I)+x[7]+4139469664&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^S)+x[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=S+(I^V^k)+x[13]+681279174&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^V)+x[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^I)+x[3]+3572445317&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^S)+x[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=S+(I^V^k)+x[9]+3654602809&4294967295,S=I+(C<<4&4294967295|C>>>28),C=k+(S^I^V)+x[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=V+(k^S^I)+x[15]+530742520&4294967295,V=k+(C<<16&4294967295|C>>>16),C=I+(V^k^S)+x[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=S+(V^(I|~k))+x[0]+4096336452&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~V))+x[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~I))+x[14]+2878612391&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~S))+x[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=S+(V^(I|~k))+x[12]+1700485571&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~V))+x[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~I))+x[10]+4293915773&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~S))+x[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=S+(V^(I|~k))+x[8]+1873313359&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~V))+x[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~I))+x[6]+2734768916&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~S))+x[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=S+(V^(I|~k))+x[4]+4149444226&4294967295,S=I+(C<<6&4294967295|C>>>26),C=k+(I^(S|~V))+x[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=V+(S^(k|~I))+x[2]+718787259&4294967295,V=k+(C<<15&4294967295|C>>>17),C=I+(k^(V|~S))+x[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+k&4294967295}r.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var I=S-this.blockSize,x=this.B,V=this.h,k=0;k<S;){if(V==0)for(;k<=I;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<S;)if(x[V++]=N.charCodeAt(k++),V==this.blockSize){o(this,x),V=0;break}}else for(;k<S;)if(x[V++]=N[k++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var I=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=I&255,I/=256;for(this.u(N),N=Array(16),S=I=0;4>S;++S)for(var x=0;32>x;x+=8)N[I++]=this.g[S]>>>x&255;return N};function u(N,S){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function d(N,S){this.h=S;for(var I=[],x=!0,V=N.length-1;0<=V;V--){var k=N[V]|0;x&&k==S||(I[V]=k,x=!1)}this.g=I}var p={};function g(N){return-128<=N&&128>N?u(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return G(_(-N));for(var S=[],I=1,x=0;N>=I;x++)S[x]=N/I|0,I*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return G(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(S,8)),x=b,V=0;V<N.length;V+=8){var k=Math.min(8,N.length-V),C=parseInt(N.substring(V,V+k),S);8>k?(k=_(Math.pow(S,k)),x=x.j(k).add(_(C))):(x=x.j(I),x=x.add(_(C)))}return x}var b=g(0),w=g(1),B=g(16777216);s=d.prototype,s.m=function(){if(q(this))return-G(this).m();for(var N=0,S=1,I=0;I<this.g.length;I++){var x=this.i(I);N+=(0<=x?x:4294967296+x)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(q(this))return"-"+G(this).toString(N);for(var S=_(Math.pow(N,6)),I=this,x="";;){var V=_t(I,S).g;I=it(I,V.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(N);if(I=V,Z(I))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function q(N){return N.h==-1}s.l=function(N){return N=it(this,N),q(N)?-1:Z(N)?0:1};function G(N){for(var S=N.g.length,I=[],x=0;x<S;x++)I[x]=~N.g[x];return new d(I,~N.h).add(w)}s.abs=function(){return q(this)?G(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],x=0,V=0;V<=S;V++){var k=x+(this.i(V)&65535)+(N.i(V)&65535),C=(k>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);x=C>>>16,k&=65535,C&=65535,I[V]=C<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function it(N,S){return N.add(G(S))}s.j=function(N){if(Z(this)||Z(N))return b;if(q(this))return q(N)?G(this).j(G(N)):G(G(this).j(N));if(q(N))return G(this.j(G(N)));if(0>this.l(B)&&0>N.l(B))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,I=[],x=0;x<2*S;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<N.g.length;V++){var k=this.i(x)>>>16,C=this.i(x)&65535,Ae=N.i(V)>>>16,ke=N.i(V)&65535;I[2*x+2*V]+=C*ke,ut(I,2*x+2*V),I[2*x+2*V+1]+=k*ke,ut(I,2*x+2*V+1),I[2*x+2*V+1]+=C*Ae,ut(I,2*x+2*V+1),I[2*x+2*V+2]+=k*Ae,ut(I,2*x+2*V+2)}for(x=0;x<S;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=S;x<2*S;x++)I[x]=0;return new d(I,0)};function ut(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ct(N,S){this.g=N,this.h=S}function _t(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new ct(b,b);if(q(N))return S=_t(G(N),S),new ct(G(S.g),G(S.h));if(q(S))return S=_t(N,G(S)),new ct(G(S.g),S.h);if(30<N.g.length){if(q(N)||q(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,x=S;0>=x.l(N);)I=$t(I),x=$t(x);var V=Nt(I,1),k=Nt(x,1);for(x=Nt(x,2),I=Nt(I,2);!Z(x);){var C=k.add(x);0>=C.l(N)&&(V=V.add(I),k=C),x=Nt(x,1),I=Nt(I,1)}return S=it(N,V.j(S)),new ct(V,S)}for(V=b;0<=N.l(S);){for(I=Math.max(1,Math.floor(N.m()/S.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=_(I),C=k.j(S);q(C)||0<C.l(N);)I-=x,k=_(I),C=k.j(S);Z(k)&&(k=w),V=V.add(k),N=it(N,C)}return new ct(V,N)}s.A=function(N){return _t(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],x=0;x<S;x++)I[x]=this.i(x)&N.i(x);return new d(I,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],x=0;x<S;x++)I[x]=this.i(x)|N.i(x);return new d(I,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),I=[],x=0;x<S;x++)I[x]=this.i(x)^N.i(x);return new d(I,this.h^N.h)};function $t(N){for(var S=N.g.length+1,I=[],x=0;x<S;x++)I[x]=N.i(x)<<1|N.i(x-1)>>>31;return new d(I,N.h)}function Nt(N,S){var I=S>>5;S%=32;for(var x=N.g.length-I,V=[],k=0;k<x;k++)V[k]=0<S?N.i(k+I)>>>S|N.i(k+I+1)<<32-S:N.i(k+I);return new d(V,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,$s=d}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,vo,SE,Lc,um,wE,RE,IE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var U=c[T];if(!(U in v))break t;v=v[U]}c=c[c.length-1],T=v[c],m=m(T),m!=T&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var v=0,T=!1,U={next:function(){if(!T&&v<c.length){var F=v++;return{value:m(F,c[F]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,v){return v})}});var d=d||{},p=this||self;function g(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function _(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function A(c,m,v){return c.call.apply(c.bind,arguments)}function b(c,m,v){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),c.apply(m,U)}}return function(){return c.apply(m,arguments)}}function w(c,m,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,w.apply(null,arguments)}function B(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function Z(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(T,U,F){for(var et=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)et[Ht-2]=arguments[Ht];return m.prototype[U].apply(T,et)}}function q(c){const m=c.length;if(0<m){const v=Array(m);for(let T=0;T<m;T++)v[T]=c[T];return v}return[]}function G(c,m){for(let v=1;v<arguments.length;v++){const T=arguments[v];if(g(T)){const U=c.length||0,F=T.length||0;c.length=U+F;for(let et=0;et<F;et++)c[U+et]=T[et]}else c.push(T)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(c){return/^[\s\xa0]*$/.test(c)}function ct(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function _t(c){return _t[" "](c),c}_t[" "]=function(){};var $t=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function Nt(c,m,v){for(const T in c)m.call(v,c[T],T,c)}function N(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function S(c){const m={};for(const v in c)m[v]=c[v];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)c[v]=T[v];for(let F=0;F<I.length;F++)v=I[F],Object.prototype.hasOwnProperty.call(T,v)&&(c[v]=T[v])}}function V(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function k(c){p.setTimeout(()=>{throw c},0)}function C(){var c=Ut;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,v){const T=ke.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ke=new it(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,Ut=new Ae,qt=()=>{const c=p.Promise.resolve(void 0);nt=()=>{c.then(O)}};var O=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){k(v)}var m=ke;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ft=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var at=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};p.addEventListener("test",v,m),p.removeEventListener("test",v,m)}catch{}return c})();function yt(c,m){if(tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if($t){t:{try{_t(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yt.aa.h.call(this)}}Z(yt,tt);var St={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function re(c,m,v,T,U){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++Pe,this.da=this.fa=!1}function Jn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,m,v,T,U){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var et=ta(c,m,T,U);return-1<et?(m=c[et],v||(m.fa=!1)):(m=new re(m,this.src,F,!!T,U),m.fa=v,c.push(m)),m};function dr(c,m){var v=m.type;if(v in c.g){var T=c.g[v],U=Array.prototype.indexOf.call(T,m,void 0),F;(F=0<=U)&&Array.prototype.splice.call(T,U,1),F&&(Jn(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ta(c,m,v,T){for(var U=0;U<c.length;++U){var F=c[U];if(!F.da&&F.listener==m&&F.capture==!!v&&F.ha==T)return U}return-1}var Bn="closure_lm_"+(1e6*Math.random()|0),mr={};function ea(c,m,v,T,U){if(Array.isArray(m)){for(var F=0;F<m.length;F++)ea(c,m[F],v,T,U);return null}return v=Wo(v),c&&c[Mt]?c.K(m,v,_(T)?!!T.capture:!1,U):xh(c,m,v,!1,T,U)}function xh(c,m,v,T,U,F){if(!m)throw Error("Invalid event type");var et=_(U)?!!U.capture:!!U,Ht=dl(c);if(Ht||(c[Bn]=Ht=new Ei(c)),v=Ht.add(m,v,T,et,F),v.proxy)return v;if(T=$o(),v.proxy=T,T.src=c,T.listener=v,c.addEventListener)at||(U=et),U===void 0&&(U=!1),c.addEventListener(m.toString(),T,U);else if(c.attachEvent)c.attachEvent(ia(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $o(){function c(v){return m.call(c.src,c.listener,v)}const m=Vh;return c}function na(c,m,v,T,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)na(c,m[F],v,T,U);else T=_(T)?!!T.capture:!!T,v=Wo(v),c&&c[Mt]?(c=c.i,m=String(m).toString(),m in c.g&&(F=c.g[m],v=ta(F,v,T,U),-1<v&&(Jn(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[m],c.h--)))):c&&(c=dl(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ta(m,v,T,U)),(v=-1<c?m[c]:null)&&pr(v))}function pr(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Mt])dr(m.i,c);else{var v=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(v,T,c.capture):m.detachEvent?m.detachEvent(ia(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=dl(m))?(dr(v,c),v.h==0&&(v.src=null,m[Bn]=null)):Jn(c)}}}function ia(c){return c in mr?mr[c]:mr[c]="on"+c}function Vh(c,m){if(c.da)c=!0;else{m=new yt(m,this);var v=c.listener,T=c.ha||c.src;c.fa&&pr(c),c=v.call(T,m)}return c}function dl(c){return c=c[Bn],c instanceof Ei?c:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(c){return typeof c=="function"?c:(c[Ue]||(c[Ue]=function(m){return c.handleEvent(m)}),c[Ue])}function be(){Y.call(this),this.i=new Ei(this),this.M=this,this.F=null}Z(be,Y),be.prototype[Mt]=!0,be.prototype.removeEventListener=function(c,m,v,T){na(this,c,m,v,T)};function Ce(c,m){var v,T=c.F;if(T)for(v=[];T;T=T.F)v.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new tt(m,c);else if(m instanceof tt)m.target=m.target||c;else{var U=m;m=new tt(T,c),x(m,U)}if(U=!0,v)for(var F=v.length-1;0<=F;F--){var et=m.g=v[F];U=Ti(et,T,!0,m)&&U}if(et=m.g=c,U=Ti(et,T,!0,m)&&U,U=Ti(et,T,!1,m)&&U,v)for(F=0;F<v.length;F++)et=m.g=v[F],U=Ti(et,T,!1,m)&&U}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],T=0;T<v.length;T++)Jn(v[T]);delete c.g[m],c.h--}}this.F=null},be.prototype.K=function(c,m,v,T){return this.i.add(String(c),m,!1,v,T)},be.prototype.L=function(c,m,v,T){return this.i.add(String(c),m,!0,v,T)};function Ti(c,m,v,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,F=0;F<m.length;++F){var et=m[F];if(et&&!et.da&&et.capture==v){var Ht=et.listener,pe=et.ha||et.src;et.fa&&dr(c.i,et),U=Ht.call(pe,T)!==!1&&U}}return U&&!T.defaultPrevented}function tu(c,m,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(c,m||0)}function ml(c){c.g=tu(()=>{c.g=null,c.i&&(c.i=!1,ml(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Mh extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ml(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(c){Y.call(this),this.h=c,this.g={}}Z(gr,Y);var es=[];function Qe(c){Nt(c.g,function(m,v){this.g.hasOwnProperty(v)&&pr(m)},c),c.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Qe(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=p.JSON.stringify,tn=p.JSON.parse,kh=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function pl(){}pl.prototype.h=null;function eu(c){return c.h||(c.h=c.i())}function yr(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ns(){tt.call(this,"d")}Z(ns,tt);function qn(){tt.call(this,"c")}Z(qn,tt);var Nn={},is=null;function sa(){return is=is||new be}Nn.La="serverreachability";function gl(c){tt.call(this,Nn.La,c)}Z(gl,tt);function Ai(c){const m=sa();Ce(m,new gl(m))}Nn.STAT_EVENT="statevent";function ss(c,m){tt.call(this,Nn.STAT_EVENT,c),this.stat=m}Z(ss,tt);function Le(c){const m=sa();Ce(m,new ss(m,c))}Nn.Ma="timingevent";function yl(c,m){tt.call(this,Nn.Ma,c),this.size=m}Z(yl,tt);function rs(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},m)}function as(){this.g=!0}as.prototype.xa=function(){this.g=!1};function _l(c,m,v,T,U,F){c.info(function(){if(c.g)if(F)for(var et="",Ht=F.split("&"),pe=0;pe<Ht.length;pe++){var wt=Ht[pe].split("=");if(1<wt.length){var De=wt[0];wt=wt[1];var Oe=De.split("_");et=2<=Oe.length&&Oe[1]=="type"?et+(De+"="+wt+"&"):et+(De+"=redacted&")}}else et=null;else et=F;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+et})}function vl(c,m,v,T,U,F,et){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+F+" "+et})}function bi(c,m,v,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wn(c,v)+(T?" "+T:"")})}function nu(c,m){c.info(function(){return"TIMEOUT: "+m})}as.prototype.info=function(){};function Wn(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var T=v[c];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var et=1;et<U.length;et++)U[et]=""}}}}return Cn(v)}catch{return m}}var le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ze={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ls(){}Z(ls,pl),ls.prototype.g=function(){return new XMLHttpRequest},ls.prototype.i=function(){return{}},ti=new ls;function ei(c,m,v,T){this.j=c,this.i=m,this.l=v,this.R=T||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var El={},Si={};function _r(c,m,v){c.L=1,c.v=Tr(oe(m)),c.m=v,c.P=!0,wi(c,null)}function wi(c,m){c.F=Date.now(),Hn(c),c.A=oe(c.v);var v=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),Ci(v.i,"t",T),c.C=0,v=c.j.J,c.h=new iu,c.g=vu(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Mh(w(c.Y,c,c.g),c.O)),m=c.U,v=c.g,T=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(es[0]=U.toString()),U=es);for(var F=0;F<U.length;F++){var et=ea(v,U[F],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Ai(),_l(c.i,c.u,c.A,c.l,c.R,c.m)}ei.prototype.ca=function(c){c=c.target;const m=this.M;m&&sn(c)==3?m.j():this.Y(c)},ei.prototype.Y=function(c){try{if(c==this.g)t:{const Oe=sn(this.g);var m=this.g.Ba();const Es=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||Sr(this.g)))){this.J||Oe!=4||m==7||(m==8||0>=Es?Ai(3):Ai(2)),ra(this);var v=this.g.Z();this.X=v;e:if(Ri(this)){var T=Sr(this.g);c="";var U=T.length,F=sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),os(this);var et="";break e}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,c+=this.h.i.decode(T[m],{stream:!(F&&m==U-1)});T.length=0,this.h.g+=c,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=v==200,vl(this.i,this.u,this.A,this.l,this.R,Oe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Ht,pe=this.g;if((Ht=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Ht)){var wt=Ht;break e}}wt=null}if(v=wt)bi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ni(this,v);else{this.o=!1,this.s=3,Le(12),en(this),os(this);break t}}if(this.P){v=!0;let on;for(;!this.J&&this.C<et.length;)if(on=vr(this,et),on==Si){Oe==4&&(this.s=4,Le(14),v=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(on==El){this.s=4,Le(15),bi(this.i,this.l,et,"[Invalid Chunk]"),v=!1;break}else bi(this.i,this.l,on,null),ni(this,on);if(Ri(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||et.length!=0||this.h.h||(this.s=1,Le(16),v=!1),this.o=this.o&&v,!v)bi(this.i,this.l,et,"[Invalid Chunked Response]"),en(this),os(this);else if(0<et.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Ol(De),De.M=!0,Le(11))}}else bi(this.i,this.l,et,null),ni(this,et);Oe==4&&en(this),this.o&&!this.J&&(Oe==4?gu(this.j,this):(this.o=!1,Hn(this)))}else cu(this.g),v==400&&0<et.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),en(this),os(this)}}}catch{}finally{}};function Ri(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,m){var v=c.C,T=m.indexOf(`
`,v);return T==-1?Si:(v=Number(m.substring(v,T)),isNaN(v)?El:(T+=1,T+v>m.length?Si:(m=m.slice(T,T+v),c.C=T+v,m)))}ei.prototype.cancel=function(){this.J=!0,en(this)};function Hn(c){c.S=Date.now()+c.I,he(c,c.I)}function he(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rs(w(c.ba,c),m)}function ra(c){c.B&&(p.clearTimeout(c.B),c.B=null)}ei.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(nu(this.i,this.A),this.L!=2&&(Ai(),Le(17)),en(this),this.s=2,os(this)):he(this,this.S-c)};function os(c){c.j.G==0||c.J||gu(c.j,c)}function en(c){ra(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,Qe(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function ni(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||us(v.h,c))){if(!c.K&&us(v.h,c)&&v.G==3){try{var T=v.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)_s(v),ys(v);else break t;Dl(v),Le(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=rs(w(v.Za,v),6e3));if(1>=su(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Di(v,11)}else if((c.K||v.g==c)&&_s(v),!ut(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let wt=U[m];if(v.T=wt[0],wt=wt[1],v.G==2)if(wt[0]=="c"){v.K=wt[1],v.ia=wt[2];const De=wt[3];De!=null&&(v.la=De,v.j.info("VER="+v.la));const Oe=wt[4];Oe!=null&&(v.Aa=Oe,v.j.info("SVER="+v.Aa));const Es=wt[5];Es!=null&&typeof Es=="number"&&0<Es&&(T=1.5*Es,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const on=c.g;if(on){const Ir=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var F=T.h;F.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(cs(F,F.h),F.h=null))}if(T.D){const Oi=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Oi&&(T.ya=Oi,Lt(T.I,T.D,Oi))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var et=c;if(T.qa=_u(T,T.J?T.ia:null,T.W),et.K){Dn(T.h,et);var Ht=et,pe=T.L;pe&&(Ht.I=pe),Ht.B&&(ra(Ht),Hn(Ht)),T.g=et}else mu(T);0<v.i.length&&da(v)}else wt[0]!="stop"&&wt[0]!="close"||Di(v,7);else v.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Di(v,7):Cl(v):wt[0]!="noop"&&v.l&&v.l.ta(wt),v.v=0)}}Ai(4)}catch{}}var Ph=class{constructor(c,m){this.g=c,this.map=m}};function Tl(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Al(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function su(c){return c.h?1:c.g?c.g.size:0}function us(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function cs(c,m){c.g?c.g.add(m):c.h=m}function Dn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Tl.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return q(c.i)}function ru(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var m=[],v=c.length,T=0;T<v;T++)m.push(c[T]);return m}m=[],v=0;for(T in c)m[v++]=c[T];return m}function Uh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const T in c)m[v++]=T;return m}}}function aa(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=Uh(c),T=ru(c),U=T.length,F=0;F<U;F++)m.call(void 0,T[F],v&&v[F],c)}var bl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var T=c[v].indexOf("="),U=null;if(0<=T){var F=c[v].substring(0,T);U=c[v].substring(T+1)}else F=c[v];m(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ii(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ii){this.h=c.h,hs(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.s),this.l=c.l;var m=c.i,v=new ii;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),oa(this,v),this.m=c.m}else c&&(m=String(c).match(bl))?(this.h=!1,hs(this,m[1]||"",!0),this.o=fs(m[2]||""),this.g=fs(m[3]||"",!0),Er(this,m[4]),this.l=fs(m[5]||"",!0),oa(this,m[6]||"",!0),this.m=fs(m[7]||"")):(this.h=!1,this.i=new ii(null,this.h))}Ii.prototype.toString=function(){var c=[],m=this.j;m&&c.push(On(m,Sl,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(On(m,Sl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(On(v,v.charAt(0)=="/"?wl:au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",On(v,jh)),c.join("")};function oe(c){return new Ii(c)}function hs(c,m,v){c.j=v?fs(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function oa(c,m,v){m instanceof ii?(c.i=m,lu(c.i,c.h)):(v||(m=On(m,zh)),c.i=new ii(m,c.h))}function Lt(c,m,v){c.i.set(m,v)}function Tr(c){return Lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fs(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function On(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,Lh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sl=/[#\/\?@]/g,au=/[#\?:]/g,wl=/[#\?]/g,zh=/[#\?@]/g,jh=/#/g;function ii(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Ne(c){c.g||(c.g=new Map,c.h=0,c.i&&la(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ii.prototype,s.add=function(c,m){Ne(this),this.i=null,c=yn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function ua(c,m){Ne(c),m=yn(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ca(c,m){return Ne(c),m=yn(c,m),c.g.has(m)}s.forEach=function(c,m){Ne(this),this.g.forEach(function(v,T){v.forEach(function(U){c.call(m,U,T,this)},this)},this)},s.na=function(){Ne(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let T=0;T<m.length;T++){const U=c[T];for(let F=0;F<U.length;F++)v.push(m[T])}return v},s.V=function(c){Ne(this);let m=[];if(typeof c=="string")ca(this,c)&&(m=m.concat(this.g.get(yn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},s.set=function(c,m){return Ne(this),this.i=null,c=yn(this,c),ca(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Ci(c,m,v){ua(c,m),0<v.length&&(c.i=null,c.g.set(yn(c,m),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var T=m[v];const F=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var U=F;et[T]!==""&&(U+="="+encodeURIComponent(String(et[T]))),c.push(U)}}return this.i=c.join("&")};function yn(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function lu(c,m){m&&!c.j&&(Ne(c),c.i=null,c.g.forEach(function(v,T){var U=T.toLowerCase();T!=U&&(ua(this,T),Ci(this,U,v))},c)),c.j=m}function Rl(c,m){const v=new as;if(p.Image){const T=new Image;T.onload=B(ln,v,"TestLoadImage: loaded",!0,m,T),T.onerror=B(ln,v,"TestLoadImage: error",!1,m,T),T.onabort=B(ln,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=B(ln,v,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function ou(c,m){const v=new as,T=new AbortController,U=setTimeout(()=>{T.abort(),ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(F=>{clearTimeout(U),F.ok?ln(v,"TestPingServer: ok",!0,m):ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),ln(v,"TestPingServer: error",!1,m)})}function ln(c,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Fn(){this.g=new kh}function Il(c,m,v){const T=v||"";try{aa(c,function(U,F){let et=U;_(U)&&(et=Cn(U)),m.push(T+F+"="+encodeURIComponent(et))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function si(c){this.l=c.Ub||null,this.j=c.eb||!1}Z(si,pl),si.prototype.g=function(){return new _n(this.l,this.j)},si.prototype.i=(function(c){return function(){return c}})({});function _n(c,m){be.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(_n,be),s=_n.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ds(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},s.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ds(this)),this.g&&(this.readyState=3,ds(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}s.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ri(this):ds(this),this.readyState==3&&ha(this)}},s.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},s.Qa=function(c){this.g&&(this.response=c,ri(this))},s.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ds(c)}s.setRequestHeader=function(c,m){this.u.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function ds(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ar(c){let m="";return Nt(c,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ms(c,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Ar(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Lt(c,m,v))}function Wt(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Wt,be);var Ye=/^https?$/i,Ni=["POST","PUT"];s=Wt.prototype,s.Ha=function(c){this.J=c},s.ea=function(c,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?eu(this.o):eu(ti),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(F){br(this,F);return}if(c=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const F of T.keys())v.set(F,T.get(F));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),U=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ni,m,void 0))||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,et]of v)this.g.setRequestHeader(F,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){br(this,F)}};function br(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,ps(c),gs(c)}function ps(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ce(this,"complete"),Ce(this,"abort"),gs(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gs(this,!0)),Wt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?uu(this):this.bb())},s.bb=function(){uu(this)};function uu(c){if(c.h&&typeof d<"u"&&(!c.v[1]||sn(c)!=4||c.Z()!=2)){if(c.u&&sn(c)==4)tu(c.Ea,0,c);else if(Ce(c,"readystatechange"),sn(c)==4){c.h=!1;try{const et=c.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=et===0){var U=String(c.D).match(bl)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),T=!Ye.test(U?U.toLowerCase():"")}v=T}if(v)Ce(c,"complete"),Ce(c,"success");else{c.m=6;try{var F=2<sn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ps(c)}}finally{gs(c)}}}}function gs(c,m){if(c.g){fa(c);const v=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ce(c,"ready");try{v.onreadystatechange=T}catch{}}}function fa(c){c.I&&(p.clearTimeout(c.I),c.I=null)}s.isActive=function(){return!!this.g};function sn(c){return c.g?c.g.readyState:0}s.Z=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),tn(m)}};function Sr(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cu(c){const m={};c=(c.g&&2<=sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(ut(c[T]))continue;var v=V(c[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=m[U]||[];m[U]=F,F.push(v)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function hu(c){this.Aa=0,this.i=[],this.j=new as,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,c),this.cb=wr("retryDelaySeedMs",1e4,c),this.Wa=wr("forwardChannelMaxRetries",2,c),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Tl(c&&c.concurrentRequestLimit),this.Da=new Fn,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=hu.prototype,s.la=8,s.G=1,s.connect=function(c,m,v,T){Le(0),this.W=c,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),da(this)};function Cl(c){if(fu(c),c.G==3){var m=c.U++,v=oe(c.I);if(Lt(v,"SID",c.K),Lt(v,"RID",m),Lt(v,"TYPE","terminate"),Rr(c,v),m=new ei(c,c.j,m),m.L=2,m.v=Tr(oe(v)),v=!1,p.navigator&&p.navigator.sendBeacon)try{v=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&p.Image&&(new Image().src=m.v,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Hn(m)}xl(c)}function ys(c){c.g&&(Ol(c),c.g.cancel(),c.g=null)}function fu(c){ys(c),c.u&&(p.clearTimeout(c.u),c.u=null),_s(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function da(c){if(!Al(c.h)&&!c.s){c.s=!0;var m=c.Ga;nt||qt(),ft||(nt(),ft=!0),Ut.add(m,c),c.B=0}}function Bh(c,m){return su(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rs(w(c.Ga,c,m),yu(c,c.B)),c.B++,!0)}s.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new ei(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Nl(this,U,m),v=oe(this.I),Lt(v,"RID",c),Lt(v,"CVER",22),this.D&&Lt(v,"X-HTTP-Session-Id",this.D),Rr(this,v),F&&(this.O?m="headers="+encodeURIComponent(String(Ar(F)))+"&"+m:this.m&&ms(v,this.m,F)),cs(this.h,U),this.Ua&&Lt(v,"TYPE","init"),this.P?(Lt(v,"$req",m),Lt(v,"SID","null"),U.T=!0,_r(U,v,null)):_r(U,v,m),this.G=2}}else this.G==3&&(c?du(this,c):this.i.length==0||Al(this.h)||du(this))};function du(c,m){var v;m?v=m.l:v=c.U++;const T=oe(c.I);Lt(T,"SID",c.K),Lt(T,"RID",v),Lt(T,"AID",c.T),Rr(c,T),c.m&&c.o&&ms(T,c.m,c.o),v=new ei(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Nl(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),cs(c.h,v),_r(v,T,m)}function Rr(c,m){c.H&&Nt(c.H,function(v,T){Lt(m,T,v)}),c.l&&aa({},function(v,T){Lt(m,T,v)})}function Nl(c,m,v){v=Math.min(c.i.length,v);var T=c.l?w(c.l.Na,c.l,c):null;t:{var U=c.i;let F=-1;for(;;){const et=["count="+v];F==-1?0<v?(F=U[0].g,et.push("ofs="+F)):F=0:et.push("ofs="+F);let Ht=!0;for(let pe=0;pe<v;pe++){let wt=U[pe].g;const De=U[pe].map;if(wt-=F,0>wt)F=Math.max(0,U[pe].g-100),Ht=!1;else try{Il(De,et,"req"+wt+"_")}catch{T&&T(De)}}if(Ht){T=et.join("&");break t}}}return c=c.i.splice(0,v),m.D=c,T}function mu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;nt||qt(),ft||(nt(),ft=!0),Ut.add(m,c),c.v=0}}function Dl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rs(w(c.Fa,c),yu(c,c.v)),c.v++,!0)}s.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rs(w(this.ab,this),c)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),ys(this),pu(this))};function Ol(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function pu(c){c.g=new ei(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=oe(c.qa);Lt(m,"RID","rpc"),Lt(m,"SID",c.K),Lt(m,"AID",c.T),Lt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Lt(m,"TO",c.ja),Lt(m,"TYPE","xmlhttp"),Rr(c,m),c.m&&c.o&&ms(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Tr(oe(m)),v.m=null,v.P=!0,wi(v,c)}s.Za=function(){this.C!=null&&(this.C=null,ys(this),Dl(this),Le(19))};function _s(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function gu(c,m){var v=null;if(c.g==m){_s(c),Ol(c),c.g=null;var T=2}else if(us(c.h,m))v=m.D,Dn(c.h,m),T=1;else return;if(c.G!=0){if(m.o)if(T==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=c.B;T=sa(),Ce(T,new yl(T,v)),da(c)}else mu(c);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Bh(c,m)||T==2&&Dl(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),U){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function yu(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function Di(c,m){if(c.j.info("Error code "+m),m==2){var v=w(c.fb,c),T=c.Xa;const U=!T;T=new Ii(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||hs(T,"https"),Tr(T),U?Rl(T.toString(),v):ou(T.toString(),v)}else Le(2);c.G=0,c.l&&c.l.sa(m),xl(c),fu(c)}s.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function xl(c){if(c.G=0,c.ka=[],c.l){const m=nn(c.h);(m.length!=0||c.i.length!=0)&&(G(c.ka,m),G(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function _u(c,m,v){var T=v instanceof Ii?oe(v):new Ii(v);if(T.g!="")m&&(T.g=m+"."+T.g),Er(T,T.s);else{var U=p.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var F=new Ii(null);T&&hs(F,T),m&&(F.g=m),U&&Er(F,U),v&&(F.l=v),T=F}return v=c.D,m=c.ya,v&&m&&Lt(T,v,m),Lt(T,"VER",c.la),Rr(c,T),T}function vu(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Wt(new si({eb:v})):new Wt(c.pa),m.Ha(c.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ma(){}ma.prototype.g=function(c,m){return new rn(c,m)};function rn(c,m){be.call(this),this.g=new hu(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!ut(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new vs(this)}Z(rn,be),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Cl(this.g)},rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Cn(c),c=v);m.i.push(new Ph(m.Ya++,c)),m.G==3&&da(m)},rn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,rn.aa.N.call(this)};function Tu(c){ns.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}Z(Tu,ns);function Au(){qn.call(this),this.status=1}Z(Au,qn);function vs(c){this.g=c}Z(vs,Eu),vs.prototype.ua=function(){Ce(this.g,"a")},vs.prototype.ta=function(c){Ce(this.g,new Tu(c))},vs.prototype.sa=function(c){Ce(this.g,new Au)},vs.prototype.ra=function(){Ce(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,IE=function(){return new ma},RE=function(){return sa()},wE=Nn,um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},le.NO_ERROR=0,le.TIMEOUT=8,le.HTTP_ERROR=6,Lc=le,ze.COMPLETE="complete",SE=ze,yr.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",be.prototype.listen=be.prototype.K,vo=yr,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,bE=Wt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore",Iv="4.8.0";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ul="11.10.0";const Zr=new Cm("@firebase/firestore");function Ha(){return Zr.logLevel}function st(s,...t){if(Zr.logLevel<=xt.DEBUG){const i=t.map(jm);Zr.debug(`Firestore (${ul}): ${s}`,...i)}}function $i(s,...t){if(Zr.logLevel<=xt.ERROR){const i=t.map(jm);Zr.error(`Firestore (${ul}): ${s}`,...i)}}function er(s,...t){if(Zr.logLevel<=xt.WARN){const i=t.map(jm);Zr.warn(`Firestore (${ul}): ${s}`,...i)}}function jm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function gt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,CE(s,r,i)}function CE(s,t,i){let r=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw $i(r),new Error(r)}function Ft(s,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||CE(t,o,r)}function Tt(s,t){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ts{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class NE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class XR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZR{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,i(g)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;t.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new NE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class JR{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $R{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new JR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const r=u=>{u.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function t2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}function DE(){return new TextEncoder}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=t2(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<i&&(r+=t.charAt(o[u]%62))}return r}}function Rt(s,t){return s<t?-1:s>t?1:0}function cm(s,t){let i=0;for(;i<s.length&&i<t.length;){const r=s.codePointAt(i),o=t.codePointAt(i);if(r!==o){if(r<128&&o<128)return Rt(r,o);{const u=DE(),d=e2(u.encode(Nv(s,i)),u.encode(Nv(t,i)));return d!==0?d:Rt(r,o)}}i+=r>65535?2:1}return Rt(s.length,t.length)}function Nv(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function e2(s,t){for(let i=0;i<s.length&&i<t.length;++i)if(s[i]!==t[i])return Rt(s[i],t[i]);return Rt(s.length,t.length)}function tl(s,t,i){return s.length===t.length&&s.every(((r,o)=>i(r,t[o])))}const Dv="__name__";class ci{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ci?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const u=ci.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Rt(t.length,i.length)}static compareSegments(t,i){const r=ci.isNumericId(t),o=ci.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ci.extractNumericId(t).compare(ci.extractNumericId(i)):cm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $s.fromString(t.substring(4,t.length-2))}}class ne extends ci{construct(t,i,r){return new ne(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ot(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const n2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends ci{construct(t,i,r){return new Ge(t,i,r)}static isValidIdentifier(t){return n2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Ge([Dv])}static fromServerFormat(t){const i=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ot(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ot(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(u(),o++)}if(u(),d)throw new ot(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function OE(s,t,i){if(!i)throw new ot(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function i2(s,t,i,r){if(t===!0&&r===!0)throw new ot(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ov(s){if(!dt.isDocumentKey(s))throw new ot(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xv(s){if(dt.isDocumentKey(s))throw new ot(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function xE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":gt(12329,{type:typeof s})}function Ws(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ot(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(s);throw new ot(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Te(s,t){const i={typeString:s};return t&&(i.value=t),i}function Qo(s,t){if(!xE(s))throw new ot(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ot(W.INVALID_ARGUMENT,i);return!0}const Vv=-62135596800,Mv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Mv);return new ie(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Vv)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Qo(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Te("string",ie._jsonSchemaVersion),seconds:Te("number"),nanoseconds:Te("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ko=-1;function s2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(r===1e9?new ie(i+1,0):new ie(i,r));return new nr(o,dt.empty(),t)}function r2(s){return new nr(s.readTime,s.key,ko)}class nr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new nr(vt.min(),dt.empty(),ko)}static max(){return new nr(vt.max(),dt.empty(),ko)}}function a2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Rt(s.largestBatchId,t.largestBatchId))}const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function cl(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==l2)throw s;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let o=0,u=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++u,d&&u===o&&i()}),(g=>r(g)))})),d=!0,u===o&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((o=>o?$.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,u)=>{r.push(i.call(this,o,u))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,o)=>{const u=t.length,d=new Array(u);let p=0;for(let g=0;g<u;g++){const _=g;i(t[_]).next((A=>{d[_]=A,++p,p===u&&r(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new $(((r,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):r()};u()}))}}function u2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function hl(s){return s.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this._e(r),this.ae=r=>i.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}ph.ue=-1;const Hm=-1;function gh(s){return s==null}function $c(s){return s===0&&1/s==-1/0}function c2(s){return typeof s=="number"&&Number.isInteger(s)&&!$c(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const VE="";function h2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=kv(t)),t=f2(s.get(i),t);return kv(t)}function f2(s,t){let i=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":i+="";break;case VE:i+="";break;default:i+=u}}return i}function kv(s){return s+VE+""}function Pv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function hr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function ME(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ae{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?r(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??Fe.RED,this.left=o??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,u){return new Fe(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,o,u){return this}insert(t,i,r){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ie{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(t){return new Uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ie(this.comparator);return i.data=t,i}}class Uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new In([])}unionWith(t){let i=new Ie(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return tl(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class kE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new kE("Invalid base64 string: "+u):u}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Ft(!!s,39018),typeof s=="string"){let t=0;const i=d2.exec(s);if(Ft(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const PE="server_timestamp",UE="__type__",LE="__previous_value__",zE="__local_write_time__";function Fm(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{})[UE])===null||i===void 0?void 0:i.stringValue)===PE}function yh(s){const t=s.mapValue.fields[LE];return Fm(t)?yh(t):t}function Po(s){const t=ir(s.mapValue.fields[zE].timestampValue);return new ie(t.seconds,t.nanos)}class m2{constructor(t,i,r,o,u,d,p,g,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=A}}const Wc="(default)";class Uo{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Uo("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Uo&&t.projectId===this.projectId&&t.database===this.database}}const jE="__type__",p2="__max__",Nc={mapValue:{}},BE="__vector__",th="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fm(s)?4:y2(s)?9007199254740991:g2(s)?10:11:gt(28295,{value:s})}function _i(s,t){if(s===t)return!0;const i=rr(s);if(i!==rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Po(s).isEqual(Po(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ir(o.timestampValue),p=ir(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return sr(o.bytesValue).isEqual(sr(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return me(o.geoPointValue.latitude)===me(u.geoPointValue.latitude)&&me(o.geoPointValue.longitude)===me(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return me(o.integerValue)===me(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=me(o.doubleValue),p=me(u.doubleValue);return d===p?$c(d)===$c(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return tl(s.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Pv(d)!==Pv(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!_i(d[g],p[g])))return!1;return!0})(s,t);default:return gt(52216,{left:s})}}function Lo(s,t){return(s.values||[]).find((i=>_i(i,t)))!==void 0}function el(s,t){if(s===t)return 0;const i=rr(s),r=rr(t);if(i!==r)return Rt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(s.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=me(u.integerValue||u.doubleValue),g=me(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,t);case 3:return Lv(s.timestampValue,t.timestampValue);case 4:return Lv(Po(s),Po(t));case 5:return cm(s.stringValue,t.stringValue);case 6:return(function(u,d){const p=sr(u),g=sr(d);return p.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const A=Rt(p[_],g[_]);if(A!==0)return A}return Rt(p.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=Rt(me(u.latitude),me(d.latitude));return p!==0?p:Rt(me(u.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return zv(s.arrayValue,t.arrayValue);case 10:return(function(u,d){var p,g,_,A;const b=u.fields||{},w=d.fields||{},B=(p=b[th])===null||p===void 0?void 0:p.arrayValue,Z=(g=w[th])===null||g===void 0?void 0:g.arrayValue,q=Rt(((_=B?.values)===null||_===void 0?void 0:_.length)||0,((A=Z?.values)===null||A===void 0?void 0:A.length)||0);return q!==0?q:zv(B,Z)})(s.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Nc.mapValue&&d===Nc.mapValue)return 0;if(u===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),_=d.fields||{},A=Object.keys(_);g.sort(),A.sort();for(let b=0;b<g.length&&b<A.length;++b){const w=cm(g[b],A[b]);if(w!==0)return w;const B=el(p[g[b]],_[A[b]]);if(B!==0)return B}return Rt(g.length,A.length)})(s.mapValue,t.mapValue);default:throw gt(23264,{le:i})}}function Lv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Rt(s,t);const i=ir(s),r=ir(t),o=Rt(i.seconds,r.seconds);return o!==0?o:Rt(i.nanos,r.nanos)}function zv(s,t){const i=s.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const u=el(i[o],r[o]);if(u)return u}return Rt(i.length,r.length)}function nl(s){return hm(s)}function hm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ir(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=hm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const d of r)u?u=!1:o+=",",o+=`${d}:${hm(i.fields[d])}`;return o+"}"})(s.mapValue):gt(61005,{value:s})}function zc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(s);return t?16+zc(t):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+zc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return hr(r.fields,((u,d)=>{o+=u.length+zc(d)})),o})(s.mapValue);default:throw gt(13486,{value:s})}}function fm(s){return!!s&&"integerValue"in s}function Gm(s){return!!s&&"arrayValue"in s}function jv(s){return!!s&&"nullValue"in s}function Bv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function jc(s){return!!s&&"mapValue"in s}function g2(s){var t,i;return((i=(((t=s?.mapValue)===null||t===void 0?void 0:t.fields)||{})[jE])===null||i===void 0?void 0:i.stringValue)===BE}function Io(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return hr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Io(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Io(s.arrayValue.values[i]);return t}return Object.assign({},s)}function y2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===p2}class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!jc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Io(i)}setAll(t){let i=Ge.emptyPath(),r={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=Io(d):o.push(p.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,o)}delete(t){const i=this.field(t.popLast());jc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return _i(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){hr(i,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new pn(Io(this.value))}}function qE(s){const t=[];return hr(s.fields,((i,r)=>{const o=new Ge([i]);if(jc(r)){const u=qE(r.mapValue).fields;if(u.length===0)t.push(o);else for(const d of u)t.push(o.child(d))}else t.push(o)})),new In(t)}class $e{constructor(t,i,r,o,u,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,vt.min(),vt.min(),vt.min(),pn.empty(),0)}static newFoundDocument(t,i,r,o){return new $e(t,1,i,vt.min(),r,o,0)}static newNoDocument(t,i){return new $e(t,2,i,vt.min(),vt.min(),pn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,vt.min(),vt.min(),pn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function qv(s,t,i){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],d=s.position[o];if(u.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=el(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!_i(s.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function _2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class HE{}class we extends HE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new E2(t,i,r):i==="array-contains"?new b2(t,r):i==="in"?new S2(t,r):i==="not-in"?new w2(t,r):i==="array-contains-any"?new R2(t,r):new we(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new T2(t,r):new A2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(el(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(el(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends HE{constructor(t,i){super(),this.filters=t,this.op=i,this.he=null}static create(t,i){return new vi(t,i)}matches(t){return FE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function FE(s){return s.op==="and"}function GE(s){return v2(s)&&FE(s)}function v2(s){for(const t of s.filters)if(t instanceof vi)return!1;return!0}function dm(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+nl(s.value);if(GE(s))return s.filters.map((t=>dm(t))).join(",");{const t=s.filters.map((i=>dm(i))).join(",");return`${s.op}(${t})`}}function KE(s,t){return s instanceof we?(function(r,o){return o instanceof we&&r.op===o.op&&r.field.isEqual(o.field)&&_i(r.value,o.value)})(s,t):s instanceof vi?(function(r,o){return o instanceof vi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,d,p)=>u&&KE(d,o.filters[p])),!0):!1})(s,t):void gt(19439)}function QE(s){return s instanceof we?(function(i){return`${i.field.canonicalString()} ${i.op} ${nl(i.value)}`})(s):s instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(QE).join(" ,")+"}"})(s):"Filter"}class E2 extends we{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class T2 extends we{constructor(t,i){super(t,"in",i),this.keys=YE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class A2 extends we{constructor(t,i){super(t,"not-in",i),this.keys=YE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function YE(s,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map((r=>dt.fromName(r.referenceValue)))}class b2 extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gm(i)&&Lo(i.arrayValue,this.value)}}class S2 extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Lo(this.value.arrayValue,i)}}class w2 extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Lo(this.value.arrayValue,i)}}class R2 extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Lo(this.value.arrayValue,r)))}}class I2{constructor(t,i=null,r=[],o=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Pe=null}}function Fv(s,t=null,i=[],r=[],o=null,u=null,d=null){return new I2(s,t,i,r,o,u,d)}function Km(s){const t=Tt(s);if(t.Pe===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>dm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>nl(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>nl(r))).join(",")),t.Pe=i}return t.Pe}function Qm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!_2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!KE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Hv(s.startAt,t.startAt)&&Hv(s.endAt,t.endAt)}function mm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(t,i=null,r=[],o=[],u=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function C2(s,t,i,r,o,u,d,p){return new _h(s,t,i,r,o,u,d,p)}function Ym(s){return new _h(s)}function Gv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function N2(s){return s.collectionGroup!==null}function Co(s){const t=Tt(s);if(t.Te===null){t.Te=[];const i=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),i.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ie(Ge.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Te.push(new nh(u,r))})),i.has(Ge.keyField().canonicalString())||t.Te.push(new nh(Ge.keyField(),r))}return t.Te}function mi(s){const t=Tt(s);return t.Ie||(t.Ie=D2(t,Co(s))),t.Ie}function D2(s,t){if(s.limitType==="F")return Fv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nh(o.field,u)}));const i=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return Fv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function pm(s,t,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function vh(s,t){return Qm(mi(s),mi(t))&&s.limitType===t.limitType}function XE(s){return`${Km(mi(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>QE(o))).join(", ")}]`),gh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>nl(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>nl(o))).join(",")),`Target(${r})`})(mi(s))}; limitType=${s.limitType})`}function Eh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):dt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of Co(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(d,p,g){const _=qv(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,Co(r),o)||r.endAt&&!(function(d,p,g){const _=qv(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,Co(r),o))})(s,t)}function O2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ZE(s){return(t,i)=>{let r=!1;for(const o of Co(s)){const u=x2(o,t,i);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function x2(s,t,i){const r=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(u,d,p){const g=d.data.field(u),_=p.data.field(u);return g!==null&&_!==null?el(g,_):gt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:s.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){hr(this.inner,((i,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}const V2=new ae(dt.comparator);function Wi(){return V2}const JE=new ae(dt.comparator);function Eo(...s){let t=JE;for(const i of s)t=t.insert(i.key,i);return t}function $E(s){let t=JE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Fr(){return No()}function WE(){return No()}function No(){return new $r((s=>s.toString()),((s,t)=>s.isEqual(t)))}const M2=new ae(dt.comparator),k2=new Ie(dt.comparator);function Vt(...s){let t=k2;for(const i of s)t=t.add(i);return t}const P2=new Ie(Rt);function U2(){return P2}function Xm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function tT(s){return{integerValue:""+s}}function L2(s,t){return c2(t)?tT(t):Xm(s,t)}class Th{constructor(){this._=void 0}}function z2(s,t,i){return s instanceof ih?(function(o,u){const d={fields:{[UE]:{stringValue:PE},[zE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=yh(u)),u&&(d.fields[LE]=u),{mapValue:d}})(i,t):s instanceof zo?nT(s,t):s instanceof jo?iT(s,t):(function(o,u){const d=eT(o,u),p=Kv(d)+Kv(o.Ee);return fm(d)&&fm(o.Ee)?tT(p):Xm(o.serializer,p)})(s,t)}function j2(s,t,i){return s instanceof zo?nT(s,t):s instanceof jo?iT(s,t):i}function eT(s,t){return s instanceof sh?(function(r){return fm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class ih extends Th{}class zo extends Th{constructor(t){super(),this.elements=t}}function nT(s,t){const i=sT(t);for(const r of s.elements)i.some((o=>_i(o,r)))||i.push(r);return{arrayValue:{values:i}}}class jo extends Th{constructor(t){super(),this.elements=t}}function iT(s,t){let i=sT(t);for(const r of s.elements)i=i.filter((o=>!_i(o,r)));return{arrayValue:{values:i}}}class sh extends Th{constructor(t,i){super(),this.serializer=t,this.Ee=i}}function Kv(s){return me(s.integerValue||s.doubleValue)}function sT(s){return Gm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function B2(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof zo&&o instanceof zo||r instanceof jo&&o instanceof jo?tl(r.elements,o.elements,_i):r instanceof sh&&o instanceof sh?_i(r.Ee,o.Ee):r instanceof ih&&o instanceof ih})(s.transform,t.transform)}class q2{constructor(t,i){this.version=t,this.transformResults=i}}class Xn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xn}static exists(t){return new Xn(void 0,t)}static updateTime(t){return new Xn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ah{}function rT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Zm(s.key,Xn.none()):new Yo(s.key,s.data,Xn.none());{const i=s.data,r=pn.empty();let o=new Ie(Ge.comparator);for(let u of t.fields)if(!o.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),o=o.add(u)}return new fr(s.key,r,new In(o.toArray()),Xn.none())}}function H2(s,t,i){s instanceof Yo?(function(o,u,d){const p=o.value.clone(),g=Yv(o.fieldTransforms,u,d.transformResults);p.setAll(g),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof fr?(function(o,u,d){if(!Bc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=Yv(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(aT(o)),g.setAll(p),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Do(s,t,i,r){return s instanceof Yo?(function(u,d,p,g){if(!Bc(u.precondition,d))return p;const _=u.value.clone(),A=Xv(u.fieldTransforms,g,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof fr?(function(u,d,p,g){if(!Bc(u.precondition,d))return p;const _=Xv(u.fieldTransforms,g,d),A=d.data;return A.setAll(aT(u)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(u,d,p){return Bc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function F2(s,t){let i=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=eT(r.transform,o||null);u!=null&&(i===null&&(i=pn.empty()),i.set(r.field,u))}return i||null}function Qv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&tl(r,o,((u,d)=>B2(u,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Yo extends Ah{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fr extends Ah{constructor(t,i,r,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Yv(s,t,i){const r=new Map;Ft(s.length===i.length,32656,{Ae:i.length,Re:s.length});for(let o=0;o<i.length;o++){const u=s[o],d=u.transform,p=t.data.field(u.field);r.set(u.field,j2(d,p,i[o]))}return r}function Xv(s,t,i){const r=new Map;for(const o of s){const u=o.transform,d=i.data.field(o.field);r.set(o.field,z2(u,d,t))}return r}class Zm extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K2{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&H2(u,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Do(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Do(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=WE();return this.mutations.forEach((o=>{const u=t.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=i.has(o.key)?null:p;const g=rT(d,p);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(vt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&tl(this.mutations,t.mutations,((i,r)=>Qv(i,r)))&&tl(this.baseMutations,t.baseMutations,((i,r)=>Qv(i,r)))}}class Jm{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){Ft(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let o=(function(){return M2})();const u=t.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new Jm(t,i,r,o)}}class Q2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Y2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ee,Pt;function X2(s){switch(s){case W.OK:return gt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return gt(15467,{code:s})}}function lT(s){if(s===void 0)return $i("GRPC error has no .code"),W.UNKNOWN;switch(s){case Ee.OK:return W.OK;case Ee.CANCELLED:return W.CANCELLED;case Ee.UNKNOWN:return W.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return W.INTERNAL;case Ee.UNAVAILABLE:return W.UNAVAILABLE;case Ee.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ee.NOT_FOUND:return W.NOT_FOUND;case Ee.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ee.ABORTED:return W.ABORTED;case Ee.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ee.DATA_LOSS:return W.DATA_LOSS;default:return gt(39323,{code:s})}}(Pt=Ee||(Ee={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";const Z2=new $s([4294967295,4294967295],0);function Zv(s){const t=DE().encode(s),i=new AE;return i.update(t),new Uint8Array(i.digest())}function Jv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new $s([i,r],0),new $s([o,u],0)]}class $m{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new To(`Invalid padding: ${i}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new To(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*t.length-i,this.ge=$s.fromNumber(this.fe)}pe(t,i,r){let o=t.add(i.multiply($s.fromNumber(r)));return o.compare(Z2)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const i=Zv(t),[r,o]=Jv(i);for(let u=0;u<this.hashCount;u++){const d=this.pe(r,o,u);if(!this.ye(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new $m(u,o,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.fe===0)return;const i=Zv(t),[r,o]=Jv(i);for(let u=0;u<this.hashCount;u++){const d=this.pe(r,o,u);this.we(d)}}we(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,r,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,Xo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new bh(vt.min(),o,new ae(Rt),Wi(),Vt())}}class Xo{constructor(t,i,r,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Xo(r,i,Vt(),Vt(),Vt())}}class qc{constructor(t,i,r,o){this.Se=t,this.removedTargetIds=i,this.key=r,this.be=o}}class oT{constructor(t,i){this.targetId=t,this.De=i}}class uT{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class $v{constructor(){this.ve=0,this.Ce=Wv(),this.Fe=Ke.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Vt(),i=Vt(),r=Vt();return this.Ce.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:gt(38017,{changeType:u})}})),new Xo(this.Fe,this.Me,t,i,r)}ke(){this.xe=!1,this.Ce=Wv()}qe(t,i){this.xe=!0,this.Ce=this.Ce.insert(t,i)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class J2{constructor(t){this.We=t,this.Ge=new Map,this.ze=Wi(),this.je=Dc(),this.Je=Dc(),this.He=new ae(Rt)}Ye(t){for(const i of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(i,t.be):this.Xe(i,t.key,t.be);for(const i of t.removedTargetIds)this.Xe(i,t.key,t.be)}et(t){this.forEachTarget(t,(i=>{const r=this.tt(i);switch(t.state){case 0:this.nt(i)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),r.Be(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Ge.forEach(((r,o)=>{this.nt(o)&&i(o)}))}it(t){const i=t.targetId,r=t.De.count,o=this.st(i);if(o){const u=o.target;if(mm(u))if(r===0){const d=new dt(u.path);this.Xe(i,d,$e.newNoDocument(d,vt.min()))}else Ft(r===1,20013,{expectedCount:r});else{const d=this.ot(i);if(d!==r){const p=this._t(t),g=p?this.ut(p,t,d):1;if(g!==0){this.rt(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,_)}}}}}_t(t){const i=t.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=i;let d,p;try{d=sr(r).toUint8Array()}catch(g){if(g instanceof kE)return er("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new $m(d,o,u)}catch(g){return er(g instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(t,i,r){return i.De.count===r-this.ht(t,i.targetId)?0:2}ht(t,i){const r=this.We.getRemoteKeysForTarget(i);let o=0;return r.forEach((u=>{const d=this.We.lt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.Xe(i,u,null),o++)})),o}Pt(t){const i=new Map;this.Ge.forEach(((u,d)=>{const p=this.st(d);if(p){if(u.current&&mm(p.target)){const g=new dt(p.target.path);this.Tt(g).has(d)||this.It(d,g)||this.Xe(d,g,$e.newNoDocument(g,t))}u.Ne&&(i.set(d,u.Le()),u.ke())}}));let r=Vt();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.st(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(u))})),this.ze.forEach(((u,d)=>d.setReadTime(t)));const o=new bh(t,i,this.He,this.ze,r);return this.ze=Wi(),this.je=Dc(),this.Je=Dc(),this.He=new ae(Rt),o}Ze(t,i){if(!this.nt(t))return;const r=this.It(t,i.key)?2:0;this.tt(t).qe(i.key,r),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(t)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(t))}Xe(t,i,r){if(!this.nt(t))return;const o=this.tt(t);this.It(t,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(t)),this.Je=this.Je.insert(i,this.dt(i).add(t)),r&&(this.ze=this.ze.insert(i,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const i=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let i=this.Ge.get(t);return i||(i=new $v,this.Ge.set(t,i)),i}dt(t){let i=this.Je.get(t);return i||(i=new Ie(Rt),this.Je=this.Je.insert(t,i)),i}Tt(t){let i=this.je.get(t);return i||(i=new Ie(Rt),this.je=this.je.insert(t,i)),i}nt(t){const i=this.st(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}st(t){const i=this.Ge.get(t);return i&&i.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new $v),this.We.getRemoteKeysForTarget(t).forEach((i=>{this.Xe(t,i,null)}))}It(t,i){return this.We.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ae(dt.comparator)}function Wv(){return new ae(dt.comparator)}const $2={asc:"ASCENDING",desc:"DESCENDING"},W2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tI={and:"AND",or:"OR"};class eI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gm(s,t){return s.useProto3Json||gh(t)?t:{value:t}}function rh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function nI(s,t){return rh(s,t.toTimestamp())}function pi(s){return Ft(!!s,49232),vt.fromTimestamp((function(i){const r=ir(i);return new ie(r.seconds,r.nanos)})(s))}function Wm(s,t){return ym(s,t).canonicalString()}function ym(s,t){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function hT(s){const t=ne.fromString(s);return Ft(gT(t),10190,{key:t.toString()}),t}function _m(s,t){return Wm(s.databaseId,t.path)}function Xd(s,t){const i=hT(t);if(i.get(1)!==s.databaseId.projectId)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(dT(i))}function fT(s,t){return Wm(s.databaseId,t)}function iI(s){const t=hT(s);return t.length===4?ne.emptyPath():dT(t)}function vm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function dT(s){return Ft(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function t0(s,t,i){return{name:_m(s,t),fields:i.value.mapValue.fields}}function sI(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(_,A){return _.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?W.UNKNOWN:lT(_.code);return new ot(A,_.message||"")})(d);i=new uT(r,o,u,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Xd(s,r.document.name),u=pi(r.document.updateTime),d=r.document.createTime?pi(r.document.createTime):vt.min(),p=new pn({mapValue:{fields:r.document.fields}}),g=$e.newFoundDocument(o,u,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new qc(_,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Xd(s,r.document),u=r.readTime?pi(r.readTime):vt.min(),d=$e.newNoDocument(o,u),p=r.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Xd(s,r.document),u=r.removedTargetIds||[];i=new qc([],u,o,null)}else{if(!("filter"in t))return gt(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,d=new Y2(o,u),p=r.targetId;i=new oT(p,d)}}return i}function rI(s,t){let i;if(t instanceof Yo)i={update:t0(s,t.key,t.value)};else if(t instanceof Zm)i={delete:_m(s,t.key)};else if(t instanceof fr)i={update:t0(s,t.key,t.data),updateMask:mI(t.fieldMask)};else{if(!(t instanceof G2))return gt(16599,{Rt:t.type});i={verify:_m(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(u,d){const p=d.transform;if(p instanceof ih)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof sh)return{fieldPath:d.field.canonicalString(),increment:p.Ee};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:nI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(s,t.precondition)),i}function aI(s,t){return s&&s.length>0?(Ft(t!==void 0,14353),s.map((i=>(function(o,u){let d=o.updateTime?pi(o.updateTime):pi(u);return d.isEqual(vt.min())&&(d=pi(u)),new q2(d,o.transformResults||[])})(i,t)))):[]}function lI(s,t){return{documents:[fT(s,t.path)]}}function oI(s,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=fT(s,o);const u=(function(_){if(_.length!==0)return pT(vi.create(_,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((A=>(function(w){return{field:Ga(w.field),direction:hI(w.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=gm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{Vt:i,parent:o}}function uI(s){let t=iI(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Ft(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let u=[];i.where&&(u=(function(b){const w=mT(b);return w instanceof vi&&GE(w)?w.getFilters():[w]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((w=>(function(Z){return new nh(Ka(Z.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(w)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let w;return w=typeof b=="object"?b.value:b,gh(w)?null:w})(i.limit));let g=null;i.startAt&&(g=(function(b){const w=!!b.before,B=b.values||[];return new eh(B,w)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const w=!b.before,B=b.values||[];return new eh(B,w)})(i.endAt)),C2(t,o,d,u,p,"F",g,_)}function cI(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function mT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ka(i.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(i.unaryFilter.field);return we.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(i.unaryFilter.field);return we.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return we.create(Ka(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((r=>mT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(s):gt(30097,{filter:s})}function hI(s){return $2[s]}function fI(s){return W2[s]}function dI(s){return tI[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Ka(s){return Ge.fromServerFormat(s.fieldPath)}function pT(s){return s instanceof we?(function(i){if(i.op==="=="){if(Bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(jv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(jv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:fI(i.op),value:i.value}}})(s):s instanceof vi?(function(i){const r=i.getFilters().map((o=>pT(o)));return r.length===1?r[0]:{compositeFilter:{op:dI(i.op),filters:r}}})(s):gt(54877,{filter:s})}function mI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Ys{constructor(t,i,r,o,u=vt.min(),d=vt.min(),p=Ke.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pI{constructor(t){this.gt=t}}function gI(s){const t=uI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(t,t.limit,"L"):t}class yI{constructor(){this.Dn=new _I}addToCollectionParentIndex(t,i){return this.Dn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Dn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(nr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class _I{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ie(ne.comparator),u=!o.has(r);return this.index[i]=o.add(r),u}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ie(ne.comparator)).toArray()}}const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yT=41943040;class mn{static withCacheSize(t){return new mn(t,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(yT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);class il{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new il(0)}static ur(){return new il(-1)}}const n0="LruGarbageCollector",vI=1048576;function i0([s,t],[i,r]){const o=Rt(s,i);return o===0?Rt(t,r):o}class EI{constructor(t){this.Tr=t,this.buffer=new Ie(i0),this.Ir=0}dr(){return++this.Ir}Er(t){const i=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();i0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){st(n0,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){hl(i)?st(n0,"Ignoring IndexedDB error during garbage collection: ",i):await cl(i)}await this.Rr(3e5)}))}}class AI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.mr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(ph.ue);const r=new EI(i);return this.Vr.forEachTarget(t,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.gr(t,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.Vr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(e0)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.pr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,i){let r,o,u,d,p,g,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),Ha()<=xt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(_-g)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function bI(s,t){return new AI(s,t)}class SI{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class RI{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Do(r.mutation,o,In.empty(),ie.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Vt()){const o=Fr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((u=>{let d=Eo();return u.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Fr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Vt())))}populateOverlays(t,i,r){const o=[];return r.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,o){let u=Wi();const d=No(),p=(function(){return No()})();return i.forEach(((g,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof fr)?u=u.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Do(A.mutation,_,A.mutation.getFieldMask(),ie.now())):d.set(_.key,In.empty())})),this.recalculateAndSaveOverlays(t,u).next((g=>(g.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>{var b;return p.set(_,new wI(A,(b=d.get(_))!==null&&b!==void 0?b:null))})),p)))}recalculateAndSaveOverlays(t,i){const r=No();let o=new ae(((d,p)=>d-p)),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let A=r.get(g)||In.empty();A=p.applyToLocalView(_,A),r.set(g,A);const b=(o.get(p.batchId)||Vt()).add(g);o=o.insert(p.batchId,b)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,A=g.value,b=WE();A.forEach((w=>{if(!u.has(w)){const B=rT(i.get(w),r.get(w));B!==null&&b.set(w,B),u=u.add(w)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):N2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-u.size):$.resolve(Fr());let p=ko,g=u;return d.next((_=>$.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),u.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((w=>{g=g.insert(A,w)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,g,_,Vt()))).next((A=>({batchId:p,changes:$E(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let o=Eo();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const u=i.collectionGroup;let d=Eo();return this.indexManager.getCollectionParents(t,u).next((p=>$.forEach(p,(g=>{const _=(function(b,w){return new _h(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,r,o).next((A=>{A.forEach(((b,w)=>{d=d.insert(b,w)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,u,o)))).next((d=>{u.forEach(((g,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,$e.newInvalidDocument(A)))}));let p=Eo();return d.forEach(((g,_)=>{const A=u.get(g);A!==void 0&&Do(A.mutation,_,In.empty(),ie.now()),Eh(i,_)&&(p=p.insert(g,_))})),p}))}}class II{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,i){return $.resolve(this.Br.get(i))}saveBundleMetadata(t,i){return this.Br.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.Lr.get(i))}saveNamedQuery(t,i){return this.Lr.set(i.name,(function(o){return{name:o.name,query:gI(o.bundledQuery),readTime:pi(o.readTime)}})(i)),$.resolve()}}class CI{constructor(){this.overlays=new ae(dt.comparator),this.kr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Fr();return $.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,u)=>{this.wt(t,i,u)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.kr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.kr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const o=Fr(),u=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let u=new ae(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=u.get(_.largestBatchId);A===null&&(A=Fr(),u=u.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Fr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return $.resolve(p)}wt(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(r.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Q2(i,r));let u=this.kr.get(i);u===void 0&&(u=Vt(),this.kr.set(i,u)),this.kr.set(i,u.add(r.key))}}class NI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class tp{constructor(){this.qr=new Ie(Ve.Qr),this.$r=new Ie(Ve.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,i){const r=new Ve(t,i);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Wr(new Ve(t,i))}Gr(t,i){t.forEach((r=>this.removeReference(r,i)))}zr(t){const i=new dt(new ne([])),r=new Ve(i,t),o=new Ve(i,t+1),u=[];return this.$r.forEachInRange([r,o],(d=>{this.Wr(d),u.push(d.key)})),u}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const i=new dt(new ne([])),r=new Ve(i,t),o=new Ve(i,t+1);let u=Vt();return this.$r.forEachInRange([r,o],(d=>{u=u.add(d.key)})),u}containsKey(t){const i=new Ve(t,0),r=this.qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Ve{constructor(t,i){this.key=t,this.Hr=i}static Qr(t,i){return dt.comparator(t.key,i.key)||Rt(t.Hr,i.Hr)}static Ur(t,i){return Rt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class DI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ie(Ve.Qr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new K2(u,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Yr=this.Yr.add(new Ve(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.Xr(r),u=o<0?0:o;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Hm:this.er-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([r,o],(d=>{const p=this.Zr(d.Hr);u.push(p)})),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ie(Rt);return i.forEach((o=>{const u=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,d],(p=>{r=r.add(p.Hr)}))})),$.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let u=r;dt.isDocumentKey(u)||(u=u.child(""));const d=new Ve(new dt(u),0);let p=new Ie(Rt);return this.Yr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(g.Hr)),!0)}),d),$.resolve(this.ei(p))}ei(t){const i=[];return t.forEach((r=>{const o=this.Zr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ft(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $.forEach(i.mutations,(o=>{const u=new Ve(o.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Yr=r}))}rr(t){}containsKey(t,i){const r=new Ve(i,0),o=this.Yr.firstAfterOrEqual(r);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ti(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OI{constructor(t){this.ni=t,this.docs=(function(){return new ae(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),u=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let r=Wi();return i.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let u=Wi();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:A}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||a2(r2(A),r)<=0||(o.has(A.key)||Eh(i,A))&&(u=u.insert(A.key,A.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,i,r,o){gt(9500)}ri(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new xI(this)}getSize(t){return $.resolve(this.size)}}class xI extends SI{constructor(t){super(),this.Or=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(t,o)):this.Or.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Or.getEntry(t,i)}getAllFromCache(t,i){return this.Or.getEntries(t,i)}}class VI{constructor(t){this.persistence=t,this.ii=new $r((i=>Km(i)),Qm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.si=0,this.oi=new tp,this.targetCount=0,this._i=il.ar()}forEachTarget(t,i){return this.ii.forEach(((r,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.si&&(this.si=i),$.resolve()}hr(t){this.ii.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this._i=new il(i),this.highestTargetId=i),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,i){return this.hr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.hr(i),$.resolve()}removeTargetData(t,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let o=0;const u=[];return this.ii.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.ii.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),$.waitFor(u).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.ii.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this.oi.Kr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this.oi.Gr(i,r);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((d=>{u.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this.oi.zr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this.oi.Jr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this.oi.containsKey(i))}}class _T{constructor(t,i){this.ai={},this.overlays={},this.ui=new ph(0),this.ci=!1,this.ci=!0,this.li=new NI,this.referenceDelegate=t(this),this.hi=new VI(this),this.indexManager=new yI,this.remoteDocumentCache=(function(o){return new OI(o)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new pI(i),this.Ti=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new CI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ai[t.toKey()];return r||(r=new DI(i,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,i,r){st("MemoryPersistence","Starting transaction:",t);const o=new MI(this.ui.next());return this.referenceDelegate.Ii(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,i){return $.or(Object.values(this.ai).map((r=>()=>r.containsKey(t,i))))}}class MI extends o2{constructor(t){super(),this.currentSequenceNumber=t}}class ep{constructor(t){this.persistence=t,this.Ai=new tp,this.Ri=null}static Vi(t){return new ep(t)}get mi(){if(this.Ri)return this.Ri;throw gt(60996)}addReference(t,i,r){return this.Ai.addReference(r,i),this.mi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ai.removeReference(r,i),this.mi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.mi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ai.zr(i.targetId).forEach((o=>this.mi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.mi.add(u.toString())))})).next((()=>r.removeTargetData(t,i)))}Ii(){this.Ri=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,(r=>{const o=dt.fromPath(r);return this.fi(t,o).next((u=>{u||i.removeEntry(o,vt.min())}))})).next((()=>(this.Ri=null,i.apply(t))))}updateLimboDocument(t,i){return this.fi(t,i).next((r=>{r?this.mi.delete(i.toString()):this.mi.add(i.toString())}))}Pi(t){return 0}fi(t,i){return $.or([()=>$.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ah{constructor(t,i){this.persistence=t,this.gi=new $r((r=>h2(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=bI(this,i)}static Vi(t,i){return new ah(t,i)}Ii(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}mr(t){const i=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}yr(t){let i=0;return this.gr(t,(r=>{i++})).next((()=>i))}gr(t,i){return $.forEach(this.gi,((r,o)=>this.Sr(t,r,o).next((u=>u?$.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,(d=>this.Sr(t,d,i).next((p=>{p||(r++,u.removeEntry(d,vt.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.gi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.gi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.gi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.gi.set(i,t.currentSequenceNumber),$.resolve()}Pi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}Sr(t,i,r){return $.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.gi.get(i);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class np{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Is=r,this.ds=o}static Es(t,i){let r=Vt(),o=Vt();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new np(t,i.fromCache,r,o)}}class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class PI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return db()?8:u2(We())>0?6:4})()}initialize(t,i){this.gs=t,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(t,i,r,o){const u={result:null};return this.ps(t,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ys(t,i,o,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new kI;return this.ws(t,i,d).next((p=>{if(u.result=p,this.Rs)return this.Ss(t,i,d,p.size)}))})).next((()=>u.result))}Ss(t,i,r,o){return r.documentReadCount<this.Vs?(Ha()<=xt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ha()<=xt.DEBUG&&st("QueryEngine","Query:",Fa(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.fs*o?(Ha()<=xt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(i))):$.resolve())}ps(t,i){if(Gv(i))return $.resolve(null);let r=mi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pm(i,null,"F"),r=mi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const d=Vt(...u);return this.gs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((g=>{const _=this.bs(i,p);return this.Ds(i,_,d,g.readTime)?this.ps(t,pm(i,null,"F")):this.vs(t,_,i,g)}))))})))))}ys(t,i,r,o){return Gv(i)||o.isEqual(vt.min())?$.resolve(null):this.gs.getDocuments(t,r).next((u=>{const d=this.bs(i,u);return this.Ds(i,d,r,o)?$.resolve(null):(Ha()<=xt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(i)),this.vs(t,d,i,s2(o,ko)).next((p=>p)))}))}bs(t,i){let r=new Ie(ZE(t));return i.forEach(((o,u)=>{Eh(t,u)&&(r=r.add(u))})),r}Ds(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,i,r){return Ha()<=xt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.gs.getDocumentsMatchingQuery(t,i,nr.min(),r)}vs(t,i,r,o){return this.gs.getDocumentsMatchingQuery(t,r,o).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const ip="LocalStore",UI=3e8;class LI{constructor(t,i,r,o){this.persistence=t,this.Cs=i,this.serializer=o,this.Fs=new ae(Rt),this.Ms=new $r((u=>Km(u)),Qm),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new RI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Fs)))}}function zI(s,t,i,r){return new LI(s,t,i,r)}async function vT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,i.Ns(t),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],p=[];let g=Vt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}for(const _ of u){p.push(_.batchId);for(const A of _.mutations)g=g.add(A.key)}return i.localDocuments.getDocuments(r,g).next((_=>({Bs:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function jI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=i.Os.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,A){const b=_.batch,w=b.keys();let B=$.resolve();return w.forEach((Z=>{B=B.next((()=>A.getEntry(g,Z))).next((q=>{const G=_.docVersions.get(Z);Ft(G!==null,48541),q.version.compareTo(G)<0&&(b.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),A.addEntry(q)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(i,r,t,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Vt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function ET(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.hi.getLastRemoteSnapshotVersion(i)))}function BI(s,t){const i=Tt(s),r=t.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const p=[];t.targetChanges.forEach(((A,b)=>{const w=o.get(b);if(!w)return;p.push(i.hi.removeMatchingKeys(u,A.removedDocuments,b).next((()=>i.hi.addMatchingKeys(u,A.addedDocuments,b))));let B=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?B=B.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,r)),o=o.insert(b,B),(function(q,G,it){return q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=UI?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(w,B,A)&&p.push(i.hi.updateTargetData(u,B))}));let g=Wi(),_=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(u,A))})),p.push(qI(u,d,t.documentUpdates).next((A=>{g=A.Ls,_=A.ks}))),!r.isEqual(vt.min())){const A=i.hi.getLastRemoteSnapshotVersion(u).next((b=>i.hi.setTargetsMetadata(u,u.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,g,_))).next((()=>g))})).then((u=>(i.Fs=o,u)))}function qI(s,t,i){let r=Vt(),o=Vt();return i.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let d=Wi();return i.forEach(((p,g)=>{const _=u.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(vt.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):st(ip,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{Ls:d,ks:o}}))}function HI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function FI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.hi.getTargetData(r,t).next((u=>u?(o=u,$.resolve(o)):i.hi.allocateTargetId(r).next((d=>(o=new Ys(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.hi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Fs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(r.targetId,r),i.Ms.set(t,r.targetId)),r}))}async function Em(s,t,i){const r=Tt(s),o=r.Fs.get(t),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!hl(d))throw d;st(ip,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(o.target)}function s0(s,t,i){const r=Tt(s);let o=vt.min(),u=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,A){const b=Tt(g),w=b.Ms.get(A);return w!==void 0?$.resolve(b.Fs.get(w)):b.hi.getTargetData(_,A)})(r,d,mi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{u=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?u:Vt()))).next((p=>(GI(r,O2(t),p),{documents:p,qs:u})))))}function GI(s,t,i){let r=s.xs.get(t)||vt.min();i.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.xs.set(t,r)}class r0{constructor(){this.activeTargetIds=U2()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KI{constructor(){this.Fo=new r0,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,i,r){this.Mo[t]=i}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new r0,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class QI{xo(t){}shutdown(){}}const a0="ConnectivityMonitor";class l0{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){st(a0,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){st(a0,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function Tm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Zd="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XI{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+t.host,this.Uo=`projects/${r}/databases/${o}`,this.Ko=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(t,i,r,o,u){const d=Tm(),p=this.Go(t,i.toUriEncodedString());st(Zd,`Sending RPC '${t}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:_}=new URL(p),A=al(_);return this.jo(t,p,g,r,A).then((b=>(st(Zd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw er(Zd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Jo(t,i,r,o,u,d){return this.Wo(t,i,r,o,u)}zo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}Go(t,i){const r=YI[t];return`${this.$o}/v1/${i}:${r}`}terminate(){}}class ZI{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}const Ze="WebChannelConnection";class JI extends XI{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,i,r,o,u){const d=Tm();return new Promise(((p,g)=>{const _=new bE;_.setWithCredentials(!0),_.listenOnce(SE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Lc.NO_ERROR:const b=_.getResponseJson();st(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Lc.TIMEOUT:st(Ze,`RPC '${t}' ${d} timed out`),g(new ot(W.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const w=_.getStatus();if(st(Ze,`RPC '${t}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const Z=B?.error;if(Z&&Z.status&&Z.message){const q=(function(it){const ut=it.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ut)>=0?ut:W.UNKNOWN})(Z.status);g(new ot(q,Z.message))}else g(new ot(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ot(W.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{c_:t,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{st(Ze,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);st(Ze,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}P_(t,i,r){const o=Tm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=IE(),p=RE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,i,r),g.encodeInitMessageHeaders=!0;const A=u.join("");st(Ze,`Creating RPC '${t}' stream ${o}: ${A}`,g);const b=d.createWebChannel(A,g);this.T_(b);let w=!1,B=!1;const Z=new ZI({Ho:G=>{B?st(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(w||(st(Ze,`Opening RPC '${t}' stream ${o} transport.`),b.open(),w=!0),st(Ze,`RPC '${t}' stream ${o} sending:`,G),b.send(G))},Yo:()=>b.close()}),q=(G,it,ut)=>{G.listen(it,(ct=>{try{ut(ct)}catch(_t){setTimeout((()=>{throw _t}),0)}}))};return q(b,vo.EventType.OPEN,(()=>{B||(st(Ze,`RPC '${t}' stream ${o} transport opened.`),Z.s_())})),q(b,vo.EventType.CLOSE,(()=>{B||(B=!0,st(Ze,`RPC '${t}' stream ${o} transport closed`),Z.__(),this.I_(b))})),q(b,vo.EventType.ERROR,(G=>{B||(B=!0,er(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),Z.__(new ot(W.UNAVAILABLE,"The operation could not be completed")))})),q(b,vo.EventType.MESSAGE,(G=>{var it;if(!B){const ut=G.data[0];Ft(!!ut,16349);const ct=ut,_t=ct?.error||((it=ct[0])===null||it===void 0?void 0:it.error);if(_t){st(Ze,`RPC '${t}' stream ${o} received error:`,_t);const $t=_t.status;let Nt=(function(I){const x=Ee[I];if(x!==void 0)return lT(x)})($t),N=_t.message;Nt===void 0&&(Nt=W.INTERNAL,N="Unknown error status: "+$t+" with message "+_t.message),B=!0,Z.__(new ot(Nt,N)),b.close()}else st(Ze,`RPC '${t}' stream ${o} received:`,ut),Z.a_(ut)}})),q(p,wE.STAT_EVENT,(G=>{G.stat===um.PROXY?st(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===um.NOPROXY&&st(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.o_()}),0),Z}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((i=>i===t))}}function Jd(){return typeof document<"u"?document:null}function Sh(s){return new eI(s,!0)}class TT{constructor(t,i,r=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=i,this.d_=r,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const i=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-r);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const o0="PersistentStream";class AT{constructor(t,i,r,o,u,d,p,g){this.Fi=t,this.w_=r,this.S_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new TT(t,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(i)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.b_===i&&this.W_(r,o)}),(r=>{t((()=>{const o=new ot(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(o)}))}))}W_(t,i){const r=this.K_(this.b_);this.stream=this.z_(t,i),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{r((()=>this.G_(o)))})),this.stream.onMessage((o=>{r((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return st(o0,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return i=>{this.Fi.enqueueAndForget((()=>this.b_===t?i():(st(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $I extends AT{constructor(t,i,r,o,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=u}z_(t,i){return this.connection.P_("Listen",t,i)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const i=sI(this.serializer,t),r=(function(u){if(!("targetChange"in u))return vt.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?pi(d.readTime):vt.min()})(t);return this.listener.J_(i,r)}H_(t){const i={};i.database=vm(this.serializer),i.addTarget=(function(u,d){let p;const g=d.target;if(p=mm(g)?{documents:lI(u,g)}:{query:oI(u,g).Vt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=cT(u,d.resumeToken);const _=gm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=rh(u,d.snapshotVersion.toTimestamp());const _=gm(u,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=cI(this.serializer,t);r&&(i.labels=r),this.k_(i)}Y_(t){const i={};i.database=vm(this.serializer),i.removeTarget=t,this.k_(i)}}class WI extends AT{constructor(t,i,r,o,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,i){return this.connection.P_("Write",t,i)}j_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const i=aI(t.writeResults,t.commitTime),r=pi(t.commitTime);return this.listener.ta(r,i)}na(){const t={};t.database=vm(this.serializer),this.k_(t)}X_(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>rI(this.serializer,r)))};this.k_(i)}}class tC{}class eC extends tC{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,r,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(t,ym(i,r),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(W.UNKNOWN,u.toString())}))}Jo(t,i,r,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Jo(t,ym(i,r),o,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(W.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class nC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?($i(i),this._a=!1):st("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const Jr="RemoteStore";class iC{constructor(t,i,r,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo((d=>{r.enqueueAndForget((async()=>{Wr(this)&&(st(Jr,"Restarting streams for network reachability change."),await(async function(g){const _=Tt(g);_.Ia.add(4),await Zo(_),_.Aa.set("Unknown"),_.Ia.delete(4),await wh(_)})(this))}))})),this.Aa=new nC(r,o)}}async function wh(s){if(Wr(s))for(const t of s.da)await t(!0)}async function Zo(s){for(const t of s.da)await t(!1)}function bT(s,t){const i=Tt(s);i.Ta.has(t.targetId)||(i.Ta.set(t.targetId,t),lp(i)?ap(i):fl(i).x_()&&rp(i,t))}function sp(s,t){const i=Tt(s),r=fl(i);i.Ta.delete(t),r.x_()&&ST(i,t),i.Ta.size===0&&(r.x_()?r.B_():Wr(i)&&i.Aa.set("Unknown"))}function rp(s,t){if(s.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fl(s).H_(t)}function ST(s,t){s.Ra.$e(t),fl(s).Y_(t)}function ap(s){s.Ra=new J2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>s.Ta.get(t)||null,lt:()=>s.datastore.serializer.databaseId}),fl(s).start(),s.Aa.aa()}function lp(s){return Wr(s)&&!fl(s).M_()&&s.Ta.size>0}function Wr(s){return Tt(s).Ia.size===0}function wT(s){s.Ra=void 0}async function sC(s){s.Aa.set("Online")}async function rC(s){s.Ta.forEach(((t,i)=>{rp(s,t)}))}async function aC(s,t){wT(s),lp(s)?(s.Aa.la(t),ap(s)):s.Aa.set("Unknown")}async function lC(s,t,i){if(s.Aa.set("Online"),t instanceof uT&&t.state===2&&t.cause)try{await(async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ta.delete(p),o.Ra.removeTarget(p))})(s,t)}catch(r){st(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await lh(s,r)}else if(t instanceof qc?s.Ra.Ye(t):t instanceof oT?s.Ra.it(t):s.Ra.et(t),!i.isEqual(vt.min()))try{const r=await ET(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const p=u.Ra.Pt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const A=u.Ta.get(_);A&&u.Ta.set(_,A.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const A=u.Ta.get(g);if(!A)return;u.Ta.set(g,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),ST(u,g);const b=new Ys(A.target,g,_,A.sequenceNumber);rp(u,b)})),u.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){st(Jr,"Failed to raise snapshot:",r),await lh(s,r)}}async function lh(s,t,i){if(!hl(t))throw t;s.Ia.add(1),await Zo(s),s.Aa.set("Offline"),i||(i=()=>ET(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Jr,"Retrying IndexedDB access"),await i(),s.Ia.delete(1),await wh(s)}))}function RT(s,t){return t().catch((i=>lh(s,i,t)))}async function Rh(s){const t=Tt(s),i=ar(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Hm;for(;oC(t);)try{const o=await HI(t.localStore,r);if(o===null){t.Pa.length===0&&i.B_();break}r=o.batchId,uC(t,o)}catch(o){await lh(t,o)}IT(t)&&CT(t)}function oC(s){return Wr(s)&&s.Pa.length<10}function uC(s,t){s.Pa.push(t);const i=ar(s);i.x_()&&i.Z_&&i.X_(t.mutations)}function IT(s){return Wr(s)&&!ar(s).M_()&&s.Pa.length>0}function CT(s){ar(s).start()}async function cC(s){ar(s).na()}async function hC(s){const t=ar(s);for(const i of s.Pa)t.X_(i.mutations)}async function fC(s,t,i){const r=s.Pa.shift(),o=Jm.from(r,t,i);await RT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Rh(s)}async function dC(s,t){t&&ar(s).Z_&&await(async function(r,o){if((function(d){return X2(d)&&d!==W.ABORTED})(o.code)){const u=r.Pa.shift();ar(r).N_(),await RT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Rh(r)}})(s,t),IT(s)&&CT(s)}async function u0(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),st(Jr,"RemoteStore received new credentials");const r=Wr(i);i.Ia.add(3),await Zo(i),r&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ia.delete(3),await wh(i)}async function mC(s,t){const i=Tt(s);t?(i.Ia.delete(2),await wh(i)):t||(i.Ia.add(2),await Zo(i),i.Aa.set("Unknown"))}function fl(s){return s.Va||(s.Va=(function(i,r,o){const u=Tt(i);return u.ia(),new $I(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:sC.bind(null,s),e_:rC.bind(null,s),n_:aC.bind(null,s),J_:lC.bind(null,s)}),s.da.push((async t=>{t?(s.Va.N_(),lp(s)?ap(s):s.Aa.set("Unknown")):(await s.Va.stop(),wT(s))}))),s.Va}function ar(s){return s.ma||(s.ma=(function(i,r,o){const u=Tt(i);return u.ia(),new WI(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),e_:cC.bind(null,s),n_:dC.bind(null,s),ea:hC.bind(null,s),ta:fC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.N_(),await Rh(s)):(await s.ma.stop(),s.Pa.length>0&&(st(Jr,`Stopping write stream with ${s.Pa.length} pending writes`),s.Pa=[]))}))),s.ma}class op{constructor(t,i,r,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,u){const d=Date.now()+r,p=new op(t,i,d,o,u);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(s,t){if($i("AsyncQueue",`${t}: ${s}`),hl(s))return new ot(W.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=Eo(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class c0{constructor(){this.fa=new ae(dt.comparator)}track(t){const i=t.doc.key,r=this.fa.get(i);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(i,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(i):t.type===1&&r.type===2?this.fa=this.fa.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(i,{type:2,doc:t.doc}):gt(63341,{At:t,ga:r}):this.fa=this.fa.insert(i,t)}pa(){const t=[];return this.fa.inorderTraversal(((i,r)=>{t.push(r)})),t}}class sl{constructor(t,i,r,o,u,d,p,g,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,o,u){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new sl(t,i,Ja.emptySet(i),d,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}class pC{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class gC{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,r){const o=Tt(i),u=o.queries;o.queries=h0(),u.forEach(((d,p)=>{for(const g of p.wa)g.onError(r)}))})(this,new ot(W.ABORTED,"Firestore shutting down"))}}function h0(){return new $r((s=>XE(s)),vh)}async function yC(s,t){const i=Tt(s);let r=3;const o=t.query;let u=i.queries.get(o);u?!u.Sa()&&t.ba()&&(r=2):(u=new pC,r=t.ba()?0:1);try{switch(r){case 0:u.ya=await i.onListen(o,!0);break;case 1:u.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=up(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,u),u.wa.push(t),t.va(i.onlineState),u.ya&&t.Ca(u.ya)&&cp(i)}async function _C(s,t){const i=Tt(s),r=t.query;let o=3;const u=i.queries.get(r);if(u){const d=u.wa.indexOf(t);d>=0&&(u.wa.splice(d,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function vC(s,t){const i=Tt(s);let r=!1;for(const o of t){const u=o.query,d=i.queries.get(u);if(d){for(const p of d.wa)p.Ca(o)&&(r=!0);d.ya=o}}r&&cp(i)}function EC(s,t,i){const r=Tt(s),o=r.queries.get(t);if(o)for(const u of o.wa)u.onError(i);r.queries.delete(t)}function cp(s){s.Da.forEach((t=>{t.next()}))}var Am,f0;(f0=Am||(Am={})).Fa="default",f0.Cache="cache";class TC{constructor(t,i,r){this.query=t,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new sl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),i=!0):this.Ba(t,this.onlineState)&&(this.La(t),i=!0),this.Oa=t,i}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),i=!0),i}Ba(t,i){if(!t.fromCache||!this.ba())return!0;const r=i!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(t){t=sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Am.Cache}}class NT{constructor(t){this.key=t}}class DT{constructor(t){this.key=t}}class AC{constructor(t,i){this.query=t,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=ZE(t),this.eu=new Ja(this.Xa)}get tu(){return this.Ha}nu(t,i){const r=i?i.ru:new c0,o=i?i.eu:this.eu;let u=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,b)=>{const w=o.get(A),B=Eh(this.query,b)?b:null,Z=!!w&&this.mutatedKeys.has(w.key),q=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let G=!1;w&&B?w.data.isEqual(B.data)?Z!==q&&(r.track({type:3,doc:B}),G=!0):this.iu(w,B)||(r.track({type:2,doc:B}),G=!0,(g&&this.Xa(B,g)>0||_&&this.Xa(B,_)<0)&&(p=!0)):!w&&B?(r.track({type:0,doc:B}),G=!0):w&&!B&&(r.track({type:1,doc:w}),G=!0,(g||_)&&(p=!0)),G&&(B?(d=d.add(B),u=q?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{eu:d,ru:r,Ds:p,mutatedKeys:u}}iu(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const d=t.ru.pa();d.sort(((A,b)=>(function(B,Z){const q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{At:G})}};return q(B)-q(Z)})(A.type,b.type)||this.Xa(A.doc,b.doc))),this.su(r),o=o!=null&&o;const p=i&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,_=g!==this.Ya;return this.Ya=g,d.length!==0||_?{snapshot:new sl(this.query,t.eu,u,d,t.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new c0,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((i=>this.Ha=this.Ha.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ha=this.Ha.delete(i))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Vt(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const i=[];return t.forEach((r=>{this.Za.has(r)||i.push(new DT(r))})),this.Za.forEach((r=>{t.has(r)||i.push(new NT(r))})),i}uu(t){this.Ha=t.qs,this.Za=Vt();const i=this.nu(t.documents);return this.applyChanges(i,!0)}cu(){return sl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const hp="SyncEngine";class bC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class SC{constructor(t){this.key=t,this.lu=!1}}class wC{constructor(t,i,r,o,u,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new $r((p=>XE(p)),vh),this.Tu=new Map,this.Iu=new Set,this.du=new ae(dt.comparator),this.Eu=new Map,this.Au=new tp,this.Ru={},this.Vu=new Map,this.mu=il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function RC(s,t,i=!0){const r=PT(s);let o;const u=r.Pu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await OT(r,t,i,!0),o}async function IC(s,t){const i=PT(s);await OT(i,t,!0,!1)}async function OT(s,t,i,r){const o=await FI(s.localStore,mi(t)),u=o.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let p;return r&&(p=await CC(s,t,u,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&bT(s.remoteStore,o),p}async function CC(s,t,i,r,o){s.gu=(b,w,B)=>(async function(q,G,it,ut){let ct=G.view.nu(it);ct.Ds&&(ct=await s0(q.localStore,G.query,!1).then((({documents:N})=>G.view.nu(N,ct))));const _t=ut&&ut.targetChanges.get(G.targetId),$t=ut&&ut.targetMismatches.get(G.targetId)!=null,Nt=G.view.applyChanges(ct,q.isPrimaryClient,_t,$t);return m0(q,G.targetId,Nt._u),Nt.snapshot})(s,b,w,B);const u=await s0(s.localStore,t,!0),d=new AC(t,u.qs),p=d.nu(u.documents),g=Xo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,g);m0(s,i,_._u);const A=new bC(t,i,d);return s.Pu.set(t,A),s.Tu.has(i)?s.Tu.get(i).push(t):s.Tu.set(i,[t]),_.snapshot}async function NC(s,t,i){const r=Tt(s),o=r.Pu.get(t),u=r.Tu.get(o.targetId);if(u.length>1)return r.Tu.set(o.targetId,u.filter((d=>!vh(d,t)))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&sp(r.remoteStore,o.targetId),bm(r,o.targetId)})).catch(cl)):(bm(r,o.targetId),await Em(r.localStore,o.targetId,!0))}async function DC(s,t){const i=Tt(s),r=i.Pu.get(t),o=i.Tu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),sp(i.remoteStore,r.targetId))}async function OC(s,t,i){const r=LC(s);try{const o=await(function(d,p){const g=Tt(d),_=ie.now(),A=p.reduce(((B,Z)=>B.add(Z.key)),Vt());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let Z=Wi(),q=Vt();return g.Os.getEntries(B,A).next((G=>{Z=G,Z.forEach(((it,ut)=>{ut.isValidDocument()||(q=q.add(it))}))})).next((()=>g.localDocuments.getOverlayedDocuments(B,Z))).next((G=>{b=G;const it=[];for(const ut of p){const ct=F2(ut,b.get(ut.key).overlayedDocument);ct!=null&&it.push(new fr(ut.key,ct,qE(ct.value.mapValue),Xn.exists(!0)))}return g.mutationQueue.addMutationBatch(B,_,it,p)})).next((G=>{w=G;const it=G.applyToLocalDocumentSet(b,q);return g.documentOverlayCache.saveOverlays(B,G.batchId,it)}))})).then((()=>({batchId:w.batchId,changes:$E(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,g){let _=d.Ru[d.currentUser.toKey()];_||(_=new ae(Rt)),_=_.insert(p,g),d.Ru[d.currentUser.toKey()]=_})(r,o.batchId,i),await Jo(r,o.changes),await Rh(r.remoteStore)}catch(o){const u=up(o,"Failed to persist write");i.reject(u)}}async function xT(s,t){const i=Tt(s);try{const r=await BI(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const d=i.Eu.get(u);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Ft(d.lu,14607):o.removedDocuments.size>0&&(Ft(d.lu,42227),d.lu=!1))})),await Jo(i,r,t)}catch(r){await cl(r)}}function d0(s,t,i){const r=Tt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Pu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const g=Tt(d);g.onlineState=p;let _=!1;g.queries.forEach(((A,b)=>{for(const w of b.wa)w.va(p)&&(_=!0)})),_&&cp(g)})(r.eventManager,t),o.length&&r.hu.J_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xC(s,t,i){const r=Tt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Eu.get(t),u=o&&o.key;if(u){let d=new ae(dt.comparator);d=d.insert(u,$e.newNoDocument(u,vt.min()));const p=Vt().add(u),g=new bh(vt.min(),new Map,new ae(Rt),d,p);await xT(r,g),r.du=r.du.remove(u),r.Eu.delete(t),fp(r)}else await Em(r.localStore,t,!1).then((()=>bm(r,t,i))).catch(cl)}async function VC(s,t){const i=Tt(s),r=t.batch.batchId;try{const o=await jI(i.localStore,t);MT(i,r,null),VT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Jo(i,o)}catch(o){await cl(o)}}async function MC(s,t,i){const r=Tt(s);try{const o=await(function(d,p){const g=Tt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return g.mutationQueue.lookupMutationBatch(_,p).next((b=>(Ft(b!==null,37113),A=b.keys(),g.mutationQueue.removeMutationBatch(_,b)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>g.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);MT(r,t,i),VT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Jo(r,o)}catch(o){await cl(o)}}function VT(s,t){(s.Vu.get(t)||[]).forEach((i=>{i.resolve()})),s.Vu.delete(t)}function MT(s,t,i){const r=Tt(s);let o=r.Ru[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),r.Ru[r.currentUser.toKey()]=o}}function bm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Tu.get(t))s.Pu.delete(r),i&&s.hu.pu(r,i);s.Tu.delete(t),s.isPrimaryClient&&s.Au.zr(t).forEach((r=>{s.Au.containsKey(r)||kT(s,r)}))}function kT(s,t){s.Iu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(sp(s.remoteStore,i),s.du=s.du.remove(t),s.Eu.delete(i),fp(s))}function m0(s,t,i){for(const r of i)r instanceof NT?(s.Au.addReference(r.key,t),kC(s,r)):r instanceof DT?(st(hp,"Document no longer in limbo: "+r.key),s.Au.removeReference(r.key,t),s.Au.containsKey(r.key)||kT(s,r.key)):gt(19791,{yu:r})}function kC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Iu.has(r)||(st(hp,"New document in limbo: "+i),s.Iu.add(r),fp(s))}function fp(s){for(;s.Iu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Iu.values().next().value;s.Iu.delete(t);const i=new dt(ne.fromString(t)),r=s.mu.next();s.Eu.set(r,new SC(i)),s.du=s.du.insert(i,r),bT(s.remoteStore,new Ys(mi(Ym(i.path)),r,"TargetPurposeLimboResolution",ph.ue))}}async function Jo(s,t,i){const r=Tt(s),o=[],u=[],d=[];r.Pu.isEmpty()||(r.Pu.forEach(((p,g)=>{d.push(r.gu(g,t,i).then((_=>{var A;if((_||i)&&r.isPrimaryClient){const b=_?!_.fromCache:(A=i?.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(_){o.push(_);const b=np.Es(g.targetId,_);u.push(b)}})))})),await Promise.all(d),r.hu.J_(o),await(async function(g,_){const A=Tt(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(_,(w=>$.forEach(w.Is,(B=>A.persistence.referenceDelegate.addReference(b,w.targetId,B))).next((()=>$.forEach(w.ds,(B=>A.persistence.referenceDelegate.removeReference(b,w.targetId,B)))))))))}catch(b){if(!hl(b))throw b;st(ip,"Failed to update sequence numbers: "+b)}for(const b of _){const w=b.targetId;if(!b.fromCache){const B=A.Fs.get(w),Z=B.snapshotVersion,q=B.withLastLimboFreeSnapshotVersion(Z);A.Fs=A.Fs.insert(w,q)}}})(r.localStore,u))}async function PC(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){st(hp,"User change. New user:",t.toKey());const r=await vT(i.localStore,t);i.currentUser=t,(function(u,d){u.Vu.forEach((p=>{p.forEach((g=>{g.reject(new ot(W.CANCELLED,d))}))})),u.Vu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Jo(i,r.Bs)}}function UC(s,t){const i=Tt(s),r=i.Eu.get(t);if(r&&r.lu)return Vt().add(r.key);{let o=Vt();const u=i.Tu.get(t);if(!u)return o;for(const d of u){const p=i.Pu.get(d);o=o.unionWith(p.view.tu)}return o}}function PT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.hu.J_=vC.bind(null,t.eventManager),t.hu.pu=EC.bind(null,t.eventManager),t}function LC(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MC.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,i){return null}Fu(t,i){return null}vu(t){return zI(this.persistence,new PI,t.initialUser,this.serializer)}Du(t){return new _T(ep.Vi,this.serializer)}bu(t){return new KI}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class zC extends oh{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,i){Ft(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new TI(r,t.asyncQueue,i)}Du(t){const i=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new _T((r=>ah.Vi(r,i)),this.serializer)}}class Sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PC.bind(null,this.syncEngine),await mC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new gC})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),r=(function(u){return new JI(u)})(t.databaseInfo);return(function(u,d,p,g){return new eC(u,d,p,g)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,u,d,p){return new iC(r,o,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>d0(this.syncEngine,i,0)),(function(){return l0.C()?new l0:new QI})())}createSyncEngine(t,i){return(function(o,u,d,p,g,_,A){const b=new wC(o,u,d,p,g,_);return A&&(b.fu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await(async function(o){const u=Tt(o);st(Jr,"RemoteStore shutting down."),u.Ia.add(5),await Zo(u),u.Ea.shutdown(),u.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Sm.provider={build:()=>new Sm};class jC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const lr="FirestoreClient";class BC{constructor(t,i,r,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Je.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{st(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=up(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function $d(s,t){s.asyncQueue.verifyOperationInProgress(),st(lr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await vT(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>{er("Terminating Firestore due to IndexedDb database deletion"),s.terminate().then((()=>{st("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{er("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),s._offlineComponents=t}async function p0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await qC(s);st(lr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>u0(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>u0(t.remoteStore,o))),s._onlineComponents=t}async function qC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(lr,"Using user provided OfflineComponentProvider");try{await $d(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;er("Error using user provided cache. Falling back to memory cache: "+i),await $d(s,new oh)}}else st(lr,"Using default OfflineComponentProvider"),await $d(s,new zC(void 0));return s._offlineComponents}async function UT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(lr,"Using user provided OnlineComponentProvider"),await p0(s,s._uninitializedComponentsProvider._online)):(st(lr,"Using default OnlineComponentProvider"),await p0(s,new Sm))),s._onlineComponents}function HC(s){return UT(s).then((t=>t.syncEngine))}async function g0(s){const t=await UT(s),i=t.eventManager;return i.onListen=RC.bind(null,t.syncEngine),i.onUnlisten=NC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=IC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=DC.bind(null,t.syncEngine),i}function LT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const y0=new Map;const zT="firestore.googleapis.com",_0=!0;class v0{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ot(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=_0}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:_0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<vI)throw new ot(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}i2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new YR;switch(r.type){case"firstParty":return new $R(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ot(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=y0.get(i);r&&(st("ComponentProvider","Removing Datastore"),y0.delete(i),r.terminate())})(this),Promise.resolve()}}function FC(s,t,i,r={}){var o;s=Ws(s,Ih);const u=al(t),d=s._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:s._getEmulatorOptions()}),g=`${t}:${i}`;u&&(V0(`https://${g}`),M0("Firestore",!0)),d.host!==zT&&d.host!==g&&er("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:g,ssl:u,emulatorOptions:r});if(!Qr(_,p)&&(s._setSettings(_),r.mockUserToken)){let A,b;if(typeof r.mockUserToken=="string")A=r.mockUserToken,b=Je.MOCK_USER;else{A=sb(r.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ot(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(w)}s._authCredentials=new XR(new NE(A,b))}}class Ch{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class Re{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Qo(i,Re._jsonSchema))return new Re(t,r||null,new dt(ne.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:Te("string",Re._jsonSchemaVersion),referencePath:Te("string")};class tr extends Ch{constructor(t,i,r){super(t,i,Ym(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new dt(t))}withConverter(t){return new tr(this.firestore,t,this._path)}}function E0(s,t,...i){if(s=Me(s),OE("collection","path",t),s instanceof Ih){const r=ne.fromString(t,...i);return xv(r),new tr(s,null,r)}{if(!(s instanceof Re||s instanceof tr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return xv(r),new tr(s.firestore,null,r)}}function uh(s,t,...i){if(s=Me(s),arguments.length===1&&(t=Bm.newId()),OE("doc","path",t),s instanceof Ih){const r=ne.fromString(t,...i);return Ov(r),new Re(s,null,new dt(r))}{if(!(s instanceof Re||s instanceof tr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ne.fromString(t,...i));return Ov(r),new Re(s.firestore,s instanceof tr?s.converter:null,new dt(r))}}const T0="AsyncQueue";class A0{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new TT(this,"async_queue_retry"),this.oc=()=>{const r=Jd();r&&st(T0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const i=Jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const i=Jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const i=new Gr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!hl(t))throw t;st(T0,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const i=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,$i("INTERNAL UNHANDLED ERROR: ",b0(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=i,i}enqueueAfterDelay(t,i,r){this.ac(),this.sc.indexOf(t)>-1&&(i=0);const o=op.createAndSchedule(this,t,i,r,(u=>this.lc(u)));return this.ec.push(o),o}ac(){this.tc&&gt(47125,{hc:b0(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const i of this.ec)if(i.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.ec)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const i=this.ec.indexOf(t);this.ec.splice(i,1)}}function b0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function S0(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class rl extends Ih{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new A0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new A0(t),this._firestoreClient=void 0,await t}}}function GC(s,t){const i=typeof s=="object"?s:L0(),r=typeof s=="string"?s:Wc,o=Dm(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=nb("firestore");u&&FC(o,...u)}return o}function jT(s){if(s._terminated)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||KC(s),s._firestoreClient}function KC(s){var t,i,r;const o=s._freezeSettings(),u=(function(p,g,_,A){return new m2(p,g,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,LT(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new BC(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&(function(p){const g=p?._online.build();return{_offline:p?._offline.build(g),_online:g}})(s._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ke.fromBase64String(t))}catch(i){throw new ot(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Qo(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Te("string",jn._jsonSchemaVersion),bytes:Te("string")};class Nh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class dp{constructor(t){this._methodName=t}}class gi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(t){if(Qo(t,gi._jsonSchema))return new gi(t.latitude,t.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Te("string",gi._jsonSchemaVersion),latitude:Te("number"),longitude:Te("number")};class yi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Qo(t,yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new yi(t.vectorValues);throw new ot(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Te("string",yi._jsonSchemaVersion),vectorValues:Te("object")};const QC=/^__.*__$/;class YC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new fr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yo(t,this.data,i,this.fieldTransforms)}}class BT{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new fr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function qT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ec:s})}}class mp{constructor(t,i,r,o,u,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new mp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:r,mc:!1});return o.fc(t),o}gc(t){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.Rc({path:r,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return ch(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(qT(this.Ec)&&QC.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class XC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Sh(t)}Dc(t,i,r,o=!1){return new mp({Ec:t,methodName:i,bc:r,path:Ge.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HT(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new XC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function ZC(s,t,i,r,o,u={}){const d=s.Dc(u.merge||u.mergeFields?2:0,t,i,o);pp("Data must be an object, but it was:",d,r);const p=FT(r,d);let g,_;if(u.merge)g=new In(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const b of u.mergeFields){const w=wm(t,b,i);if(!d.contains(w))throw new ot(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);KT(A,w)||A.push(w)}g=new In(A),_=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,_=d.fieldTransforms;return new YC(new pn(p),g,_)}class Dh extends dp{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function JC(s,t,i,r){const o=s.Dc(1,t,i);pp("Data must be an object, but it was:",o,r);const u=[],d=pn.empty();hr(r,((g,_)=>{const A=gp(t,g,i);_=Me(_);const b=o.gc(A);if(_ instanceof Dh)u.push(A);else{const w=Oh(_,b);w!=null&&(u.push(A),d.set(A,w))}}));const p=new In(u);return new BT(d,p,o.fieldTransforms)}function $C(s,t,i,r,o,u){const d=s.Dc(1,t,i),p=[wm(t,r,i)],g=[o];if(u.length%2!=0)throw new ot(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(wm(t,u[w])),g.push(u[w+1]);const _=[],A=pn.empty();for(let w=p.length-1;w>=0;--w)if(!KT(_,p[w])){const B=p[w];let Z=g[w];Z=Me(Z);const q=d.gc(B);if(Z instanceof Dh)_.push(B);else{const G=Oh(Z,q);G!=null&&(_.push(B),A.set(B,G))}}const b=new In(_);return new BT(A,b,d.fieldTransforms)}function Oh(s,t){if(GT(s=Me(s)))return pp("Unsupported field value:",t,s),FT(s,t);if(s instanceof dp)return(function(r,o){if(!qT(o.Ec))throw o.wc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(r,o){const u=[];let d=0;for(const p of r){let g=Oh(p,o.yc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=Me(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L2(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ie.fromDate(r);return{timestampValue:rh(o.serializer,u)}}if(r instanceof ie){const u=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(o.serializer,u)}}if(r instanceof gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jn)return{bytesValue:cT(o.serializer,r._byteString)};if(r instanceof Re){const u=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof yi)return(function(d,p){return{mapValue:{fields:{[jE]:{stringValue:BE},[th]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.wc("VectorValues must only contain numeric values.");return Xm(p.serializer,_)}))}}}}}})(r,o);throw o.wc(`Unsupported field value: ${qm(r)}`)})(s,t)}function FT(s,t){const i={};return ME(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hr(s,((r,o)=>{const u=Oh(o,t.Vc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function GT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof gi||s instanceof jn||s instanceof Re||s instanceof dp||s instanceof yi)}function pp(s,t,i){if(!GT(i)||!xE(i)){const r=qm(i);throw r==="an object"?t.wc(s+" a custom object"):t.wc(s+" "+r)}}function wm(s,t,i){if((t=Me(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return gp(s,t);throw ch("Field path arguments must be of type string or ",s,!1,void 0,i)}const WC=new RegExp("[~\\*/\\[\\]]");function gp(s,t,i){if(t.search(WC)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Nh(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ch(s,t,i,r,o){const u=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new ot(W.INVALID_ARGUMENT,p+s+g)}function KT(s,t){return s.some((i=>i.isEqual(t)))}class QT{constructor(t,i,r,o,u){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(YT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tN extends QT{data(){return super.data()}}function YT(s,t){return typeof t=="string"?gp(s,t):t instanceof Nh?t._internalPath:t._delegate._internalPath}function eN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ot(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nN{convertValue(t,i="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return hr(t,((o,u)=>{r[o]=this.convertValue(u,i)})),r}convertVectorValue(t){var i,r,o;const u=(o=(r=(i=t.fields)===null||i===void 0?void 0:i[th].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((d=>me(d.doubleValue)));return new yi(u)}convertGeoPoint(t){return new gi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=yh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Po(t));default:return null}}convertTimestamp(t){const i=ir(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ne.fromString(t);Ft(gT(r),9688,{name:t});const o=new Uo(r.get(1),r.get(3)),u=new dt(r.popFirst(5));return o.isEqual(i)||$i(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function iN(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends QT{constructor(t,i,r,o,u,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(YT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:Te("string",Kr._jsonSchemaVersion),bundleSource:Te("string","DocumentSnapshot"),bundleName:Te("string"),bundle:Te("string")};class Hc extends Kr{data(t={}){return super.data(t)}}class $a{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Hc(this._firestore,this._userDataWriter,r.key,r,new Ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const g=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:sN(p.type),doc:g,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=$a._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function sN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:s})}}$a._jsonSchemaVersion="firestore/querySnapshot/1.0",$a._jsonSchema={type:Te("string",$a._jsonSchemaVersion),bundleSource:Te("string","QuerySnapshot"),bundleName:Te("string"),bundle:Te("string")};class XT extends nN{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function ZT(s,t,i,...r){s=Ws(s,Re);const o=Ws(s.firestore,rl),u=HT(o);let d;return d=typeof(t=Me(t))=="string"||t instanceof Nh?$C(u,"updateDoc",s._key,t,i,r):JC(u,"updateDoc",s._key,t),yp(o,[d.toMutation(s._key,Xn.exists(!0))])}function rN(s){return yp(Ws(s.firestore,rl),[new Zm(s._key,Xn.none())])}function aN(s,t){const i=Ws(s.firestore,rl),r=uh(s),o=iN(s.converter,t);return yp(i,[ZC(HT(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then((()=>r))}function lN(s,...t){var i,r,o;s=Me(s);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||S0(t[d])||(u=t[d++]);const p={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(S0(t[d])){const b=t[d];t[d]=(i=b.next)===null||i===void 0?void 0:i.bind(b),t[d+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),t[d+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let g,_,A;if(s instanceof Re)_=Ws(s.firestore,rl),A=Ym(s._key.path),g={next:b=>{t[d]&&t[d](oN(_,s,b))},error:t[d+1],complete:t[d+2]};else{const b=Ws(s,Ch);_=Ws(b.firestore,rl),A=b._query;const w=new XT(_);g={next:B=>{t[d]&&t[d](new $a(_,w,b,B))},error:t[d+1],complete:t[d+2]},eN(s._query)}return(function(w,B,Z,q){const G=new jC(q),it=new TC(B,G,Z);return w.asyncQueue.enqueueAndForget((async()=>yC(await g0(w),it))),()=>{G.Ou(),w.asyncQueue.enqueueAndForget((async()=>_C(await g0(w),it)))}})(jT(_),A,p,g)}function yp(s,t){return(function(r,o){const u=new Gr;return r.asyncQueue.enqueueAndForget((async()=>OC(await HC(r),o,u))),u.promise})(jT(s),t)}function oN(s,t,i){const r=i.docs.get(t._key),o=new XT(s);return new Kr(s,o,t._key,r,new Ao(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){ul=o})(ll),Wa(new Yr("firestore",((r,{instanceIdentifier:o,options:u})=>{const d=r.getProvider("app").getImmediate(),p=new rl(new ZR(r.getProvider("auth-internal")),new WR(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ot(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uo(_.options.projectId,A)})(d,o),d);return u=Object.assign({useFetchStreams:i},u),p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Js(Rv,Iv,t),Js(Rv,Iv,"esm2017")})();const uN={apiKey:"AIzaSyCNluK3Dplo0pynvM-tjP4EeKtsUc7UOLs",authDomain:"jifenjiangli-sys.firebaseapp.com",projectId:"jifenjiangli-sys",storageBucket:"jifenjiangli-sys.firebasestorage.app",messagingSenderId:"1068802694798",appId:"1:1068802694798:web:358c0f29f91c7cb5af73df",measurementId:"G-HVW2HBJZLS"},JT=U0(uN),Oo=KR(JT),bo=GC(JT),So="star-tracker-production",cN=[{id:1,title:" (7:00)",points:1,type:"daily",lastCompleted:null},{id:2,title:"",points:3,type:"daily",lastCompleted:null},{id:3,title:" 30",points:5,type:"daily",lastCompleted:null}],hN=[{id:101,title:"/",cost:5},{id:102,title:"",cost:2}],fN=[{id:201,title:" 30",cost:10},{id:202,title:"",cost:15}];function dN(){const[s,t]=Zt.useState(null),[i,r]=Zt.useState([]),[o,u]=Zt.useState(null),[d,p]=Zt.useState(!0);Zt.useEffect(()=>{const w=Mw(Oo,B=>{t(B),p(!1)});return()=>w()},[]),Zt.useEffect(()=>{if(!s)return;const w=E0(bo,"artifacts",So,"users",s.uid,"profiles"),B=lN(w,Z=>{const q=Z.docs.map(G=>({id:G.id,...G.data()}));if(r(q),o){const G=q.find(it=>it.id===o.id);G&&u(G)}},Z=>{console.error("Error fetching profiles:",Z)});return()=>B()},[s,o?.id]);const g=async w=>{if(!(!s||!w.trim()))try{await aN(E0(bo,"artifacts",So,"users",s.uid,"profiles"),{name:w,stars:0,tasks:cN,penalties:hN,rewards:fN,createdAt:new Date().toISOString(),lastLoginDate:new Date().toDateString()})}catch(B){console.error("Error adding profile:",B),alert("")}},_=async w=>{if(s)try{await rN(uh(bo,"artifacts",So,"users",s.uid,"profiles",w)),o?.id===w&&u(null)}catch(B){console.error("Deletion failed",B)}},A=w=>{const B=new Date().toDateString();let Z=w.tasks||[],q=!1;w.lastLoginDate!==B&&(Z=Z.map(G=>({...G,lastCompleted:null})),q=!0),q?(ZT(uh(bo,"artifacts",So,"users",s.uid,"profiles",w.id),{tasks:Z,lastLoginDate:B}),u({...w,tasks:Z,lastLoginDate:B})):u(w)},b=async()=>{await kw(Oo),u(null)};return d?P.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center text-slate-400",children:[P.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mr-2"}),"..."]}):s?o?P.jsx(yN,{user:s,profile:o,onBack:()=>u(null)}):P.jsx(gN,{user:s,profiles:i,onCreate:g,onSelect:A,onDelete:_,onLogout:b}):P.jsx(mN,{})}const mN=()=>{const[s,t]=Zt.useState(!1),[i,r]=Zt.useState(""),[o,u]=Zt.useState(""),[d,p]=Zt.useState(""),[g,_]=Zt.useState(!1),A=async w=>{w.preventDefault(),p(""),_(!0);try{s?await Dw(Oo,i,o):await Ow(Oo,i,o)}catch(B){console.error(B);let Z="";B.code==="auth/invalid-email"&&(Z=""),(B.code==="auth/user-not-found"||B.code==="auth/invalid-credential")&&(Z=""),B.code==="auth/email-already-in-use"&&(Z=""),B.code==="auth/weak-password"&&(Z="6"),p(Z)}finally{_(!1)}},b=async()=>{_(!0);try{await Rw(Oo)}catch(w){console.error(w),p("")}finally{_(!1)}};return P.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center p-6 text-slate-50",children:P.jsxs("div",{className:"bg-slate-800 p-8 rounded-2xl shadow-2xl border border-slate-700 max-w-sm w-full",children:[P.jsx("div",{className:"bg-blue-500/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:P.jsx(qA,{className:"w-8 h-8 text-blue-400"})}),P.jsx("h1",{className:"text-2xl font-bold mb-2 text-center",children:""}),P.jsx("p",{className:"text-slate-400 mb-8 text-sm text-center",children:""}),P.jsxs("form",{onSubmit:A,className:"space-y-4",children:[P.jsxs("div",{className:"space-y-2",children:[P.jsxs("div",{className:"relative",children:[P.jsx(FA,{className:"absolute left-3 top-3 w-5 h-5 text-slate-500"}),P.jsx("input",{type:"email",required:!0,placeholder:"",className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",value:i,onChange:w=>r(w.target.value)})]}),P.jsxs("div",{className:"relative",children:[P.jsx(BA,{className:"absolute left-3 top-3 w-5 h-5 text-slate-500"}),P.jsx("input",{type:"password",required:!0,placeholder:"",className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-4 py-3 text-white focus:outline-none focus:border-blue-500 transition-colors",value:o,onChange:w=>u(w.target.value)})]})]}),d&&P.jsx("div",{className:"text-red-400 text-sm text-center bg-red-900/20 py-2 rounded-lg",children:d}),P.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-600 hover:bg-blue-500 disabled:bg-blue-600/50 text-white font-bold py-3 rounded-lg transition-all active:scale-95 flex justify-center items-center",children:g?P.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white"}):s?"":""})]}),P.jsxs("div",{className:"mt-6 flex flex-col gap-3 text-sm text-center",children:[P.jsx("button",{onClick:()=>{t(!s),p("")},className:"text-slate-400 hover:text-white transition-colors",children:s?"":""}),P.jsxs("div",{className:"relative py-2",children:[P.jsx("div",{className:"absolute inset-0 flex items-center",children:P.jsx("div",{className:"w-full border-t border-slate-700"})}),P.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:P.jsx("span",{className:"bg-slate-800 px-2 text-slate-500",children:""})})]}),P.jsx("button",{onClick:b,className:"text-emerald-500 hover:text-emerald-400 font-medium",children:" ()"})]})]})})},pN=({isOpen:s,onClose:t,onConfirm:i,profileName:r})=>{const[o,u]=Zt.useState(1);return Zt.useEffect(()=>{s&&u(1)},[s]),s?P.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:P.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-2xl p-6 max-w-sm w-full shadow-2xl scale-100 animate-in zoom-in-95 duration-200",children:o===1?P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-4",children:P.jsx(Im,{className:"w-6 h-6 text-red-500"})}),P.jsx("h3",{className:"text-xl font-bold text-center text-white mb-2",children:"?"}),P.jsxs("p",{className:"text-slate-400 text-center mb-6",children:[" ",P.jsx("span",{className:"text-white font-bold",children:r})," "]}),P.jsxs("div",{className:"flex gap-3",children:[P.jsx("button",{onClick:t,className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl font-medium text-slate-300 transition-colors",children:""}),P.jsx("button",{onClick:()=>u(2),className:"flex-1 py-3 bg-red-600 hover:bg-red-500 rounded-xl font-bold text-white transition-colors",children:""})]})]}):P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/20 flex items-center justify-center mx-auto mb-4 animate-pulse",children:P.jsx(KA,{className:"w-6 h-6 text-yellow-500"})}),P.jsx("h3",{className:"text-xl font-bold text-center text-white mb-2",children:""}),P.jsxs("p",{className:"text-red-400 text-center mb-6 text-sm bg-red-900/20 p-3 rounded-lg border border-red-900/50",children:["",P.jsx("span",{className:"font-bold underline",children:""}),"",P.jsx("br",{}),""]}),P.jsxs("div",{className:"flex gap-3",children:[P.jsx("button",{onClick:t,className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-xl font-medium text-slate-300 transition-colors",children:""}),P.jsx("button",{onClick:i,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 rounded-xl font-bold text-white shadow-lg shadow-red-600/20 transition-all active:scale-95",children:""})]})]})})}):null},gN=({user:s,profiles:t,onCreate:i,onSelect:r,onDelete:o,onLogout:u})=>{const[d,p]=Zt.useState(!1),[g,_]=Zt.useState(""),[A,b]=Zt.useState({isOpen:!1,profileId:null,profileName:""}),w=q=>{q.preventDefault(),g.trim()&&(i(g),_(""),p(!1))},B=q=>{b({isOpen:!0,profileId:q.id,profileName:q.name})},Z=async()=>{A.profileId&&(await o(A.profileId),b({isOpen:!1,profileId:null,profileName:""}))};return P.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-50 p-6",children:[P.jsx(pN,{isOpen:A.isOpen,profileName:A.profileName,onClose:()=>b({...A,isOpen:!1}),onConfirm:Z}),P.jsxs("div",{className:"max-w-md mx-auto",children:[P.jsxs("header",{className:"mb-8 flex justify-between items-end",children:[P.jsxs("div",{children:[P.jsx("h1",{className:"text-2xl font-bold text-slate-200",children:""}),P.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[": ",s.isAnonymous?"":s.email||""]})]}),P.jsxs("button",{onClick:u,className:"text-xs flex items-center gap-1 text-slate-500 hover:text-slate-300 bg-slate-800 px-3 py-1.5 rounded-full border border-slate-700",children:[P.jsx(HA,{className:"w-3 h-3"})," "]})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[t.map(q=>P.jsxs("div",{className:"relative group",children:[P.jsxs("button",{onClick:()=>r(q),className:"w-full bg-slate-800 hover:bg-slate-700 border-2 border-slate-700 hover:border-blue-500 transition-all rounded-xl p-6 flex flex-col items-center gap-3 relative overflow-hidden",children:[P.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-2xl font-bold shadow-lg z-10",children:q.name[0].toUpperCase()}),P.jsx("div",{className:"text-lg font-bold truncate w-full text-center z-10",children:q.name}),P.jsxs("div",{className:"flex items-center gap-1 text-xs text-yellow-500 bg-yellow-500/10 px-2 py-1 rounded-full z-10",children:[P.jsx(Vc,{className:"w-3 h-3 fill-yellow-500"})," ",q.stars]})]}),P.jsx("button",{onClick:G=>{G.stopPropagation(),B(q)},className:"absolute top-2 right-2 p-2 bg-slate-900 text-slate-400 hover:text-red-500 hover:bg-slate-900 border border-slate-700 hover:border-red-500/50 rounded-full opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-all z-20 shadow-lg",title:"",children:P.jsx(Im,{className:"w-4 h-4"})})]},q.id)),d?P.jsx("div",{className:"w-full bg-slate-800 border-2 border-slate-600 rounded-xl p-4 flex flex-col justify-center min-h-[160px]",children:P.jsxs("form",{onSubmit:w,children:[P.jsx("input",{autoFocus:!0,type:"text",placeholder:"",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-white mb-3 text-center focus:outline-none focus:border-blue-500",value:g,onChange:q=>_(q.target.value)}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 py-2 text-xs bg-slate-700 rounded-lg hover:bg-slate-600",children:""}),P.jsx("button",{type:"submit",className:"flex-1 py-2 text-xs bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:""})]})]})}):P.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-slate-800/50 border-2 border-dashed border-slate-700 hover:border-slate-500 text-slate-500 hover:text-slate-300 transition-all rounded-xl p-6 flex flex-col items-center justify-center gap-3 min-h-[160px]",children:[P.jsx(QA,{className:"w-10 h-10 opacity-50"}),P.jsx("span",{className:"font-medium",children:""})]})]})]})]})},yN=({user:s,profile:t,onBack:i})=>{const[r,o]=Zt.useState("tasks"),[u,d]=Zt.useState(null),p=(q,G="success")=>{d({message:q,type:G}),setTimeout(()=>d(null),2e3)},g=async q=>{try{const G=uh(bo,"artifacts",So,"users",s.uid,"profiles",t.id);await ZT(G,q)}catch(G){console.error("Update failed:",G),p("","error")}},_=q=>{const G=t.tasks.find(_t=>_t.id===q),it=new Date().toDateString();if(G.lastCompleted===it)return;const ut=(t.stars||0)+G.points,ct=t.tasks.map(_t=>_t.id===q?{..._t,lastCompleted:it}:_t);g({stars:ut,tasks:ct}),p(`+${G.points} `)},A=q=>{if(t.stars<=0){p("0","error");return}const G=Math.min(t.stars,q.cost);g({stars:t.stars-G}),p(`: -${G}`,"error")},b=q=>{t.stars>=q.cost?(g({stars:t.stars-q.cost}),p(` ${q.cost} `)):p(` ${q.cost-t.stars} `,"error")},w=(q,G)=>{const it=Date.now(),ut={...G,id:it};q==="task"?g({tasks:[...t.tasks||[],{...ut,lastCompleted:null,type:"daily"}]}):q==="penalty"?g({penalties:[...t.penalties||[],ut]}):q==="reward"&&g({rewards:[...t.rewards||[],ut]}),p("")},B=(q,G)=>{q==="task"&&g({tasks:t.tasks.filter(it=>it.id!==G)}),q==="penalty"&&g({penalties:t.penalties.filter(it=>it.id!==G)}),q==="reward"&&g({rewards:t.rewards.filter(it=>it.id!==G)})},Z=()=>{const q=t.rewards||[],G=t.stars||0,it=q.filter(_t=>_t.cost>G).sort((_t,$t)=>_t.cost-$t.cost)[0],ut=it?it.cost:G+20,ct=Math.min(G/ut*100,100);return P.jsxs("div",{className:"w-full bg-indigo-900/30 rounded-full h-4 mb-4 overflow-hidden border border-indigo-100/20",children:[P.jsx("div",{className:"bg-yellow-400 h-full transition-all duration-500 ease-out shadow-[0_0_10px_rgba(250,204,21,0.6)]",style:{width:`${ct}%`}}),it&&P.jsxs("div",{className:"text-xs text-center text-indigo-200 mt-1",children:[": ",it.title," (",G,"/",it.cost,")"]})]})};return P.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-50 font-sans pb-24",children:[u&&P.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-6 py-3 rounded-full shadow-lg font-bold animate-bounce
          ${u.type==="error"?"bg-red-500 text-white":"bg-yellow-400 text-yellow-900"}
        `,children:u.message}),P.jsx("header",{className:"bg-slate-800 border-b border-slate-700 sticky top-0 z-10 shadow-lg",children:P.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex justify-between items-center",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("button",{onClick:i,className:"p-2 -ml-2 text-slate-400 hover:text-white rounded-full hover:bg-slate-700",children:P.jsx(jA,{className:"w-5 h-5"})}),P.jsxs("div",{children:[P.jsxs("h1",{className:"text-lg font-bold text-slate-200 flex items-center gap-2",children:[t.name,""]}),P.jsx("div",{className:"text-xs text-slate-400",children:new Date().toLocaleDateString()})]})]}),P.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 px-4 py-2 rounded-2xl border border-yellow-500/30 shadow-inner",children:[P.jsx(Vc,{className:"w-6 h-6 text-yellow-400 fill-yellow-400 animate-pulse"}),P.jsx("span",{className:"text-3xl font-black text-yellow-400 tracking-wider font-mono",children:t.stars})]})]})}),P.jsxs("main",{className:"max-w-md mx-auto p-4",children:[P.jsx(Z,{}),r==="tasks"&&P.jsxs("div",{className:"space-y-4",children:[P.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-emerald-400 mb-4",children:[P.jsx(Q_,{className:"w-6 h-6"}),""]}),(t.tasks||[]).length===0&&P.jsx("div",{className:"text-center text-slate-500 py-10",children:""}),(t.tasks||[]).map(q=>{const G=q.lastCompleted===new Date().toDateString();return P.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all duration-300 flex justify-between items-center
                    ${G?"bg-slate-800/50 border-emerald-900/30 opacity-60":"bg-slate-800 border-slate-700 hover:border-emerald-500 hover:shadow-[0_0_15px_rgba(16,185,129,0.2)]"}`,children:[P.jsxs("div",{children:[P.jsx("div",{className:`font-bold text-lg ${G?"line-through text-slate-500":"text-slate-100"}`,children:q.title}),P.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1",children:[P.jsx(Vc,{className:"w-3 h-3 text-yellow-500"})," +",q.points]})]}),P.jsx("button",{onClick:()=>_(q.id),disabled:G,className:`px-4 py-2 rounded-lg font-bold transition-all transform active:scale-95
                      ${G?"bg-emerald-900/20 text-emerald-700 cursor-not-allowed":"bg-emerald-500 hover:bg-emerald-400 text-white shadow-lg shadow-emerald-500/30"}`,children:G?"":""})]},q.id)})]}),r==="penalties"&&P.jsxs("div",{className:"space-y-4",children:[P.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-red-400 mb-4",children:[P.jsx(K_,{className:"w-6 h-6"}),""]}),(t.penalties||[]).map(q=>P.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 flex justify-between items-center hover:border-red-500 transition-colors",children:[P.jsxs("div",{children:[P.jsx("div",{className:"font-bold text-slate-200",children:q.title}),P.jsxs("div",{className:"text-sm text-red-400 font-mono",children:["-",q.cost," "]})]}),P.jsx("button",{onClick:()=>A(q),className:"bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white border border-red-500/50 px-4 py-2 rounded-lg transition-all active:scale-95",children:""})]},q.id))]}),r==="shop"&&P.jsxs("div",{className:"space-y-4",children:[P.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-purple-400 mb-4",children:[P.jsx(Y_,{className:"w-6 h-6"}),""]}),P.jsx("div",{className:"grid grid-cols-2 gap-3",children:(t.rewards||[]).map(q=>{const G=t.stars>=q.cost;return P.jsxs("div",{className:`bg-slate-800 p-4 rounded-xl border-2 flex flex-col justify-between h-40 transition-all
                    ${G?"border-purple-500/30 hover:border-purple-400":"border-slate-700 opacity-50"}
                  `,children:[P.jsx("div",{className:"font-bold text-center text-lg leading-tight mb-2",children:q.title}),P.jsxs("div",{className:"flex flex-col gap-2",children:[P.jsxs("div",{className:"flex justify-center items-center gap-1 text-yellow-400 font-mono font-bold text-xl",children:[P.jsx(Vc,{className:"w-4 h-4 fill-yellow-400"})," ",q.cost]}),P.jsx("button",{onClick:()=>b(q),disabled:!G,className:`w-full py-2 rounded-lg text-sm font-bold transition-transform active:scale-95
                          ${G?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-500/30":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:G?"":""})]})]},q.id)})})]}),r==="manage"&&P.jsx(_N,{tasks:t.tasks||[],penalties:t.penalties||[],rewards:t.rewards||[],onAdd:w,onDelete:B})]}),P.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-slate-800 border-t border-slate-700 pb-safe z-40",children:P.jsxs("div",{className:"max-w-md mx-auto flex justify-around items-center h-16",children:[P.jsx(xc,{active:r==="tasks",onClick:()=>o("tasks"),icon:P.jsx(Q_,{}),label:"",color:"text-emerald-400"}),P.jsx(xc,{active:r==="penalties",onClick:()=>o("penalties"),icon:P.jsx(K_,{}),label:"",color:"text-red-400"}),P.jsx(xc,{active:r==="shop",onClick:()=>o("shop"),icon:P.jsx(Y_,{}),label:"",color:"text-purple-400"}),P.jsx(xc,{active:r==="manage",onClick:()=>o("manage"),icon:P.jsx(R0,{}),label:"",color:"text-blue-400"})]})})]})},xc=({active:s,onClick:t,icon:i,label:r,color:o})=>P.jsxs("button",{onClick:t,className:`flex flex-col items-center justify-center w-full h-full transition-colors
      ${s?o:"text-slate-500 hover:text-slate-300"}
    `,children:[P.jsx("div",{className:`transform transition-transform ${s?"scale-110":""}`,children:NA.cloneElement(i,{size:24})}),P.jsx("span",{className:"text-[10px] font-bold mt-1",children:r})]}),_N=({tasks:s,penalties:t,rewards:i,onAdd:r,onDelete:o})=>{const[u,d]=Zt.useState("task"),[p,g]=Zt.useState(""),[_,A]=Zt.useState(""),b=w=>{if(w.preventDefault(),!p||!_)return;const B=parseInt(_);u==="task"&&r("task",{title:p,points:B}),u==="penalty"&&r("penalty",{title:p,cost:B}),u==="reward"&&r("reward",{title:p,cost:B}),g(""),A("")};return P.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4",children:[P.jsxs("h2",{className:"text-xl font-bold text-blue-400 flex items-center gap-2",children:[P.jsx(R0,{className:"w-6 h-6"})," "]}),P.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700 shadow-xl",children:[P.jsx("h3",{className:"font-bold text-slate-300 mb-3",children:""}),P.jsxs("div",{className:"flex gap-2 mb-4 bg-slate-900 p-1 rounded-lg",children:[P.jsx("button",{onClick:()=>d("task"),className:`flex-1 py-1 text-sm rounded-md ${u==="task"?"bg-emerald-600 text-white":"text-slate-400"}`,children:""}),P.jsx("button",{onClick:()=>d("penalty"),className:`flex-1 py-1 text-sm rounded-md ${u==="penalty"?"bg-red-600 text-white":"text-slate-400"}`,children:""}),P.jsx("button",{onClick:()=>d("reward"),className:`flex-1 py-1 text-sm rounded-md ${u==="reward"?"bg-purple-600 text-white":"text-slate-400"}`,children:""})]}),P.jsxs("form",{onSubmit:b,className:"flex flex-col gap-3",children:[P.jsx("input",{type:"text",placeholder:u==="task"?"":u==="penalty"?"":"",className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",value:p,onChange:w=>g(w.target.value)}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("input",{type:"number",placeholder:"",className:"w-24 bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white placeholder-slate-400 focus:outline-none focus:border-blue-500",value:_,onChange:w=>A(w.target.value)}),P.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg flex items-center justify-center gap-2",children:[P.jsx(GA,{className:"w-4 h-4"})," "]})]})]})]}),P.jsxs("div",{className:"space-y-6",children:[P.jsx(Wd,{title:"",items:s,type:"task",onDelete:o,color:"text-emerald-400"}),P.jsx(Wd,{title:"",items:t,type:"penalty",onDelete:o,color:"text-red-400"}),P.jsx(Wd,{title:"",items:i,type:"reward",onDelete:o,color:"text-purple-400"})]})]})},Wd=({title:s,items:t,type:i,onDelete:r,color:o})=>P.jsxs("div",{children:[P.jsx("h4",{className:`font-bold text-sm mb-2 ${o}`,children:s}),P.jsxs("div",{className:"space-y-2",children:[t.map(u=>P.jsxs("div",{className:"flex justify-between items-center bg-slate-800/50 px-3 py-2 rounded-lg border border-slate-700/50",children:[P.jsx("span",{className:"text-slate-300 text-sm",children:u.title}),P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("span",{className:"text-slate-400 text-xs font-mono",children:i==="task"?`+${u.points}`:`-${u.cost}`}),P.jsx("button",{onClick:()=>r(i,u.id),className:"text-slate-500 hover:text-red-400",children:P.jsx(Im,{className:"w-4 h-4"})})]})]},u.id)),t.length===0&&P.jsx("div",{className:"text-xs text-slate-600 italic",children:""})]})]});PA.createRoot(document.getElementById("root")).render(P.jsx(Zt.StrictMode,{children:P.jsx(dN,{})}));
